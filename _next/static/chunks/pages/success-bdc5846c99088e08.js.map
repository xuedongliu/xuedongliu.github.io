{"version":3,"file":"static/chunks/pages/success-bdc5846c99088e08.js","mappings":"mFACKA,OAAOC,SAAWD,OAAOC,UAAY,IAAIC,KAAK,CAC7C,WACA,WACE,OAAO,EAAQ,S,gHCAR,SAASC,IACtB,IAAkCC,GAAAA,EAAAA,EAAAA,UAAS,GAApCC,EAA2BD,EAAW,GAA3BE,EAAgBF,EAAW,GAkB7C,OAhBAG,EAAAA,EAAAA,YAAU,WAER,IAAMC,EAAwBR,OAAOQ,OAC/B,OAANA,QAAM,IAANA,GAAAA,EAAQC,YAAYC,EAAAA,IAEpB,IAAMC,EAAKC,aAAY,WACrBN,GAAa,SAACO,GACZ,OAAIA,EAAK,EAAUA,EAAK,GAExBC,cAAcH,GACdX,OAAOe,QACAF,QAER,OACF,KAGD,SAACG,MAAG,CAACC,UAAU,sD,UACb,UAACD,MAAG,C,WACF,SAACE,KAAE,CAACD,UAAU,0C,SAA0C,mBAGxD,UAACE,IAAC,CAACF,UAAU,+C,UAA+C,6BAC/BZ,EAAU,gB","sources":["webpack://_N_E/?594b","webpack://_N_E/./src/pages/success.tsx"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/success\",\n      function () {\n        return require(\"private-next-pages/success.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/success\"])\n      });\n    }\n  ","import { useState, useEffect } from 'react'\n\nimport { OAUTH_SUCCESS_MESSAGE } from '../sync'\n\nexport default function Success() {\n  const [countdown, setCountdown] = useState(3)\n\n  useEffect(() => {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/opener\n    const opener: Window | null = window.opener\n    opener?.postMessage(OAUTH_SUCCESS_MESSAGE)\n\n    const id = setInterval(() => {\n      setCountdown((cd) => {\n        if (cd > 1) return cd - 1\n\n        clearInterval(id)\n        window.close()\n        return cd\n      })\n    }, 1000)\n  }, [])\n\n  return (\n    <div className=\"flex h-full items-center justify-center text-center\">\n      <div>\n        <h1 className=\"typescale-headline-large text-green-600\">\n          Oauth success\n        </h1>\n        <p className=\"typescale-body-large text-on-surface-variant\">\n          This window will close in {countdown}s.\n        </p>\n      </div>\n    </div>\n  )\n}\n"],"names":["window","__NEXT_P","push","Success","useState","countdown","setCountdown","useEffect","opener","postMessage","OAUTH_SUCCESS_MESSAGE","id","setInterval","cd","clearInterval","close","div","className","h1","p"],"sourceRoot":""}