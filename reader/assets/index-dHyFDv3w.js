(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();/**
* @vue/shared v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sa(i){const e=Object.create(null);for(const t of i.split(","))e[t]=1;return t=>t in e}const st={},fr=[],li=()=>{},Pf=()=>!1,Gn=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),aa=i=>i.startsWith("onUpdate:"),Dt=Object.assign,oa=(i,e)=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)},zf=Object.prototype.hasOwnProperty,Ve=(i,e)=>zf.call(i,e),ke=Array.isArray,hr=i=>Zn(i)==="[object Map]",lu=i=>Zn(i)==="[object Set]",Ne=i=>typeof i=="function",_t=i=>typeof i=="string",Bi=i=>typeof i=="symbol",lt=i=>i!==null&&typeof i=="object",fu=i=>(lt(i)||Ne(i))&&Ne(i.then)&&Ne(i.catch),hu=Object.prototype.toString,Zn=i=>hu.call(i),Mf=i=>Zn(i).slice(8,-1),cu=i=>Zn(i)==="[object Object]",ua=i=>_t(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Or=sa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yn=i=>{const e=Object.create(null);return t=>e[t]||(e[t]=i(t))},Uf=/-(\w)/g,Zt=Yn(i=>i.replace(Uf,(e,t)=>t?t.toUpperCase():"")),jf=/\B([A-Z])/g,Zi=Yn(i=>i.replace(jf,"-$1").toLowerCase()),Xn=Yn(i=>i.charAt(0).toUpperCase()+i.slice(1)),gs=Yn(i=>i?`on${Xn(i)}`:""),Oi=(i,e)=>!Object.is(i,e),vs=(i,...e)=>{for(let t=0;t<i.length;t++)i[t](...e)},du=(i,e,t,r=!1)=>{Object.defineProperty(i,e,{configurable:!0,enumerable:!1,writable:r,value:t})},Wf=i=>{const e=parseFloat(i);return isNaN(e)?i:e};let Ka;const pu=()=>Ka||(Ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function la(i){if(ke(i)){const e={};for(let t=0;t<i.length;t++){const r=i[t],n=_t(r)?Vf(r):la(r);if(n)for(const s in n)e[s]=n[s]}return e}else if(_t(i)||lt(i))return i}const qf=/;(?![^(]*\))/g,Hf=/:([^]+)/,$f=/\/\*[^]*?\*\//g;function Vf(i){const e={};return i.replace($f,"").split(qf).forEach(t=>{if(t){const r=t.split(Hf);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function vr(i){let e="";if(_t(i))e=i;else if(ke(i))for(let t=0;t<i.length;t++){const r=vr(i[t]);r&&(e+=r+" ")}else if(lt(i))for(const t in i)i[t]&&(e+=t+" ");return e.trim()}const Gf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Zf=sa(Gf);function gu(i){return!!i||i===""}const vu=i=>!!(i&&i.__v_isRef===!0),Qr=i=>_t(i)?i:i==null?"":ke(i)||lt(i)&&(i.toString===hu||!Ne(i.toString))?vu(i)?Qr(i.value):JSON.stringify(i,mu,2):String(i),mu=(i,e)=>vu(e)?mu(i,e.value):hr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,n],s)=>(t[ms(r,s)+" =>"]=n,t),{})}:lu(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>ms(t))}:Bi(e)?ms(e):lt(e)&&!ke(e)&&!cu(e)?String(e):e,ms=(i,e="")=>{var t;return Bi(i)?`Symbol(${(t=i.description)!=null?t:e})`:i};/**
* @vue/reactivity v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jt;class yu{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=jt,!e&&jt&&(this.index=(jt.scopes||(jt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=jt;try{return jt=this,e()}finally{jt=t}}}on(){jt=this}off(){jt=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function Yf(i){return new yu(i)}function Xf(){return jt}let nt;const ys=new WeakSet;class bu{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,jt&&jt.active&&jt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ys.has(this)&&(ys.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ja(this),Eu(this);const e=nt,t=ri;nt=this,ri=!0;try{return this.fn()}finally{xu(this),nt=e,ri=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ca(e);this.deps=this.depsTail=void 0,Ja(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ys.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ms(this)&&this.run()}get dirty(){return Ms(this)}}let _u=0,Br,Lr;function wu(i,e=!1){if(i.flags|=8,e){i.next=Lr,Lr=i;return}i.next=Br,Br=i}function fa(){_u++}function ha(){if(--_u>0)return;if(Lr){let e=Lr;for(Lr=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let i;for(;Br;){let e=Br;for(Br=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){i||(i=r)}e=t}}if(i)throw i}function Eu(i){for(let e=i.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function xu(i){let e,t=i.depsTail,r=t;for(;r;){const n=r.prevDep;r.version===-1?(r===t&&(t=n),ca(r),Kf(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}i.deps=e,i.depsTail=t}function Ms(i){for(let e=i.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Au(e.dep.computed)||e.dep.version!==e.version))return!0;return!!i._dirty}function Au(i){if(i.flags&4&&!(i.flags&16)||(i.flags&=-17,i.globalVersion===jr))return;i.globalVersion=jr;const e=i.dep;if(i.flags|=2,e.version>0&&!i.isSSR&&i.deps&&!Ms(i)){i.flags&=-3;return}const t=nt,r=ri;nt=i,ri=!0;try{Eu(i);const n=i.fn(i._value);(e.version===0||Oi(n,i._value))&&(i._value=n,e.version++)}catch(n){throw e.version++,n}finally{nt=t,ri=r,xu(i),i.flags&=-3}}function ca(i,e=!1){const{dep:t,prevSub:r,nextSub:n}=i;if(r&&(r.nextSub=n,i.prevSub=void 0),n&&(n.prevSub=r,i.nextSub=void 0),t.subs===i&&(t.subs=r),!t.subs&&t.computed){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)ca(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Kf(i){const{prevDep:e,nextDep:t}=i;e&&(e.nextDep=t,i.prevDep=void 0),t&&(t.prevDep=e,i.nextDep=void 0)}let ri=!0;const Du=[];function Li(){Du.push(ri),ri=!1}function Fi(){const i=Du.pop();ri=i===void 0?!0:i}function Ja(i){const{cleanup:e}=i;if(i.cleanup=void 0,e){const t=nt;nt=void 0;try{e()}finally{nt=t}}}let jr=0;class Jf{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class da{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!nt||!ri||nt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==nt)t=this.activeLink=new Jf(nt,this),nt.deps?(t.prevDep=nt.depsTail,nt.depsTail.nextDep=t,nt.depsTail=t):nt.deps=nt.depsTail=t,Cu(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const r=t.nextDep;r.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=r),t.prevDep=nt.depsTail,t.nextDep=void 0,nt.depsTail.nextDep=t,nt.depsTail=t,nt.deps===t&&(nt.deps=r)}return t}trigger(e){this.version++,jr++,this.notify(e)}notify(e){fa();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{ha()}}}function Cu(i){if(i.dep.sc++,i.sub.flags&4){const e=i.dep.computed;if(e&&!i.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Cu(r)}const t=i.dep.subs;t!==i&&(i.prevSub=t,t&&(t.nextSub=i)),i.dep.subs=i}}const Us=new WeakMap,qi=Symbol(""),js=Symbol(""),Wr=Symbol("");function Nt(i,e,t){if(ri&&nt){let r=Us.get(i);r||Us.set(i,r=new Map);let n=r.get(t);n||(r.set(t,n=new da),n.map=r,n.key=t),n.track()}}function yi(i,e,t,r,n,s){const a=Us.get(i);if(!a){jr++;return}const o=u=>{u&&u.trigger()};if(fa(),e==="clear")a.forEach(o);else{const u=ke(i),f=u&&ua(t);if(u&&t==="length"){const l=Number(r);a.forEach((c,p)=>{(p==="length"||p===Wr||!Bi(p)&&p>=l)&&o(c)})}else switch(t!==void 0&&o(a.get(t)),f&&o(a.get(Wr)),e){case"add":u?f&&o(a.get("length")):(o(a.get(qi)),hr(i)&&o(a.get(js)));break;case"delete":u||(o(a.get(qi)),hr(i)&&o(a.get(js)));break;case"set":hr(i)&&o(a.get(qi));break}}ha()}function Qi(i){const e=Ge(i);return e===i?e:(Nt(e,"iterate",Wr),Gt(i)?e:e.map(St))}function Kn(i){return Nt(i=Ge(i),"iterate",Wr),i}const Qf={__proto__:null,[Symbol.iterator](){return bs(this,Symbol.iterator,St)},concat(...i){return Qi(this).concat(...i.map(e=>ke(e)?Qi(e):e))},entries(){return bs(this,"entries",i=>(i[1]=St(i[1]),i))},every(i,e){return gi(this,"every",i,e,void 0,arguments)},filter(i,e){return gi(this,"filter",i,e,t=>t.map(St),arguments)},find(i,e){return gi(this,"find",i,e,St,arguments)},findIndex(i,e){return gi(this,"findIndex",i,e,void 0,arguments)},findLast(i,e){return gi(this,"findLast",i,e,St,arguments)},findLastIndex(i,e){return gi(this,"findLastIndex",i,e,void 0,arguments)},forEach(i,e){return gi(this,"forEach",i,e,void 0,arguments)},includes(...i){return _s(this,"includes",i)},indexOf(...i){return _s(this,"indexOf",i)},join(i){return Qi(this).join(i)},lastIndexOf(...i){return _s(this,"lastIndexOf",i)},map(i,e){return gi(this,"map",i,e,void 0,arguments)},pop(){return Dr(this,"pop")},push(...i){return Dr(this,"push",i)},reduce(i,...e){return Qa(this,"reduce",i,e)},reduceRight(i,...e){return Qa(this,"reduceRight",i,e)},shift(){return Dr(this,"shift")},some(i,e){return gi(this,"some",i,e,void 0,arguments)},splice(...i){return Dr(this,"splice",i)},toReversed(){return Qi(this).toReversed()},toSorted(i){return Qi(this).toSorted(i)},toSpliced(...i){return Qi(this).toSpliced(...i)},unshift(...i){return Dr(this,"unshift",i)},values(){return bs(this,"values",St)}};function bs(i,e,t){const r=Kn(i),n=r[e]();return r!==i&&!Gt(i)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=t(s.value)),s}),n}const eh=Array.prototype;function gi(i,e,t,r,n,s){const a=Kn(i),o=a!==i&&!Gt(i),u=a[e];if(u!==eh[e]){const c=u.apply(i,s);return o?St(c):c}let f=t;a!==i&&(o?f=function(c,p){return t.call(this,St(c),p,i)}:t.length>2&&(f=function(c,p){return t.call(this,c,p,i)}));const l=u.call(a,f,r);return o&&n?n(l):l}function Qa(i,e,t,r){const n=Kn(i);let s=t;return n!==i&&(Gt(i)?t.length>3&&(s=function(a,o,u){return t.call(this,a,o,u,i)}):s=function(a,o,u){return t.call(this,a,St(o),u,i)}),n[e](s,...r)}function _s(i,e,t){const r=Ge(i);Nt(r,"iterate",Wr);const n=r[e](...t);return(n===-1||n===!1)&&ya(t[0])?(t[0]=Ge(t[0]),r[e](...t)):n}function Dr(i,e,t=[]){Li(),fa();const r=Ge(i)[e].apply(i,t);return ha(),Fi(),r}const th=sa("__proto__,__v_isRef,__isVue"),Su=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(Bi));function ih(i){Bi(i)||(i=String(i));const e=Ge(this);return Nt(e,"has",i),e.hasOwnProperty(i)}class Tu{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){const n=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!n;if(t==="__v_isReadonly")return n;if(t==="__v_isShallow")return s;if(t==="__v_raw")return r===(n?s?gh:Iu:s?Ru:Nu).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=ke(e);if(!n){let u;if(a&&(u=Qf[t]))return u;if(t==="hasOwnProperty")return ih}const o=Reflect.get(e,t,kt(e)?e:r);return(Bi(t)?Su.has(t):th(t))||(n||Nt(e,"get",t),s)?o:kt(o)?a&&ua(t)?o:o.value:lt(o)?n?Ou(o):va(o):o}}class ku extends Tu{constructor(e=!1){super(!1,e)}set(e,t,r,n){let s=e[t];if(!this._isShallow){const u=$i(s);if(!Gt(r)&&!$i(r)&&(s=Ge(s),r=Ge(r)),!ke(e)&&kt(s)&&!kt(r))return u?!1:(s.value=r,!0)}const a=ke(e)&&ua(t)?Number(t)<e.length:Ve(e,t),o=Reflect.set(e,t,r,kt(e)?e:n);return e===Ge(n)&&(a?Oi(r,s)&&yi(e,"set",t,r):yi(e,"add",t,r)),o}deleteProperty(e,t){const r=Ve(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&yi(e,"delete",t,void 0),n}has(e,t){const r=Reflect.has(e,t);return(!Bi(t)||!Su.has(t))&&Nt(e,"has",t),r}ownKeys(e){return Nt(e,"iterate",ke(e)?"length":qi),Reflect.ownKeys(e)}}class rh extends Tu{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const nh=new ku,sh=new rh,ah=new ku(!0);const pa=i=>i,Jn=i=>Reflect.getPrototypeOf(i);function cn(i,e,t=!1,r=!1){i=i.__v_raw;const n=Ge(i),s=Ge(e);t||(Oi(e,s)&&Nt(n,"get",e),Nt(n,"get",s));const{has:a}=Jn(n),o=r?pa:t?ba:St;if(a.call(n,e))return o(i.get(e));if(a.call(n,s))return o(i.get(s));i!==n&&i.get(e)}function dn(i,e=!1){const t=this.__v_raw,r=Ge(t),n=Ge(i);return e||(Oi(i,n)&&Nt(r,"has",i),Nt(r,"has",n)),i===n?t.has(i):t.has(i)||t.has(n)}function pn(i,e=!1){return i=i.__v_raw,!e&&Nt(Ge(i),"iterate",qi),Reflect.get(i,"size",i)}function eo(i,e=!1){!e&&!Gt(i)&&!$i(i)&&(i=Ge(i));const t=Ge(this);return Jn(t).has.call(t,i)||(t.add(i),yi(t,"add",i,i)),this}function to(i,e,t=!1){!t&&!Gt(e)&&!$i(e)&&(e=Ge(e));const r=Ge(this),{has:n,get:s}=Jn(r);let a=n.call(r,i);a||(i=Ge(i),a=n.call(r,i));const o=s.call(r,i);return r.set(i,e),a?Oi(e,o)&&yi(r,"set",i,e):yi(r,"add",i,e),this}function io(i){const e=Ge(this),{has:t,get:r}=Jn(e);let n=t.call(e,i);n||(i=Ge(i),n=t.call(e,i)),r&&r.call(e,i);const s=e.delete(i);return n&&yi(e,"delete",i,void 0),s}function ro(){const i=Ge(this),e=i.size!==0,t=i.clear();return e&&yi(i,"clear",void 0,void 0),t}function gn(i,e){return function(r,n){const s=this,a=s.__v_raw,o=Ge(a),u=e?pa:i?ba:St;return!i&&Nt(o,"iterate",qi),a.forEach((f,l)=>r.call(n,u(f),u(l),s))}}function vn(i,e,t){return function(...r){const n=this.__v_raw,s=Ge(n),a=hr(s),o=i==="entries"||i===Symbol.iterator&&a,u=i==="keys"&&a,f=n[i](...r),l=t?pa:e?ba:St;return!e&&Nt(s,"iterate",u?js:qi),{next(){const{value:c,done:p}=f.next();return p?{value:c,done:p}:{value:o?[l(c[0]),l(c[1])]:l(c),done:p}},[Symbol.iterator](){return this}}}}function Ci(i){return function(...e){return i==="delete"?!1:i==="clear"?void 0:this}}function oh(){const i={get(s){return cn(this,s)},get size(){return pn(this)},has:dn,add:eo,set:to,delete:io,clear:ro,forEach:gn(!1,!1)},e={get(s){return cn(this,s,!1,!0)},get size(){return pn(this)},has:dn,add(s){return eo.call(this,s,!0)},set(s,a){return to.call(this,s,a,!0)},delete:io,clear:ro,forEach:gn(!1,!0)},t={get(s){return cn(this,s,!0)},get size(){return pn(this,!0)},has(s){return dn.call(this,s,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:gn(!0,!1)},r={get(s){return cn(this,s,!0,!0)},get size(){return pn(this,!0)},has(s){return dn.call(this,s,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:gn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{i[s]=vn(s,!1,!1),t[s]=vn(s,!0,!1),e[s]=vn(s,!1,!0),r[s]=vn(s,!0,!0)}),[i,t,e,r]}const[uh,lh,fh,hh]=oh();function ga(i,e){const t=e?i?hh:fh:i?lh:uh;return(r,n,s)=>n==="__v_isReactive"?!i:n==="__v_isReadonly"?i:n==="__v_raw"?r:Reflect.get(Ve(t,n)&&n in r?t:r,n,s)}const ch={get:ga(!1,!1)},dh={get:ga(!1,!0)},ph={get:ga(!0,!1)};const Nu=new WeakMap,Ru=new WeakMap,Iu=new WeakMap,gh=new WeakMap;function vh(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mh(i){return i.__v_skip||!Object.isExtensible(i)?0:vh(Mf(i))}function va(i){return $i(i)?i:ma(i,!1,nh,ch,Nu)}function yh(i){return ma(i,!1,ah,dh,Ru)}function Ou(i){return ma(i,!0,sh,ph,Iu)}function ma(i,e,t,r,n){if(!lt(i)||i.__v_raw&&!(e&&i.__v_isReactive))return i;const s=n.get(i);if(s)return s;const a=mh(i);if(a===0)return i;const o=new Proxy(i,a===2?r:t);return n.set(i,o),o}function cr(i){return $i(i)?cr(i.__v_raw):!!(i&&i.__v_isReactive)}function $i(i){return!!(i&&i.__v_isReadonly)}function Gt(i){return!!(i&&i.__v_isShallow)}function ya(i){return i?!!i.__v_raw:!1}function Ge(i){const e=i&&i.__v_raw;return e?Ge(e):i}function Bu(i){return!Ve(i,"__v_skip")&&Object.isExtensible(i)&&du(i,"__v_skip",!0),i}const St=i=>lt(i)?va(i):i,ba=i=>lt(i)?Ou(i):i;function kt(i){return i?i.__v_isRef===!0:!1}function bi(i){return bh(i,!1)}function bh(i,e){return kt(i)?i:new _h(i,e)}class _h{constructor(e,t){this.dep=new da,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Ge(e),this._value=t?e:St(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,r=this.__v_isShallow||Gt(e)||$i(e);e=r?e:Ge(e),Oi(e,t)&&(this._rawValue=e,this._value=r?e:St(e),this.dep.trigger())}}function qr(i){return kt(i)?i.value:i}const wh={get:(i,e,t)=>e==="__v_raw"?i:qr(Reflect.get(i,e,t)),set:(i,e,t,r)=>{const n=i[e];return kt(n)&&!kt(t)?(n.value=t,!0):Reflect.set(i,e,t,r)}};function Lu(i){return cr(i)?i:new Proxy(i,wh)}class Eh{constructor(e,t,r){this.fn=e,this.setter=t,this._value=void 0,this.dep=new da(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=jr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&nt!==this)return wu(this,!0),!0}get value(){const e=this.dep.track();return Au(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function xh(i,e,t=!1){let r,n;return Ne(i)?r=i:(r=i.get,n=i.set),new Eh(r,n,t)}const mn={},Tn=new WeakMap;let Wi;function Ah(i,e=!1,t=Wi){if(t){let r=Tn.get(t);r||Tn.set(t,r=[]),r.push(i)}}function Dh(i,e,t=st){const{immediate:r,deep:n,once:s,scheduler:a,augmentJob:o,call:u}=t,f=k=>n?k:Gt(k)||n===!1||n===0?Ni(k,1):Ni(k);let l,c,p,v,C=!1,T=!1;if(kt(i)?(c=()=>i.value,C=Gt(i)):cr(i)?(c=()=>f(i),C=!0):ke(i)?(T=!0,C=i.some(k=>cr(k)||Gt(k)),c=()=>i.map(k=>{if(kt(k))return k.value;if(cr(k))return f(k);if(Ne(k))return u?u(k,2):k()})):Ne(i)?e?c=u?()=>u(i,2):i:c=()=>{if(p){Li();try{p()}finally{Fi()}}const k=Wi;Wi=l;try{return u?u(i,3,[v]):i(v)}finally{Wi=k}}:c=li,e&&n){const k=c,_=n===!0?1/0:n;c=()=>Ni(k(),_)}const d=Xf(),g=()=>{l.stop(),d&&oa(d.effects,l)};if(s&&e){const k=e;e=(..._)=>{k(..._),g()}}let y=T?new Array(i.length).fill(mn):mn;const x=k=>{if(!(!(l.flags&1)||!l.dirty&&!k))if(e){const _=l.run();if(n||C||(T?_.some((D,N)=>Oi(D,y[N])):Oi(_,y))){p&&p();const D=Wi;Wi=l;try{const N=[_,y===mn?void 0:T&&y[0]===mn?[]:y,v];u?u(e,3,N):e(...N),y=_}finally{Wi=D}}}else l.run()};return o&&o(x),l=new bu(c),l.scheduler=a?()=>a(x,!1):x,v=k=>Ah(k,!1,l),p=l.onStop=()=>{const k=Tn.get(l);if(k){if(u)u(k,4);else for(const _ of k)_();Tn.delete(l)}},e?r?x(!0):y=l.run():a?a(x.bind(null,!0),!0):l.run(),g.pause=l.pause.bind(l),g.resume=l.resume.bind(l),g.stop=g,g}function Ni(i,e=1/0,t){if(e<=0||!lt(i)||i.__v_skip||(t=t||new Set,t.has(i)))return i;if(t.add(i),e--,kt(i))Ni(i.value,e,t);else if(ke(i))for(let r=0;r<i.length;r++)Ni(i[r],e,t);else if(lu(i)||hr(i))i.forEach(r=>{Ni(r,e,t)});else if(cu(i)){for(const r in i)Ni(i[r],e,t);for(const r of Object.getOwnPropertySymbols(i))Object.prototype.propertyIsEnumerable.call(i,r)&&Ni(i[r],e,t)}return i}/**
* @vue/runtime-core v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function en(i,e,t,r){try{return r?i(...r):i()}catch(n){Qn(n,e,t)}}function di(i,e,t,r){if(Ne(i)){const n=en(i,e,t,r);return n&&fu(n)&&n.catch(s=>{Qn(s,e,t)}),n}if(ke(i)){const n=[];for(let s=0;s<i.length;s++)n.push(di(i[s],e,t,r));return n}}function Qn(i,e,t,r=!0){const n=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||st;if(e){let o=e.parent;const u=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${t}`;for(;o;){const l=o.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](i,u,f)===!1)return}o=o.parent}if(s){Li(),en(s,null,10,[i,u,f]),Fi();return}}Ch(i,t,n,r,a)}function Ch(i,e,t,r=!0,n=!1){if(n)throw i;console.error(i)}const Ot=[];let oi=-1;const dr=[];let Ti=null,sr=0;const Fu=Promise.resolve();let kn=null;function Sh(i){const e=kn||Fu;return i?e.then(this?i.bind(this):i):e}function Th(i){let e=oi+1,t=Ot.length;for(;e<t;){const r=e+t>>>1,n=Ot[r],s=Hr(n);s<i||s===i&&n.flags&2?e=r+1:t=r}return e}function _a(i){if(!(i.flags&1)){const e=Hr(i),t=Ot[Ot.length-1];!t||!(i.flags&2)&&e>=Hr(t)?Ot.push(i):Ot.splice(Th(e),0,i),i.flags|=1,Pu()}}function Pu(){kn||(kn=Fu.then(Mu))}function kh(i){ke(i)?dr.push(...i):Ti&&i.id===-1?Ti.splice(sr+1,0,i):i.flags&1||(dr.push(i),i.flags|=1),Pu()}function no(i,e,t=oi+1){for(;t<Ot.length;t++){const r=Ot[t];if(r&&r.flags&2){if(i&&r.id!==i.uid)continue;Ot.splice(t,1),t--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function zu(i){if(dr.length){const e=[...new Set(dr)].sort((t,r)=>Hr(t)-Hr(r));if(dr.length=0,Ti){Ti.push(...e);return}for(Ti=e,sr=0;sr<Ti.length;sr++){const t=Ti[sr];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Ti=null,sr=0}}const Hr=i=>i.id==null?i.flags&2?-1:1/0:i.id;function Mu(i){try{for(oi=0;oi<Ot.length;oi++){const e=Ot[oi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),en(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;oi<Ot.length;oi++){const e=Ot[oi];e&&(e.flags&=-2)}oi=-1,Ot.length=0,zu(),kn=null,(Ot.length||dr.length)&&Mu()}}let ii=null,Uu=null;function Nn(i){const e=ii;return ii=i,Uu=i&&i.type.__scopeId||null,e}function Nh(i,e=ii,t){if(!e||i._n)return i;const r=(...n)=>{r._d&&po(-1);const s=Nn(e);let a;try{a=i(...n)}finally{Nn(s),r._d&&po(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Ui(i,e,t,r){const n=i.dirs,s=e&&e.dirs;for(let a=0;a<n.length;a++){const o=n[a];s&&(o.oldValue=s[a].value);let u=o.dir[r];u&&(Li(),di(u,t,8,[i.el,o,i,e]),Fi())}}const Rh=Symbol("_vte"),Ih=i=>i.__isTeleport;function wa(i,e){i.shapeFlag&6&&i.component?(i.transition=e,wa(i.component.subTree,e)):i.shapeFlag&128?(i.ssContent.transition=e.clone(i.ssContent),i.ssFallback.transition=e.clone(i.ssFallback)):i.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Yi(i,e){return Ne(i)?Dt({name:i.name},e,{setup:i}):i}function ju(i){i.ids=[i.ids[0]+i.ids[2]+++"-",0,0]}function Ws(i,e,t,r,n=!1){if(ke(i)){i.forEach((C,T)=>Ws(C,e&&(ke(e)?e[T]:e),t,r,n));return}if(Fr(r)&&!n)return;const s=r.shapeFlag&4?Ca(r.component):r.el,a=n?null:s,{i:o,r:u}=i,f=e&&e.r,l=o.refs===st?o.refs={}:o.refs,c=o.setupState,p=Ge(c),v=c===st?()=>!1:C=>Ve(p,C);if(f!=null&&f!==u&&(_t(f)?(l[f]=null,v(f)&&(c[f]=null)):kt(f)&&(f.value=null)),Ne(u))en(u,o,12,[a,l]);else{const C=_t(u),T=kt(u);if(C||T){const d=()=>{if(i.f){const g=C?v(u)?c[u]:l[u]:u.value;n?ke(g)&&oa(g,s):ke(g)?g.includes(s)||g.push(s):C?(l[u]=[s],v(u)&&(c[u]=l[u])):(u.value=[s],i.k&&(l[i.k]=u.value))}else C?(l[u]=a,v(u)&&(c[u]=a)):T&&(u.value=a,i.k&&(l[i.k]=a))};a?(d.id=-1,Ut(d,t)):d()}}}const Fr=i=>!!i.type.__asyncLoader,Wu=i=>i.type.__isKeepAlive;function Oh(i,e){qu(i,"a",e)}function Bh(i,e){qu(i,"da",e)}function qu(i,e,t=Tt){const r=i.__wdc||(i.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return i()});if(es(e,r,t),t){let n=t.parent;for(;n&&n.parent;)Wu(n.parent.vnode)&&Lh(r,e,t,n),n=n.parent}}function Lh(i,e,t,r){const n=es(e,i,r,!0);Hu(()=>{oa(r[e],n)},t)}function es(i,e,t=Tt,r=!1){if(t){const n=t[i]||(t[i]=[]),s=e.__weh||(e.__weh=(...a)=>{Li();const o=rn(t),u=di(e,t,i,a);return o(),Fi(),u});return r?n.unshift(s):n.push(s),s}}const Di=i=>(e,t=Tt)=>{(!rs||i==="sp")&&es(i,(...r)=>e(...r),t)},Fh=Di("bm"),tn=Di("m"),Ph=Di("bu"),zh=Di("u"),Mh=Di("bum"),Hu=Di("um"),Uh=Di("sp"),jh=Di("rtg"),Wh=Di("rtc");function qh(i,e=Tt){es("ec",i,e)}const Hh="components";function $h(i,e){return Gh(Hh,i,!0,e)||i}const Vh=Symbol.for("v-ndc");function Gh(i,e,t=!0,r=!1){const n=ii||Tt;if(n){const s=n.type;{const o=Oc(s,!1);if(o&&(o===e||o===Zt(e)||o===Xn(Zt(e))))return s}const a=so(n[i]||s[i],e)||so(n.appContext[i],e);return!a&&r?s:a}}function so(i,e){return i&&(i[e]||i[Zt(e)]||i[Xn(Zt(e))])}function $r(i,e,t,r){let n;const s=t,a=ke(i);if(a||_t(i)){const o=a&&cr(i);let u=!1;o&&(u=!Gt(i),i=Kn(i)),n=new Array(i.length);for(let f=0,l=i.length;f<l;f++)n[f]=e(u?St(i[f]):i[f],f,void 0,s)}else if(typeof i=="number"){n=new Array(i);for(let o=0;o<i;o++)n[o]=e(o+1,o,void 0,s)}else if(lt(i))if(i[Symbol.iterator])n=Array.from(i,(o,u)=>e(o,u,void 0,s));else{const o=Object.keys(i);n=new Array(o.length);for(let u=0,f=o.length;u<f;u++){const l=o[u];n[u]=e(i[l],l,u,s)}}else n=[];return n}const qs=i=>i?cl(i)?Ca(i):qs(i.parent):null,Pr=Dt(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>qs(i.parent),$root:i=>qs(i.root),$host:i=>i.ce,$emit:i=>i.emit,$options:i=>Ea(i),$forceUpdate:i=>i.f||(i.f=()=>{_a(i.update)}),$nextTick:i=>i.n||(i.n=Sh.bind(i.proxy)),$watch:i=>pc.bind(i)}),ws=(i,e)=>i!==st&&!i.__isScriptSetup&&Ve(i,e),Zh={get({_:i},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:n,props:s,accessCache:a,type:o,appContext:u}=i;let f;if(e[0]!=="$"){const v=a[e];if(v!==void 0)switch(v){case 1:return r[e];case 2:return n[e];case 4:return t[e];case 3:return s[e]}else{if(ws(r,e))return a[e]=1,r[e];if(n!==st&&Ve(n,e))return a[e]=2,n[e];if((f=i.propsOptions[0])&&Ve(f,e))return a[e]=3,s[e];if(t!==st&&Ve(t,e))return a[e]=4,t[e];Hs&&(a[e]=0)}}const l=Pr[e];let c,p;if(l)return e==="$attrs"&&Nt(i.attrs,"get",""),l(i);if((c=o.__cssModules)&&(c=c[e]))return c;if(t!==st&&Ve(t,e))return a[e]=4,t[e];if(p=u.config.globalProperties,Ve(p,e))return p[e]},set({_:i},e,t){const{data:r,setupState:n,ctx:s}=i;return ws(n,e)?(n[e]=t,!0):r!==st&&Ve(r,e)?(r[e]=t,!0):Ve(i.props,e)||e[0]==="$"&&e.slice(1)in i?!1:(s[e]=t,!0)},has({_:{data:i,setupState:e,accessCache:t,ctx:r,appContext:n,propsOptions:s}},a){let o;return!!t[a]||i!==st&&Ve(i,a)||ws(e,a)||(o=s[0])&&Ve(o,a)||Ve(r,a)||Ve(Pr,a)||Ve(n.config.globalProperties,a)},defineProperty(i,e,t){return t.get!=null?i._.accessCache[e]=0:Ve(t,"value")&&this.set(i,e,t.value,null),Reflect.defineProperty(i,e,t)}};function ao(i){return ke(i)?i.reduce((e,t)=>(e[t]=null,e),{}):i}let Hs=!0;function Yh(i){const e=Ea(i),t=i.proxy,r=i.ctx;Hs=!1,e.beforeCreate&&oo(e.beforeCreate,i,"bc");const{data:n,computed:s,methods:a,watch:o,provide:u,inject:f,created:l,beforeMount:c,mounted:p,beforeUpdate:v,updated:C,activated:T,deactivated:d,beforeDestroy:g,beforeUnmount:y,destroyed:x,unmounted:k,render:_,renderTracked:D,renderTriggered:N,errorCaptured:B,serverPrefetch:U,expose:M,inheritAttrs:K,components:J,directives:ge,filters:De}=e;if(f&&Xh(f,r,null),a)for(const le in a){const se=a[le];Ne(se)&&(r[le]=se.bind(t))}if(n){const le=n.call(t,t);lt(le)&&(i.data=va(le))}if(Hs=!0,s)for(const le in s){const se=s[le],Te=Ne(se)?se.bind(t,t):Ne(se.get)?se.get.bind(t,t):li,He=!Ne(se)&&Ne(se.set)?se.set.bind(t):li,Oe=Lc({get:Te,set:He});Object.defineProperty(r,le,{enumerable:!0,configurable:!0,get:()=>Oe.value,set:be=>Oe.value=be})}if(o)for(const le in o)$u(o[le],r,t,le);if(u){const le=Ne(u)?u.call(t):u;Reflect.ownKeys(le).forEach(se=>{Gu(se,le[se])})}l&&oo(l,i,"c");function de(le,se){ke(se)?se.forEach(Te=>le(Te.bind(t))):se&&le(se.bind(t))}if(de(Fh,c),de(tn,p),de(Ph,v),de(zh,C),de(Oh,T),de(Bh,d),de(qh,B),de(Wh,D),de(jh,N),de(Mh,y),de(Hu,k),de(Uh,U),ke(M))if(M.length){const le=i.exposed||(i.exposed={});M.forEach(se=>{Object.defineProperty(le,se,{get:()=>t[se],set:Te=>t[se]=Te})})}else i.exposed||(i.exposed={});_&&i.render===li&&(i.render=_),K!=null&&(i.inheritAttrs=K),J&&(i.components=J),ge&&(i.directives=ge),U&&ju(i)}function Xh(i,e,t=li){ke(i)&&(i=$s(i));for(const r in i){const n=i[r];let s;lt(n)?"default"in n?s=zr(n.from||r,n.default,!0):s=zr(n.from||r):s=zr(n),kt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function oo(i,e,t){di(ke(i)?i.map(r=>r.bind(e.proxy)):i.bind(e.proxy),e,t)}function $u(i,e,t,r){let n=r.includes(".")?al(t,r):()=>t[r];if(_t(i)){const s=e[i];Ne(s)&&_n(n,s)}else if(Ne(i))_n(n,i.bind(t));else if(lt(i))if(ke(i))i.forEach(s=>$u(s,e,t,r));else{const s=Ne(i.handler)?i.handler.bind(t):e[i.handler];Ne(s)&&_n(n,s,i)}}function Ea(i){const e=i.type,{mixins:t,extends:r}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:a}}=i.appContext,o=s.get(e);let u;return o?u=o:!n.length&&!t&&!r?u=e:(u={},n.length&&n.forEach(f=>Rn(u,f,a,!0)),Rn(u,e,a)),lt(e)&&s.set(e,u),u}function Rn(i,e,t,r=!1){const{mixins:n,extends:s}=e;s&&Rn(i,s,t,!0),n&&n.forEach(a=>Rn(i,a,t,!0));for(const a in e)if(!(r&&a==="expose")){const o=Kh[a]||t&&t[a];i[a]=o?o(i[a],e[a]):e[a]}return i}const Kh={data:uo,props:lo,emits:lo,methods:Ir,computed:Ir,beforeCreate:It,created:It,beforeMount:It,mounted:It,beforeUpdate:It,updated:It,beforeDestroy:It,beforeUnmount:It,destroyed:It,unmounted:It,activated:It,deactivated:It,errorCaptured:It,serverPrefetch:It,components:Ir,directives:Ir,watch:Qh,provide:uo,inject:Jh};function uo(i,e){return e?i?function(){return Dt(Ne(i)?i.call(this,this):i,Ne(e)?e.call(this,this):e)}:e:i}function Jh(i,e){return Ir($s(i),$s(e))}function $s(i){if(ke(i)){const e={};for(let t=0;t<i.length;t++)e[i[t]]=i[t];return e}return i}function It(i,e){return i?[...new Set([].concat(i,e))]:e}function Ir(i,e){return i?Dt(Object.create(null),i,e):e}function lo(i,e){return i?ke(i)&&ke(e)?[...new Set([...i,...e])]:Dt(Object.create(null),ao(i),ao(e??{})):e}function Qh(i,e){if(!i)return e;if(!e)return i;const t=Dt(Object.create(null),i);for(const r in e)t[r]=It(i[r],e[r]);return t}function Vu(){return{app:null,config:{isNativeTag:Pf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ec=0;function tc(i,e){return function(r,n=null){Ne(r)||(r=Dt({},r)),n!=null&&!lt(n)&&(n=null);const s=Vu(),a=new WeakSet,o=[];let u=!1;const f=s.app={_uid:ec++,_component:r,_props:n,_container:null,_context:s,_instance:null,version:Fc,get config(){return s.config},set config(l){},use(l,...c){return a.has(l)||(l&&Ne(l.install)?(a.add(l),l.install(f,...c)):Ne(l)&&(a.add(l),l(f,...c))),f},mixin(l){return s.mixins.includes(l)||s.mixins.push(l),f},component(l,c){return c?(s.components[l]=c,f):s.components[l]},directive(l,c){return c?(s.directives[l]=c,f):s.directives[l]},mount(l,c,p){if(!u){const v=f._ceVNode||Lt(r,n);return v.appContext=s,p===!0?p="svg":p===!1&&(p=void 0),c&&e?e(v,l):i(v,l,p),u=!0,f._container=l,l.__vue_app__=f,Ca(v.component)}},onUnmount(l){o.push(l)},unmount(){u&&(di(o,f._instance,16),i(null,f._container),delete f._container.__vue_app__)},provide(l,c){return s.provides[l]=c,f},runWithContext(l){const c=pr;pr=f;try{return l()}finally{pr=c}}};return f}}let pr=null;function Gu(i,e){if(Tt){let t=Tt.provides;const r=Tt.parent&&Tt.parent.provides;r===t&&(t=Tt.provides=Object.create(r)),t[i]=e}}function zr(i,e,t=!1){const r=Tt||ii;if(r||pr){const n=pr?pr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&i in n)return n[i];if(arguments.length>1)return t&&Ne(e)?e.call(r&&r.proxy):e}}const Zu={},Yu=()=>Object.create(Zu),Xu=i=>Object.getPrototypeOf(i)===Zu;function ic(i,e,t,r=!1){const n={},s=Yu();i.propsDefaults=Object.create(null),Ku(i,e,n,s);for(const a in i.propsOptions[0])a in n||(n[a]=void 0);t?i.props=r?n:yh(n):i.type.props?i.props=n:i.props=s,i.attrs=s}function rc(i,e,t,r){const{props:n,attrs:s,vnode:{patchFlag:a}}=i,o=Ge(n),[u]=i.propsOptions;let f=!1;if((r||a>0)&&!(a&16)){if(a&8){const l=i.vnode.dynamicProps;for(let c=0;c<l.length;c++){let p=l[c];if(ts(i.emitsOptions,p))continue;const v=e[p];if(u)if(Ve(s,p))v!==s[p]&&(s[p]=v,f=!0);else{const C=Zt(p);n[C]=Vs(u,o,C,v,i,!1)}else v!==s[p]&&(s[p]=v,f=!0)}}}else{Ku(i,e,n,s)&&(f=!0);let l;for(const c in o)(!e||!Ve(e,c)&&((l=Zi(c))===c||!Ve(e,l)))&&(u?t&&(t[c]!==void 0||t[l]!==void 0)&&(n[c]=Vs(u,o,c,void 0,i,!0)):delete n[c]);if(s!==o)for(const c in s)(!e||!Ve(e,c))&&(delete s[c],f=!0)}f&&yi(i.attrs,"set","")}function Ku(i,e,t,r){const[n,s]=i.propsOptions;let a=!1,o;if(e)for(let u in e){if(Or(u))continue;const f=e[u];let l;n&&Ve(n,l=Zt(u))?!s||!s.includes(l)?t[l]=f:(o||(o={}))[l]=f:ts(i.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,a=!0)}if(s){const u=Ge(t),f=o||st;for(let l=0;l<s.length;l++){const c=s[l];t[c]=Vs(n,u,c,f[c],i,!Ve(f,c))}}return a}function Vs(i,e,t,r,n,s){const a=i[t];if(a!=null){const o=Ve(a,"default");if(o&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Ne(u)){const{propsDefaults:f}=n;if(t in f)r=f[t];else{const l=rn(n);r=f[t]=u.call(null,e),l()}}else r=u;n.ce&&n.ce._setProp(t,r)}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===Zi(t))&&(r=!0))}return r}const nc=new WeakMap;function Ju(i,e,t=!1){const r=t?nc:e.propsCache,n=r.get(i);if(n)return n;const s=i.props,a={},o=[];let u=!1;if(!Ne(i)){const l=c=>{u=!0;const[p,v]=Ju(c,e,!0);Dt(a,p),v&&o.push(...v)};!t&&e.mixins.length&&e.mixins.forEach(l),i.extends&&l(i.extends),i.mixins&&i.mixins.forEach(l)}if(!s&&!u)return lt(i)&&r.set(i,fr),fr;if(ke(s))for(let l=0;l<s.length;l++){const c=Zt(s[l]);fo(c)&&(a[c]=st)}else if(s)for(const l in s){const c=Zt(l);if(fo(c)){const p=s[l],v=a[c]=ke(p)||Ne(p)?{type:p}:Dt({},p),C=v.type;let T=!1,d=!0;if(ke(C))for(let g=0;g<C.length;++g){const y=C[g],x=Ne(y)&&y.name;if(x==="Boolean"){T=!0;break}else x==="String"&&(d=!1)}else T=Ne(C)&&C.name==="Boolean";v[0]=T,v[1]=d,(T||Ve(v,"default"))&&o.push(c)}}const f=[a,o];return lt(i)&&r.set(i,f),f}function fo(i){return i[0]!=="$"&&!Or(i)}const Qu=i=>i[0]==="_"||i==="$stable",xa=i=>ke(i)?i.map(ui):[ui(i)],sc=(i,e,t)=>{if(e._n)return e;const r=Nh((...n)=>xa(e(...n)),t);return r._c=!1,r},el=(i,e,t)=>{const r=i._ctx;for(const n in i){if(Qu(n))continue;const s=i[n];if(Ne(s))e[n]=sc(n,s,r);else if(s!=null){const a=xa(s);e[n]=()=>a}}},tl=(i,e)=>{const t=xa(e);i.slots.default=()=>t},il=(i,e,t)=>{for(const r in e)(t||r!=="_")&&(i[r]=e[r])},ac=(i,e,t)=>{const r=i.slots=Yu();if(i.vnode.shapeFlag&32){const n=e._;n?(il(r,e,t),t&&du(r,"_",n,!0)):el(e,r)}else e&&tl(i,e)},oc=(i,e,t)=>{const{vnode:r,slots:n}=i;let s=!0,a=st;if(r.shapeFlag&32){const o=e._;o?t&&o===1?s=!1:il(n,e,t):(s=!e.$stable,el(e,n)),a=e}else e&&(tl(i,e),a={default:1});if(s)for(const o in n)!Qu(o)&&a[o]==null&&delete n[o]},Ut=wc;function uc(i){return lc(i)}function lc(i,e){const t=pu();t.__VUE__=!0;const{insert:r,remove:n,patchProp:s,createElement:a,createText:o,createComment:u,setText:f,setElementText:l,parentNode:c,nextSibling:p,setScopeId:v=li,insertStaticContent:C}=i,T=(S,O,W,Q=null,$=null,X=null,fe=void 0,ne=null,te=!!O.dynamicChildren)=>{if(S===O)return;S&&!Cr(S,O)&&(Q=Xe(S),be(S,$,X,!0),S=null),O.patchFlag===-2&&(te=!1,O.dynamicChildren=null);const{type:G,ref:ae,shapeFlag:he}=O;switch(G){case is:d(S,O,W,Q);break;case Vi:g(S,O,W,Q);break;case As:S==null&&y(O,W,Q,fe);break;case Bt:J(S,O,W,Q,$,X,fe,ne,te);break;default:he&1?_(S,O,W,Q,$,X,fe,ne,te):he&6?ge(S,O,W,Q,$,X,fe,ne,te):(he&64||he&128)&&G.process(S,O,W,Q,$,X,fe,ne,te,Ke)}ae!=null&&$&&Ws(ae,S&&S.ref,X,O||S,!O)},d=(S,O,W,Q)=>{if(S==null)r(O.el=o(O.children),W,Q);else{const $=O.el=S.el;O.children!==S.children&&f($,O.children)}},g=(S,O,W,Q)=>{S==null?r(O.el=u(O.children||""),W,Q):O.el=S.el},y=(S,O,W,Q)=>{[S.el,S.anchor]=C(S.children,O,W,Q,S.el,S.anchor)},x=({el:S,anchor:O},W,Q)=>{let $;for(;S&&S!==O;)$=p(S),r(S,W,Q),S=$;r(O,W,Q)},k=({el:S,anchor:O})=>{let W;for(;S&&S!==O;)W=p(S),n(S),S=W;n(O)},_=(S,O,W,Q,$,X,fe,ne,te)=>{O.type==="svg"?fe="svg":O.type==="math"&&(fe="mathml"),S==null?D(O,W,Q,$,X,fe,ne,te):U(S,O,$,X,fe,ne,te)},D=(S,O,W,Q,$,X,fe,ne)=>{let te,G;const{props:ae,shapeFlag:he,transition:_e,dirs:xe}=S;if(te=S.el=a(S.type,X,ae&&ae.is,ae),he&8?l(te,S.children):he&16&&B(S.children,te,null,Q,$,Es(S,X),fe,ne),xe&&Ui(S,null,Q,"created"),N(te,S,S.scopeId,fe,Q),ae){for(const Fe in ae)Fe!=="value"&&!Or(Fe)&&s(te,Fe,null,ae[Fe],X,Q);"value"in ae&&s(te,"value",null,ae.value,X),(G=ae.onVnodeBeforeMount)&&si(G,Q,S)}xe&&Ui(S,null,Q,"beforeMount");const Se=fc($,_e);Se&&_e.beforeEnter(te),r(te,O,W),((G=ae&&ae.onVnodeMounted)||Se||xe)&&Ut(()=>{G&&si(G,Q,S),Se&&_e.enter(te),xe&&Ui(S,null,Q,"mounted")},$)},N=(S,O,W,Q,$)=>{if(W&&v(S,W),Q)for(let X=0;X<Q.length;X++)v(S,Q[X]);if($){let X=$.subTree;if(O===X||ul(X.type)&&(X.ssContent===O||X.ssFallback===O)){const fe=$.vnode;N(S,fe,fe.scopeId,fe.slotScopeIds,$.parent)}}},B=(S,O,W,Q,$,X,fe,ne,te=0)=>{for(let G=te;G<S.length;G++){const ae=S[G]=ne?ki(S[G]):ui(S[G]);T(null,ae,O,W,Q,$,X,fe,ne)}},U=(S,O,W,Q,$,X,fe)=>{const ne=O.el=S.el;let{patchFlag:te,dynamicChildren:G,dirs:ae}=O;te|=S.patchFlag&16;const he=S.props||st,_e=O.props||st;let xe;if(W&&ji(W,!1),(xe=_e.onVnodeBeforeUpdate)&&si(xe,W,O,S),ae&&Ui(O,S,W,"beforeUpdate"),W&&ji(W,!0),(he.innerHTML&&_e.innerHTML==null||he.textContent&&_e.textContent==null)&&l(ne,""),G?M(S.dynamicChildren,G,ne,W,Q,Es(O,$),X):fe||se(S,O,ne,null,W,Q,Es(O,$),X,!1),te>0){if(te&16)K(ne,he,_e,W,$);else if(te&2&&he.class!==_e.class&&s(ne,"class",null,_e.class,$),te&4&&s(ne,"style",he.style,_e.style,$),te&8){const Se=O.dynamicProps;for(let Fe=0;Fe<Se.length;Fe++){const Ie=Se[Fe],Je=he[Ie],rt=_e[Ie];(rt!==Je||Ie==="value")&&s(ne,Ie,Je,rt,$,W)}}te&1&&S.children!==O.children&&l(ne,O.children)}else!fe&&G==null&&K(ne,he,_e,W,$);((xe=_e.onVnodeUpdated)||ae)&&Ut(()=>{xe&&si(xe,W,O,S),ae&&Ui(O,S,W,"updated")},Q)},M=(S,O,W,Q,$,X,fe)=>{for(let ne=0;ne<O.length;ne++){const te=S[ne],G=O[ne],ae=te.el&&(te.type===Bt||!Cr(te,G)||te.shapeFlag&70)?c(te.el):W;T(te,G,ae,null,Q,$,X,fe,!0)}},K=(S,O,W,Q,$)=>{if(O!==W){if(O!==st)for(const X in O)!Or(X)&&!(X in W)&&s(S,X,O[X],null,$,Q);for(const X in W){if(Or(X))continue;const fe=W[X],ne=O[X];fe!==ne&&X!=="value"&&s(S,X,ne,fe,$,Q)}"value"in W&&s(S,"value",O.value,W.value,$)}},J=(S,O,W,Q,$,X,fe,ne,te)=>{const G=O.el=S?S.el:o(""),ae=O.anchor=S?S.anchor:o("");let{patchFlag:he,dynamicChildren:_e,slotScopeIds:xe}=O;xe&&(ne=ne?ne.concat(xe):xe),S==null?(r(G,W,Q),r(ae,W,Q),B(O.children||[],W,ae,$,X,fe,ne,te)):he>0&&he&64&&_e&&S.dynamicChildren?(M(S.dynamicChildren,_e,W,$,X,fe,ne),(O.key!=null||$&&O===$.subTree)&&rl(S,O,!0)):se(S,O,W,ae,$,X,fe,ne,te)},ge=(S,O,W,Q,$,X,fe,ne,te)=>{O.slotScopeIds=ne,S==null?O.shapeFlag&512?$.ctx.activate(O,W,Q,fe,te):De(O,W,Q,$,X,fe,te):Ae(S,O,te)},De=(S,O,W,Q,$,X,fe)=>{const ne=S.component=Tc(S,Q,$);if(Wu(S)&&(ne.ctx.renderer=Ke),kc(ne,!1,fe),ne.asyncDep){if($&&$.registerDep(ne,de,fe),!S.el){const te=ne.subTree=Lt(Vi);g(null,te,O,W)}}else de(ne,S,O,W,$,X,fe)},Ae=(S,O,W)=>{const Q=O.component=S.component;if(bc(S,O,W))if(Q.asyncDep&&!Q.asyncResolved){le(Q,O,W);return}else Q.next=O,Q.update();else O.el=S.el,Q.vnode=O},de=(S,O,W,Q,$,X,fe)=>{const ne=()=>{if(S.isMounted){let{next:he,bu:_e,u:xe,parent:Se,vnode:Fe}=S;{const We=nl(S);if(We){he&&(he.el=Fe.el,le(S,he,fe)),We.asyncDep.then(()=>{S.isUnmounted||ne()});return}}let Ie=he,Je;ji(S,!1),he?(he.el=Fe.el,le(S,he,fe)):he=Fe,_e&&vs(_e),(Je=he.props&&he.props.onVnodeBeforeUpdate)&&si(Je,Se,he,Fe),ji(S,!0);const rt=xs(S),ut=S.subTree;S.subTree=rt,T(ut,rt,c(ut.el),Xe(ut),S,$,X),he.el=rt.el,Ie===null&&_c(S,rt.el),xe&&Ut(xe,$),(Je=he.props&&he.props.onVnodeUpdated)&&Ut(()=>si(Je,Se,he,Fe),$)}else{let he;const{el:_e,props:xe}=O,{bm:Se,m:Fe,parent:Ie,root:Je,type:rt}=S,ut=Fr(O);if(ji(S,!1),Se&&vs(Se),!ut&&(he=xe&&xe.onVnodeBeforeMount)&&si(he,Ie,O),ji(S,!0),_e&&Qe){const We=()=>{S.subTree=xs(S),Qe(_e,S.subTree,S,$,null)};ut&&rt.__asyncHydrate?rt.__asyncHydrate(_e,S,We):We()}else{Je.ce&&Je.ce._injectChildStyle(rt);const We=S.subTree=xs(S);T(null,We,W,Q,S,$,X),O.el=We.el}if(Fe&&Ut(Fe,$),!ut&&(he=xe&&xe.onVnodeMounted)){const We=O;Ut(()=>si(he,Ie,We),$)}(O.shapeFlag&256||Ie&&Fr(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&S.a&&Ut(S.a,$),S.isMounted=!0,O=W=Q=null}};S.scope.on();const te=S.effect=new bu(ne);S.scope.off();const G=S.update=te.run.bind(te),ae=S.job=te.runIfDirty.bind(te);ae.i=S,ae.id=S.uid,te.scheduler=()=>_a(ae),ji(S,!0),G()},le=(S,O,W)=>{O.component=S;const Q=S.vnode.props;S.vnode=O,S.next=null,rc(S,O.props,Q,W),oc(S,O.children,W),Li(),no(S),Fi()},se=(S,O,W,Q,$,X,fe,ne,te=!1)=>{const G=S&&S.children,ae=S?S.shapeFlag:0,he=O.children,{patchFlag:_e,shapeFlag:xe}=O;if(_e>0){if(_e&128){He(G,he,W,Q,$,X,fe,ne,te);return}else if(_e&256){Te(G,he,W,Q,$,X,fe,ne,te);return}}xe&8?(ae&16&&it(G,$,X),he!==G&&l(W,he)):ae&16?xe&16?He(G,he,W,Q,$,X,fe,ne,te):it(G,$,X,!0):(ae&8&&l(W,""),xe&16&&B(he,W,Q,$,X,fe,ne,te))},Te=(S,O,W,Q,$,X,fe,ne,te)=>{S=S||fr,O=O||fr;const G=S.length,ae=O.length,he=Math.min(G,ae);let _e;for(_e=0;_e<he;_e++){const xe=O[_e]=te?ki(O[_e]):ui(O[_e]);T(S[_e],xe,W,null,$,X,fe,ne,te)}G>ae?it(S,$,X,!0,!1,he):B(O,W,Q,$,X,fe,ne,te,he)},He=(S,O,W,Q,$,X,fe,ne,te)=>{let G=0;const ae=O.length;let he=S.length-1,_e=ae-1;for(;G<=he&&G<=_e;){const xe=S[G],Se=O[G]=te?ki(O[G]):ui(O[G]);if(Cr(xe,Se))T(xe,Se,W,null,$,X,fe,ne,te);else break;G++}for(;G<=he&&G<=_e;){const xe=S[he],Se=O[_e]=te?ki(O[_e]):ui(O[_e]);if(Cr(xe,Se))T(xe,Se,W,null,$,X,fe,ne,te);else break;he--,_e--}if(G>he){if(G<=_e){const xe=_e+1,Se=xe<ae?O[xe].el:Q;for(;G<=_e;)T(null,O[G]=te?ki(O[G]):ui(O[G]),W,Se,$,X,fe,ne,te),G++}}else if(G>_e)for(;G<=he;)be(S[G],$,X,!0),G++;else{const xe=G,Se=G,Fe=new Map;for(G=Se;G<=_e;G++){const E=O[G]=te?ki(O[G]):ui(O[G]);E.key!=null&&Fe.set(E.key,G)}let Ie,Je=0;const rt=_e-Se+1;let ut=!1,We=0;const mt=new Array(rt);for(G=0;G<rt;G++)mt[G]=0;for(G=xe;G<=he;G++){const E=S[G];if(Je>=rt){be(E,$,X,!0);continue}let Z;if(E.key!=null)Z=Fe.get(E.key);else for(Ie=Se;Ie<=_e;Ie++)if(mt[Ie-Se]===0&&Cr(E,O[Ie])){Z=Ie;break}Z===void 0?be(E,$,X,!0):(mt[Z-Se]=G+1,Z>=We?We=Z:ut=!0,T(E,O[Z],W,null,$,X,fe,ne,te),Je++)}const Xt=ut?hc(mt):fr;for(Ie=Xt.length-1,G=rt-1;G>=0;G--){const E=Se+G,Z=O[E],re=E+1<ae?O[E+1].el:Q;mt[G]===0?T(null,Z,W,re,$,X,fe,ne,te):ut&&(Ie<0||G!==Xt[Ie]?Oe(Z,W,re,2):Ie--)}}},Oe=(S,O,W,Q,$=null)=>{const{el:X,type:fe,transition:ne,children:te,shapeFlag:G}=S;if(G&6){Oe(S.component.subTree,O,W,Q);return}if(G&128){S.suspense.move(O,W,Q);return}if(G&64){fe.move(S,O,W,Ke);return}if(fe===Bt){r(X,O,W);for(let he=0;he<te.length;he++)Oe(te[he],O,W,Q);r(S.anchor,O,W);return}if(fe===As){x(S,O,W);return}if(Q!==2&&G&1&&ne)if(Q===0)ne.beforeEnter(X),r(X,O,W),Ut(()=>ne.enter(X),$);else{const{leave:he,delayLeave:_e,afterLeave:xe}=ne,Se=()=>r(X,O,W),Fe=()=>{he(X,()=>{Se(),xe&&xe()})};_e?_e(X,Se,Fe):Fe()}else r(X,O,W)},be=(S,O,W,Q=!1,$=!1)=>{const{type:X,props:fe,ref:ne,children:te,dynamicChildren:G,shapeFlag:ae,patchFlag:he,dirs:_e,cacheIndex:xe}=S;if(he===-2&&($=!1),ne!=null&&Ws(ne,null,W,S,!0),xe!=null&&(O.renderCache[xe]=void 0),ae&256){O.ctx.deactivate(S);return}const Se=ae&1&&_e,Fe=!Fr(S);let Ie;if(Fe&&(Ie=fe&&fe.onVnodeBeforeUnmount)&&si(Ie,O,S),ae&6)vt(S.component,W,Q);else{if(ae&128){S.suspense.unmount(W,Q);return}Se&&Ui(S,null,O,"beforeUnmount"),ae&64?S.type.remove(S,O,W,Ke,Q):G&&!G.hasOnce&&(X!==Bt||he>0&&he&64)?it(G,O,W,!1,!0):(X===Bt&&he&384||!$&&ae&16)&&it(te,O,W),Q&&qe(S)}(Fe&&(Ie=fe&&fe.onVnodeUnmounted)||Se)&&Ut(()=>{Ie&&si(Ie,O,S),Se&&Ui(S,null,O,"unmounted")},W)},qe=S=>{const{type:O,el:W,anchor:Q,transition:$}=S;if(O===Bt){Pe(W,Q);return}if(O===As){k(S);return}const X=()=>{n(W),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(S.shapeFlag&1&&$&&!$.persisted){const{leave:fe,delayLeave:ne}=$,te=()=>fe(W,X);ne?ne(S.el,X,te):te()}else X()},Pe=(S,O)=>{let W;for(;S!==O;)W=p(S),n(S),S=W;n(O)},vt=(S,O,W)=>{const{bum:Q,scope:$,job:X,subTree:fe,um:ne,m:te,a:G}=S;ho(te),ho(G),Q&&vs(Q),$.stop(),X&&(X.flags|=8,be(fe,S,O,W)),ne&&Ut(ne,O),Ut(()=>{S.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},it=(S,O,W,Q=!1,$=!1,X=0)=>{for(let fe=X;fe<S.length;fe++)be(S[fe],O,W,Q,$)},Xe=S=>{if(S.shapeFlag&6)return Xe(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const O=p(S.anchor||S.el),W=O&&O[Rh];return W?p(W):O};let Re=!1;const ft=(S,O,W)=>{S==null?O._vnode&&be(O._vnode,null,null,!0):T(O._vnode||null,S,O,null,null,null,W),O._vnode=S,Re||(Re=!0,no(),zu(),Re=!1)},Ke={p:T,um:be,m:Oe,r:qe,mt:De,mc:B,pc:se,pbc:M,n:Xe,o:i};let je,Qe;return{render:ft,hydrate:je,createApp:tc(ft,je)}}function Es({type:i,props:e},t){return t==="svg"&&i==="foreignObject"||t==="mathml"&&i==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function ji({effect:i,job:e},t){t?(i.flags|=32,e.flags|=4):(i.flags&=-33,e.flags&=-5)}function fc(i,e){return(!i||i&&!i.pendingBranch)&&e&&!e.persisted}function rl(i,e,t=!1){const r=i.children,n=e.children;if(ke(r)&&ke(n))for(let s=0;s<r.length;s++){const a=r[s];let o=n[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[s]=ki(n[s]),o.el=a.el),!t&&o.patchFlag!==-2&&rl(a,o)),o.type===is&&(o.el=a.el)}}function hc(i){const e=i.slice(),t=[0];let r,n,s,a,o;const u=i.length;for(r=0;r<u;r++){const f=i[r];if(f!==0){if(n=t[t.length-1],i[n]<f){e[r]=n,t.push(r);continue}for(s=0,a=t.length-1;s<a;)o=s+a>>1,i[t[o]]<f?s=o+1:a=o;f<i[t[s]]&&(s>0&&(e[r]=t[s-1]),t[s]=r)}}for(s=t.length,a=t[s-1];s-- >0;)t[s]=a,a=e[a];return t}function nl(i){const e=i.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:nl(e)}function ho(i){if(i)for(let e=0;e<i.length;e++)i[e].flags|=8}const cc=Symbol.for("v-scx"),dc=()=>zr(cc);function _n(i,e,t){return sl(i,e,t)}function sl(i,e,t=st){const{immediate:r,deep:n,flush:s,once:a}=t,o=Dt({},t);let u;if(rs)if(s==="sync"){const p=dc();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!e||r)o.once=!0;else{const p=()=>{};return p.stop=li,p.resume=li,p.pause=li,p}const f=Tt;o.call=(p,v,C)=>di(p,f,v,C);let l=!1;s==="post"?o.scheduler=p=>{Ut(p,f&&f.suspense)}:s!=="sync"&&(l=!0,o.scheduler=(p,v)=>{v?p():_a(p)}),o.augmentJob=p=>{e&&(p.flags|=4),l&&(p.flags|=2,f&&(p.id=f.uid,p.i=f))};const c=Dh(i,e,o);return u&&u.push(c),c}function pc(i,e,t){const r=this.proxy,n=_t(i)?i.includes(".")?al(r,i):()=>r[i]:i.bind(r,r);let s;Ne(e)?s=e:(s=e.handler,t=e);const a=rn(this),o=sl(n,s.bind(r),t);return a(),o}function al(i,e){const t=e.split(".");return()=>{let r=i;for(let n=0;n<t.length&&r;n++)r=r[t[n]];return r}}const gc=(i,e)=>e==="modelValue"||e==="model-value"?i.modelModifiers:i[`${e}Modifiers`]||i[`${Zt(e)}Modifiers`]||i[`${Zi(e)}Modifiers`];function vc(i,e,...t){if(i.isUnmounted)return;const r=i.vnode.props||st;let n=t;const s=e.startsWith("update:"),a=s&&gc(r,e.slice(7));a&&(a.trim&&(n=t.map(l=>_t(l)?l.trim():l)),a.number&&(n=t.map(Wf)));let o,u=r[o=gs(e)]||r[o=gs(Zt(e))];!u&&s&&(u=r[o=gs(Zi(e))]),u&&di(u,i,6,n);const f=r[o+"Once"];if(f){if(!i.emitted)i.emitted={};else if(i.emitted[o])return;i.emitted[o]=!0,di(f,i,6,n)}}function ol(i,e,t=!1){const r=e.emitsCache,n=r.get(i);if(n!==void 0)return n;const s=i.emits;let a={},o=!1;if(!Ne(i)){const u=f=>{const l=ol(f,e,!0);l&&(o=!0,Dt(a,l))};!t&&e.mixins.length&&e.mixins.forEach(u),i.extends&&u(i.extends),i.mixins&&i.mixins.forEach(u)}return!s&&!o?(lt(i)&&r.set(i,null),null):(ke(s)?s.forEach(u=>a[u]=null):Dt(a,s),lt(i)&&r.set(i,a),a)}function ts(i,e){return!i||!Gn(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ve(i,e[0].toLowerCase()+e.slice(1))||Ve(i,Zi(e))||Ve(i,e))}function xs(i){const{type:e,vnode:t,proxy:r,withProxy:n,propsOptions:[s],slots:a,attrs:o,emit:u,render:f,renderCache:l,props:c,data:p,setupState:v,ctx:C,inheritAttrs:T}=i,d=Nn(i);let g,y;try{if(t.shapeFlag&4){const k=n||r,_=k;g=ui(f.call(_,k,l,c,v,p,C)),y=o}else{const k=e;g=ui(k.length>1?k(c,{attrs:o,slots:a,emit:u}):k(c,null)),y=e.props?o:mc(o)}}catch(k){Mr.length=0,Qn(k,i,1),g=Lt(Vi)}let x=g;if(y&&T!==!1){const k=Object.keys(y),{shapeFlag:_}=x;k.length&&_&7&&(s&&k.some(aa)&&(y=yc(y,s)),x=mr(x,y,!1,!0))}return t.dirs&&(x=mr(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(t.dirs):t.dirs),t.transition&&wa(x,t.transition),g=x,Nn(d),g}const mc=i=>{let e;for(const t in i)(t==="class"||t==="style"||Gn(t))&&((e||(e={}))[t]=i[t]);return e},yc=(i,e)=>{const t={};for(const r in i)(!aa(r)||!(r.slice(9)in e))&&(t[r]=i[r]);return t};function bc(i,e,t){const{props:r,children:n,component:s}=i,{props:a,children:o,patchFlag:u}=e,f=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return r?co(r,a,f):!!a;if(u&8){const l=e.dynamicProps;for(let c=0;c<l.length;c++){const p=l[c];if(a[p]!==r[p]&&!ts(f,p))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?co(r,a,f):!0:!!a;return!1}function co(i,e,t){const r=Object.keys(e);if(r.length!==Object.keys(i).length)return!0;for(let n=0;n<r.length;n++){const s=r[n];if(e[s]!==i[s]&&!ts(t,s))return!0}return!1}function _c({vnode:i,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===i&&(r.el=i.el),r===i)(i=e.vnode).el=t,e=e.parent;else break}}const ul=i=>i.__isSuspense;function wc(i,e){e&&e.pendingBranch?ke(i)?e.effects.push(...i):e.effects.push(i):kh(i)}const Bt=Symbol.for("v-fgt"),is=Symbol.for("v-txt"),Vi=Symbol.for("v-cmt"),As=Symbol.for("v-stc"),Mr=[];let Wt=null;function tt(i=!1){Mr.push(Wt=i?null:[])}function Ec(){Mr.pop(),Wt=Mr[Mr.length-1]||null}let Vr=1;function po(i){Vr+=i,i<0&&Wt&&(Wt.hasOnce=!0)}function ll(i){return i.dynamicChildren=Vr>0?Wt||fr:null,Ec(),Vr>0&&Wt&&Wt.push(i),i}function bt(i,e,t,r,n,s){return ll(ot(i,e,t,r,n,s,!0))}function Hi(i,e,t,r,n){return ll(Lt(i,e,t,r,n,!0))}function fl(i){return i?i.__v_isVNode===!0:!1}function Cr(i,e){return i.type===e.type&&i.key===e.key}const hl=({key:i})=>i??null,wn=({ref:i,ref_key:e,ref_for:t})=>(typeof i=="number"&&(i=""+i),i!=null?_t(i)||kt(i)||Ne(i)?{i:ii,r:i,k:e,f:!!t}:i:null);function ot(i,e=null,t=null,r=0,n=null,s=i===Bt?0:1,a=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:i,props:e,key:e&&hl(e),ref:e&&wn(e),scopeId:Uu,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ii};return o?(Da(u,t),s&128&&i.normalize(u)):t&&(u.shapeFlag|=_t(t)?8:16),Vr>0&&!a&&Wt&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&Wt.push(u),u}const Lt=xc;function xc(i,e=null,t=null,r=0,n=null,s=!1){if((!i||i===Vh)&&(i=Vi),fl(i)){const o=mr(i,e,!0);return t&&Da(o,t),Vr>0&&!s&&Wt&&(o.shapeFlag&6?Wt[Wt.indexOf(i)]=o:Wt.push(o)),o.patchFlag=-2,o}if(Bc(i)&&(i=i.__vccOpts),e){e=Ac(e);let{class:o,style:u}=e;o&&!_t(o)&&(e.class=vr(o)),lt(u)&&(ya(u)&&!ke(u)&&(u=Dt({},u)),e.style=la(u))}const a=_t(i)?1:ul(i)?128:Ih(i)?64:lt(i)?4:Ne(i)?2:0;return ot(i,e,t,r,n,a,s,!0)}function Ac(i){return i?ya(i)||Xu(i)?Dt({},i):i:null}function mr(i,e,t=!1,r=!1){const{props:n,ref:s,patchFlag:a,children:o,transition:u}=i,f=e?Dc(n||{},e):n,l={__v_isVNode:!0,__v_skip:!0,type:i.type,props:f,key:f&&hl(f),ref:e&&e.ref?t&&s?ke(s)?s.concat(wn(e)):[s,wn(e)]:wn(e):s,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:o,target:i.target,targetStart:i.targetStart,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:e&&i.type!==Bt?a===-1?16:a|16:a,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:u,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&mr(i.ssContent),ssFallback:i.ssFallback&&mr(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce};return u&&r&&wa(l,u.clone(l)),l}function Aa(i=" ",e=0){return Lt(is,null,i,e)}function En(i="",e=!1){return e?(tt(),Hi(Vi,null,i)):Lt(Vi,null,i)}function ui(i){return i==null||typeof i=="boolean"?Lt(Vi):ke(i)?Lt(Bt,null,i.slice()):fl(i)?ki(i):Lt(is,null,String(i))}function ki(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:mr(i)}function Da(i,e){let t=0;const{shapeFlag:r}=i;if(e==null)e=null;else if(ke(e))t=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Da(i,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!Xu(e)?e._ctx=ii:n===3&&ii&&(ii.slots._===1?e._=1:(e._=2,i.patchFlag|=1024))}else Ne(e)?(e={default:e,_ctx:ii},t=32):(e=String(e),r&64?(t=16,e=[Aa(e)]):t=8);i.children=e,i.shapeFlag|=t}function Dc(...i){const e={};for(let t=0;t<i.length;t++){const r=i[t];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=vr([e.class,r.class]));else if(n==="style")e.style=la([e.style,r.style]);else if(Gn(n)){const s=e[n],a=r[n];a&&s!==a&&!(ke(s)&&s.includes(a))&&(e[n]=s?[].concat(s,a):a)}else n!==""&&(e[n]=r[n])}return e}function si(i,e,t,r=null){di(i,e,7,[t,r])}const Cc=Vu();let Sc=0;function Tc(i,e,t){const r=i.type,n=(e?e.appContext:i.appContext)||Cc,s={uid:Sc++,vnode:i,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ju(r,n),emitsOptions:ol(r,n),emit:null,emitted:null,propsDefaults:st,inheritAttrs:r.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=vc.bind(null,s),i.ce&&i.ce(s),s}let Tt=null,In,Gs;{const i=pu(),e=(t,r)=>{let n;return(n=i[t])||(n=i[t]=[]),n.push(r),s=>{n.length>1?n.forEach(a=>a(s)):n[0](s)}};In=e("__VUE_INSTANCE_SETTERS__",t=>Tt=t),Gs=e("__VUE_SSR_SETTERS__",t=>rs=t)}const rn=i=>{const e=Tt;return In(i),i.scope.on(),()=>{i.scope.off(),In(e)}},go=()=>{Tt&&Tt.scope.off(),In(null)};function cl(i){return i.vnode.shapeFlag&4}let rs=!1;function kc(i,e=!1,t=!1){e&&Gs(e);const{props:r,children:n}=i.vnode,s=cl(i);ic(i,r,s,e),ac(i,n,t);const a=s?Nc(i,e):void 0;return e&&Gs(!1),a}function Nc(i,e){const t=i.type;i.accessCache=Object.create(null),i.proxy=new Proxy(i.ctx,Zh);const{setup:r}=t;if(r){const n=i.setupContext=r.length>1?Ic(i):null,s=rn(i);Li();const a=en(r,i,0,[i.props,n]);if(Fi(),s(),fu(a)){if(Fr(i)||ju(i),a.then(go,go),e)return a.then(o=>{vo(i,o,e)}).catch(o=>{Qn(o,i,0)});i.asyncDep=a}else vo(i,a,e)}else dl(i,e)}function vo(i,e,t){Ne(e)?i.type.__ssrInlineRender?i.ssrRender=e:i.render=e:lt(e)&&(i.setupState=Lu(e)),dl(i,t)}let mo;function dl(i,e,t){const r=i.type;if(!i.render){if(!e&&mo&&!r.render){const n=r.template||Ea(i).template;if(n){const{isCustomElement:s,compilerOptions:a}=i.appContext.config,{delimiters:o,compilerOptions:u}=r,f=Dt(Dt({isCustomElement:s,delimiters:o},a),u);r.render=mo(n,f)}}i.render=r.render||li}{const n=rn(i);Li();try{Yh(i)}finally{Fi(),n()}}}const Rc={get(i,e){return Nt(i,"get",""),i[e]}};function Ic(i){const e=t=>{i.exposed=t||{}};return{attrs:new Proxy(i.attrs,Rc),slots:i.slots,emit:i.emit,expose:e}}function Ca(i){return i.exposed?i.exposeProxy||(i.exposeProxy=new Proxy(Lu(Bu(i.exposed)),{get(e,t){if(t in e)return e[t];if(t in Pr)return Pr[t](i)},has(e,t){return t in e||t in Pr}})):i.proxy}function Oc(i,e=!0){return Ne(i)?i.displayName||i.name:i.name||e&&i.__name}function Bc(i){return Ne(i)&&"__vccOpts"in i}const Lc=(i,e)=>xh(i,e,rs),Fc="3.5.11";/**
* @vue/runtime-dom v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zs;const yo=typeof window<"u"&&window.trustedTypes;if(yo)try{Zs=yo.createPolicy("vue",{createHTML:i=>i})}catch{}const pl=Zs?i=>Zs.createHTML(i):i=>i,Pc="http://www.w3.org/2000/svg",zc="http://www.w3.org/1998/Math/MathML",vi=typeof document<"u"?document:null,bo=vi&&vi.createElement("template"),Mc={insert:(i,e,t)=>{e.insertBefore(i,t||null)},remove:i=>{const e=i.parentNode;e&&e.removeChild(i)},createElement:(i,e,t,r)=>{const n=e==="svg"?vi.createElementNS(Pc,i):e==="mathml"?vi.createElementNS(zc,i):t?vi.createElement(i,{is:t}):vi.createElement(i);return i==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:i=>vi.createTextNode(i),createComment:i=>vi.createComment(i),setText:(i,e)=>{i.nodeValue=e},setElementText:(i,e)=>{i.textContent=e},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>vi.querySelector(i),setScopeId(i,e){i.setAttribute(e,"")},insertStaticContent(i,e,t,r,n,s){const a=t?t.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===s||!(n=n.nextSibling)););else{bo.innerHTML=pl(r==="svg"?`<svg>${i}</svg>`:r==="mathml"?`<math>${i}</math>`:i);const o=bo.content;if(r==="svg"||r==="mathml"){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}e.insertBefore(o,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Uc=Symbol("_vtc");function jc(i,e,t){const r=i[Uc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?i.removeAttribute("class"):t?i.setAttribute("class",e):i.className=e}const _o=Symbol("_vod"),Wc=Symbol("_vsh"),qc=Symbol(""),Hc=/(^|;)\s*display\s*:/;function $c(i,e,t){const r=i.style,n=_t(t);let s=!1;if(t&&!n){if(e)if(_t(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();t[o]==null&&xn(r,o,"")}else for(const a in e)t[a]==null&&xn(r,a,"");for(const a in t)a==="display"&&(s=!0),xn(r,a,t[a])}else if(n){if(e!==t){const a=r[qc];a&&(t+=";"+a),r.cssText=t,s=Hc.test(t)}}else e&&i.removeAttribute("style");_o in i&&(i[_o]=s?r.display:"",i[Wc]&&(r.display="none"))}const wo=/\s*!important$/;function xn(i,e,t){if(ke(t))t.forEach(r=>xn(i,e,r));else if(t==null&&(t=""),e.startsWith("--"))i.setProperty(e,t);else{const r=Vc(i,e);wo.test(t)?i.setProperty(Zi(r),t.replace(wo,""),"important"):i[r]=t}}const Eo=["Webkit","Moz","ms"],Ds={};function Vc(i,e){const t=Ds[e];if(t)return t;let r=Zt(e);if(r!=="filter"&&r in i)return Ds[e]=r;r=Xn(r);for(let n=0;n<Eo.length;n++){const s=Eo[n]+r;if(s in i)return Ds[e]=s}return e}const xo="http://www.w3.org/1999/xlink";function Ao(i,e,t,r,n,s=Zf(e)){r&&e.startsWith("xlink:")?t==null?i.removeAttributeNS(xo,e.slice(6,e.length)):i.setAttributeNS(xo,e,t):t==null||s&&!gu(t)?i.removeAttribute(e):i.setAttribute(e,s?"":Bi(t)?String(t):t)}function Do(i,e,t,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(i[e]=e==="innerHTML"?pl(t):t);return}const n=i.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const a=n==="OPTION"?i.getAttribute("value")||"":i.value,o=t==null?i.type==="checkbox"?"on":"":String(t);(a!==o||!("_value"in i))&&(i.value=o),t==null&&i.removeAttribute(e),i._value=t;return}let s=!1;if(t===""||t==null){const a=typeof i[e];a==="boolean"?t=gu(t):t==null&&a==="string"?(t="",s=!0):a==="number"&&(t=0,s=!0)}try{i[e]=t}catch{}s&&i.removeAttribute(e)}function Gc(i,e,t,r){i.addEventListener(e,t,r)}function Zc(i,e,t,r){i.removeEventListener(e,t,r)}const Co=Symbol("_vei");function Yc(i,e,t,r,n=null){const s=i[Co]||(i[Co]={}),a=s[e];if(r&&a)a.value=r;else{const[o,u]=Xc(e);if(r){const f=s[e]=Qc(r,n);Gc(i,o,f,u)}else a&&(Zc(i,o,a,u),s[e]=void 0)}}const So=/(?:Once|Passive|Capture)$/;function Xc(i){let e;if(So.test(i)){e={};let r;for(;r=i.match(So);)i=i.slice(0,i.length-r[0].length),e[r[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):Zi(i.slice(2)),e]}let Cs=0;const Kc=Promise.resolve(),Jc=()=>Cs||(Kc.then(()=>Cs=0),Cs=Date.now());function Qc(i,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;di(ed(r,t.value),e,5,[r])};return t.value=i,t.attached=Jc(),t}function ed(i,e){if(ke(e)){const t=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{t.call(i),i._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const To=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,td=(i,e,t,r,n,s)=>{const a=n==="svg";e==="class"?jc(i,r,a):e==="style"?$c(i,t,r):Gn(e)?aa(e)||Yc(i,e,t,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):id(i,e,r,a))?(Do(i,e,r),!i.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ao(i,e,r,a,s,e!=="value")):i._isVueCE&&(/[A-Z]/.test(e)||!_t(r))?Do(i,Zt(e),r):(e==="true-value"?i._trueValue=r:e==="false-value"&&(i._falseValue=r),Ao(i,e,r,a))};function id(i,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in i&&To(e)&&Ne(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&i.tagName==="INPUT"||e==="type"&&i.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=i.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return To(e)&&_t(t)?!1:e in i}const rd=Dt({patchProp:td},Mc);let ko;function nd(){return ko||(ko=uc(rd))}const sd=(...i)=>{const e=nd().createApp(...i),{mount:t}=e;return e.mount=r=>{const n=od(r);if(!n)return;const s=e._component;!Ne(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const a=t(n,!1,ad(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},e};function ad(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function od(i){return _t(i)?document.querySelector(i):i}var ud=!1;/*!
 * pinia v2.2.4
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const ld=Symbol();var No;(function(i){i.direct="direct",i.patchObject="patch object",i.patchFunction="patch function"})(No||(No={}));function fd(){const i=Yf(!0),e=i.run(()=>bi({}));let t=[],r=[];const n=Bu({install(s){n._a=s,s.provide(ld,n),s.config.globalProperties.$pinia=n,r.forEach(a=>t.push(a)),r=[]},use(s){return!this._a&&!ud?r.push(s):t.push(s),this},_p:t,_a:null,_e:i,_s:new Map,state:e});return n}const Yt=(i,e)=>{const t=i.__vccOpts||i;for(const[r,n]of e)t[r]=n;return t},hd={},cd={class:"codicon codicon-menu"};function dd(i,e){return tt(),bt("i",cd)}const pd=Yt(hd,[["render",dd]]),gd={},vd={class:"codicon codicon-search"};function md(i,e){return tt(),bt("i",vd)}const yd=Yt(gd,[["render",md]]),bd={},_d={class:"codicon codicon-case-sensitive"};function wd(i,e){return tt(),bt("i",_d)}const Ed=Yt(bd,[["render",wd]]),xd={},Ad={class:"codicon codicon-color-mode"};function Dd(i,e){return tt(),bt("i",Ad)}const Cd=Yt(xd,[["render",Dd]]),Sd={},Td={class:"codicon codicon-settings"};function kd(i,e){return tt(),bt("i",Td)}const Nd=Yt(Sd,[["render",kd]]);var Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Er(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Ri(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var gl={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(r,n,s){function a(f,l){if(!n[f]){if(!r[f]){var c=typeof Ri=="function"&&Ri;if(!l&&c)return c(f,!0);if(o)return o(f,!0);var p=new Error("Cannot find module '"+f+"'");throw p.code="MODULE_NOT_FOUND",p}var v=n[f]={exports:{}};r[f][0].call(v.exports,function(C){var T=r[f][1][C];return a(T||C)},v,v.exports,t,r,n,s)}return n[f].exports}for(var o=typeof Ri=="function"&&Ri,u=0;u<s.length;u++)a(s[u]);return a}({1:[function(t,r,n){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var u=0,f=new a(C),l=s.document.createTextNode("");f.observe(l,{characterData:!0}),o=function(){l.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var c=new s.MessageChannel;c.port1.onmessage=C,o=function(){c.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var d=s.document.createElement("script");d.onreadystatechange=function(){C(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},s.document.documentElement.appendChild(d)}:o=function(){setTimeout(C,0)};var p,v=[];function C(){p=!0;for(var d,g,y=v.length;y;){for(g=v,v=[],d=-1;++d<y;)g[d]();y=v.length}p=!1}r.exports=T;function T(d){v.push(d)===1&&!p&&o()}}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,r,n){var s=t(1);function a(){}var o={},u=["REJECTED"],f=["FULFILLED"],l=["PENDING"];r.exports=c;function c(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,_!==a&&T(this,_)}c.prototype.catch=function(_){return this.then(null,_)},c.prototype.then=function(_,D){if(typeof _!="function"&&this.state===f||typeof D!="function"&&this.state===u)return this;var N=new this.constructor(a);if(this.state!==l){var B=this.state===f?_:D;v(N,B,this.outcome)}else this.queue.push(new p(N,_,D));return N};function p(_,D,N){this.promise=_,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},p.prototype.otherCallFulfilled=function(_){v(this.promise,this.onFulfilled,_)},p.prototype.callRejected=function(_){o.reject(this.promise,_)},p.prototype.otherCallRejected=function(_){v(this.promise,this.onRejected,_)};function v(_,D,N){s(function(){var B;try{B=D(N)}catch(U){return o.reject(_,U)}B===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,B)})}o.resolve=function(_,D){var N=d(C,D);if(N.status==="error")return o.reject(_,N.value);var B=N.value;if(B)T(_,B);else{_.state=f,_.outcome=D;for(var U=-1,M=_.queue.length;++U<M;)_.queue[U].callFulfilled(D)}return _},o.reject=function(_,D){_.state=u,_.outcome=D;for(var N=-1,B=_.queue.length;++N<B;)_.queue[N].callRejected(D);return _};function C(_){var D=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof D=="function")return function(){D.apply(_,arguments)}}function T(_,D){var N=!1;function B(J){N||(N=!0,o.reject(_,J))}function U(J){N||(N=!0,o.resolve(_,J))}function M(){D(U,B)}var K=d(M);K.status==="error"&&B(K.value)}function d(_,D){var N={};try{N.value=_(D),N.status="success"}catch(B){N.status="error",N.value=B}return N}c.resolve=g;function g(_){return _ instanceof this?_:o.resolve(new this(a),_)}c.reject=y;function y(_){var D=new this(a);return o.reject(D,_)}c.all=x;function x(_){var D=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=_.length,B=!1;if(!N)return this.resolve([]);for(var U=new Array(N),M=0,K=-1,J=new this(a);++K<N;)ge(_[K],K);return J;function ge(De,Ae){D.resolve(De).then(de,function(le){B||(B=!0,o.reject(J,le))});function de(le){U[Ae]=le,++M===N&&!B&&(B=!0,o.resolve(J,U))}}}c.race=k;function k(_){var D=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=_.length,B=!1;if(!N)return this.resolve([]);for(var U=-1,M=new this(a);++U<N;)K(_[U]);return M;function K(J){D.resolve(J).then(function(ge){B||(B=!0,o.resolve(M,ge))},function(ge){B||(B=!0,o.reject(M,ge))})}}},{1:1}],3:[function(t,r,n){(function(s){typeof s.Promise!="function"&&(s.Promise=t(2))}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,r,n){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w};function a(w,R){if(!(w instanceof R))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=o();function f(){try{if(!u||!u.open)return!1;var w=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),R=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!w||R)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function l(w,R){w=w||[],R=R||{};try{return new Blob(w,R)}catch(F){if(F.name!=="TypeError")throw F;for(var A=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,P=new A,z=0;z<w.length;z+=1)P.append(w[z]);return P.getBlob(R.type)}}typeof Promise>"u"&&t(3);var c=Promise;function p(w,R){R&&w.then(function(A){R(null,A)},function(A){R(A)})}function v(w,R,A){typeof R=="function"&&w.then(R),typeof A=="function"&&w.catch(A)}function C(w){return typeof w!="string"&&(console.warn(w+" used as a key, but it is not a string."),w=String(w)),w}function T(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",g=void 0,y={},x=Object.prototype.toString,k="readonly",_="readwrite";function D(w){for(var R=w.length,A=new ArrayBuffer(R),P=new Uint8Array(A),z=0;z<R;z++)P[z]=w.charCodeAt(z);return A}function N(w){return new c(function(R){var A=w.transaction(d,_),P=l([""]);A.objectStore(d).put(P,"key"),A.onabort=function(z){z.preventDefault(),z.stopPropagation(),R(!1)},A.oncomplete=function(){var z=navigator.userAgent.match(/Chrome\/(\d+)/),F=navigator.userAgent.match(/Edge\//);R(F||!z||parseInt(z[1],10)>=43)}}).catch(function(){return!1})}function B(w){return typeof g=="boolean"?c.resolve(g):N(w).then(function(R){return g=R,g})}function U(w){var R=y[w.name],A={};A.promise=new c(function(P,z){A.resolve=P,A.reject=z}),R.deferredOperations.push(A),R.dbReady?R.dbReady=R.dbReady.then(function(){return A.promise}):R.dbReady=A.promise}function M(w){var R=y[w.name],A=R.deferredOperations.pop();if(A)return A.resolve(),A.promise}function K(w,R){var A=y[w.name],P=A.deferredOperations.pop();if(P)return P.reject(R),P.promise}function J(w,R){return new c(function(A,P){if(y[w.name]=y[w.name]||be(),w.db)if(R)U(w),w.db.close();else return A(w.db);var z=[w.name];R&&z.push(w.version);var F=u.open.apply(u,z);R&&(F.onupgradeneeded=function(Y){var ie=F.result;try{ie.createObjectStore(w.storeName),Y.oldVersion<=1&&ie.createObjectStore(d)}catch(oe){if(oe.name==="ConstraintError")console.warn('The database "'+w.name+'" has been upgraded from version '+Y.oldVersion+" to version "+Y.newVersion+', but the storage "'+w.storeName+'" already exists.');else throw oe}}),F.onerror=function(Y){Y.preventDefault(),P(F.error)},F.onsuccess=function(){var Y=F.result;Y.onversionchange=function(ie){ie.target.close()},A(Y),M(w)}})}function ge(w){return J(w,!1)}function De(w){return J(w,!0)}function Ae(w,R){if(!w.db)return!0;var A=!w.db.objectStoreNames.contains(w.storeName),P=w.version<w.db.version,z=w.version>w.db.version;if(P&&(w.version!==R&&console.warn('The database "'+w.name+`" can't be downgraded from version `+w.db.version+" to version "+w.version+"."),w.version=w.db.version),z||A){if(A){var F=w.db.version+1;F>w.version&&(w.version=F)}return!0}return!1}function de(w){return new c(function(R,A){var P=new FileReader;P.onerror=A,P.onloadend=function(z){var F=btoa(z.target.result||"");R({__local_forage_encoded_blob:!0,data:F,type:w.type})},P.readAsBinaryString(w)})}function le(w){var R=D(atob(w.data));return l([R],{type:w.type})}function se(w){return w&&w.__local_forage_encoded_blob}function Te(w){var R=this,A=R._initReady().then(function(){var P=y[R._dbInfo.name];if(P&&P.dbReady)return P.dbReady});return v(A,w,w),A}function He(w){U(w);for(var R=y[w.name],A=R.forages,P=0;P<A.length;P++){var z=A[P];z._dbInfo.db&&(z._dbInfo.db.close(),z._dbInfo.db=null)}return w.db=null,ge(w).then(function(F){return w.db=F,Ae(w)?De(w):F}).then(function(F){w.db=R.db=F;for(var Y=0;Y<A.length;Y++)A[Y]._dbInfo.db=F}).catch(function(F){throw K(w,F),F})}function Oe(w,R,A,P){P===void 0&&(P=1);try{var z=w.db.transaction(w.storeName,R);A(null,z)}catch(F){if(P>0&&(!w.db||F.name==="InvalidStateError"||F.name==="NotFoundError"))return c.resolve().then(function(){if(!w.db||F.name==="NotFoundError"&&!w.db.objectStoreNames.contains(w.storeName)&&w.version<=w.db.version)return w.db&&(w.version=w.db.version+1),De(w)}).then(function(){return He(w).then(function(){Oe(w,R,A,P-1)})}).catch(A);A(F)}}function be(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function qe(w){var R=this,A={db:null};if(w)for(var P in w)A[P]=w[P];var z=y[A.name];z||(z=be(),y[A.name]=z),z.forages.push(R),R._initReady||(R._initReady=R.ready,R.ready=Te);var F=[];function Y(){return c.resolve()}for(var ie=0;ie<z.forages.length;ie++){var oe=z.forages[ie];oe!==R&&F.push(oe._initReady().catch(Y))}var ue=z.forages.slice(0);return c.all(F).then(function(){return A.db=z.db,ge(A)}).then(function(ce){return A.db=ce,Ae(A,R._defaultConfig.version)?De(A):ce}).then(function(ce){A.db=z.db=ce,R._dbInfo=A;for(var Ee=0;Ee<ue.length;Ee++){var Be=ue[Ee];Be!==R&&(Be._dbInfo.db=A.db,Be._dbInfo.version=A.version)}})}function Pe(w,R){var A=this;w=C(w);var P=new c(function(z,F){A.ready().then(function(){Oe(A._dbInfo,k,function(Y,ie){if(Y)return F(Y);try{var oe=ie.objectStore(A._dbInfo.storeName),ue=oe.get(w);ue.onsuccess=function(){var ce=ue.result;ce===void 0&&(ce=null),se(ce)&&(ce=le(ce)),z(ce)},ue.onerror=function(){F(ue.error)}}catch(ce){F(ce)}})}).catch(F)});return p(P,R),P}function vt(w,R){var A=this,P=new c(function(z,F){A.ready().then(function(){Oe(A._dbInfo,k,function(Y,ie){if(Y)return F(Y);try{var oe=ie.objectStore(A._dbInfo.storeName),ue=oe.openCursor(),ce=1;ue.onsuccess=function(){var Ee=ue.result;if(Ee){var Be=Ee.value;se(Be)&&(Be=le(Be));var $e=w(Be,Ee.key,ce++);$e!==void 0?z($e):Ee.continue()}else z()},ue.onerror=function(){F(ue.error)}}catch(Ee){F(Ee)}})}).catch(F)});return p(P,R),P}function it(w,R,A){var P=this;w=C(w);var z=new c(function(F,Y){var ie;P.ready().then(function(){return ie=P._dbInfo,x.call(R)==="[object Blob]"?B(ie.db).then(function(oe){return oe?R:de(R)}):R}).then(function(oe){Oe(P._dbInfo,_,function(ue,ce){if(ue)return Y(ue);try{var Ee=ce.objectStore(P._dbInfo.storeName);oe===null&&(oe=void 0);var Be=Ee.put(oe,w);ce.oncomplete=function(){oe===void 0&&(oe=null),F(oe)},ce.onabort=ce.onerror=function(){var $e=Be.error?Be.error:Be.transaction.error;Y($e)}}catch($e){Y($e)}})}).catch(Y)});return p(z,A),z}function Xe(w,R){var A=this;w=C(w);var P=new c(function(z,F){A.ready().then(function(){Oe(A._dbInfo,_,function(Y,ie){if(Y)return F(Y);try{var oe=ie.objectStore(A._dbInfo.storeName),ue=oe.delete(w);ie.oncomplete=function(){z()},ie.onerror=function(){F(ue.error)},ie.onabort=function(){var ce=ue.error?ue.error:ue.transaction.error;F(ce)}}catch(ce){F(ce)}})}).catch(F)});return p(P,R),P}function Re(w){var R=this,A=new c(function(P,z){R.ready().then(function(){Oe(R._dbInfo,_,function(F,Y){if(F)return z(F);try{var ie=Y.objectStore(R._dbInfo.storeName),oe=ie.clear();Y.oncomplete=function(){P()},Y.onabort=Y.onerror=function(){var ue=oe.error?oe.error:oe.transaction.error;z(ue)}}catch(ue){z(ue)}})}).catch(z)});return p(A,w),A}function ft(w){var R=this,A=new c(function(P,z){R.ready().then(function(){Oe(R._dbInfo,k,function(F,Y){if(F)return z(F);try{var ie=Y.objectStore(R._dbInfo.storeName),oe=ie.count();oe.onsuccess=function(){P(oe.result)},oe.onerror=function(){z(oe.error)}}catch(ue){z(ue)}})}).catch(z)});return p(A,w),A}function Ke(w,R){var A=this,P=new c(function(z,F){if(w<0){z(null);return}A.ready().then(function(){Oe(A._dbInfo,k,function(Y,ie){if(Y)return F(Y);try{var oe=ie.objectStore(A._dbInfo.storeName),ue=!1,ce=oe.openKeyCursor();ce.onsuccess=function(){var Ee=ce.result;if(!Ee){z(null);return}w===0||ue?z(Ee.key):(ue=!0,Ee.advance(w))},ce.onerror=function(){F(ce.error)}}catch(Ee){F(Ee)}})}).catch(F)});return p(P,R),P}function je(w){var R=this,A=new c(function(P,z){R.ready().then(function(){Oe(R._dbInfo,k,function(F,Y){if(F)return z(F);try{var ie=Y.objectStore(R._dbInfo.storeName),oe=ie.openKeyCursor(),ue=[];oe.onsuccess=function(){var ce=oe.result;if(!ce){P(ue);return}ue.push(ce.key),ce.continue()},oe.onerror=function(){z(oe.error)}}catch(ce){z(ce)}})}).catch(z)});return p(A,w),A}function Qe(w,R){R=T.apply(this,arguments);var A=this.config();w=typeof w!="function"&&w||{},w.name||(w.name=w.name||A.name,w.storeName=w.storeName||A.storeName);var P=this,z;if(!w.name)z=c.reject("Invalid arguments");else{var F=w.name===A.name&&P._dbInfo.db,Y=F?c.resolve(P._dbInfo.db):ge(w).then(function(ie){var oe=y[w.name],ue=oe.forages;oe.db=ie;for(var ce=0;ce<ue.length;ce++)ue[ce]._dbInfo.db=ie;return ie});w.storeName?z=Y.then(function(ie){if(ie.objectStoreNames.contains(w.storeName)){var oe=ie.version+1;U(w);var ue=y[w.name],ce=ue.forages;ie.close();for(var Ee=0;Ee<ce.length;Ee++){var Be=ce[Ee];Be._dbInfo.db=null,Be._dbInfo.version=oe}var $e=new c(function(Ze,yt){var pt=u.open(w.name,oe);pt.onerror=function(Ht){var Ar=pt.result;Ar.close(),yt(Ht)},pt.onupgradeneeded=function(){var Ht=pt.result;Ht.deleteObjectStore(w.storeName)},pt.onsuccess=function(){var Ht=pt.result;Ht.close(),Ze(Ht)}});return $e.then(function(Ze){ue.db=Ze;for(var yt=0;yt<ce.length;yt++){var pt=ce[yt];pt._dbInfo.db=Ze,M(pt._dbInfo)}}).catch(function(Ze){throw(K(w,Ze)||c.resolve()).catch(function(){}),Ze})}}):z=Y.then(function(ie){U(w);var oe=y[w.name],ue=oe.forages;ie.close();for(var ce=0;ce<ue.length;ce++){var Ee=ue[ce];Ee._dbInfo.db=null}var Be=new c(function($e,Ze){var yt=u.deleteDatabase(w.name);yt.onerror=function(){var pt=yt.result;pt&&pt.close(),Ze(yt.error)},yt.onblocked=function(){console.warn('dropInstance blocked for database "'+w.name+'" until all open connections are closed')},yt.onsuccess=function(){var pt=yt.result;pt&&pt.close(),$e(pt)}});return Be.then(function($e){oe.db=$e;for(var Ze=0;Ze<ue.length;Ze++){var yt=ue[Ze];M(yt._dbInfo)}}).catch(function($e){throw(K(w,$e)||c.resolve()).catch(function(){}),$e})})}return p(z,R),z}var S={_driver:"asyncStorage",_initStorage:qe,_support:f(),iterate:vt,getItem:Pe,setItem:it,removeItem:Xe,clear:Re,length:ft,key:Ke,keys:je,dropInstance:Qe};function O(){return typeof openDatabase=="function"}var W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q="~~local_forage_type~",$=/^~~local_forage_type~([^~]+)~/,X="__lfsc__:",fe=X.length,ne="arbf",te="blob",G="si08",ae="ui08",he="uic8",_e="si16",xe="si32",Se="ur16",Fe="ui32",Ie="fl32",Je="fl64",rt=fe+ne.length,ut=Object.prototype.toString;function We(w){var R=w.length*.75,A=w.length,P,z=0,F,Y,ie,oe;w[w.length-1]==="="&&(R--,w[w.length-2]==="="&&R--);var ue=new ArrayBuffer(R),ce=new Uint8Array(ue);for(P=0;P<A;P+=4)F=W.indexOf(w[P]),Y=W.indexOf(w[P+1]),ie=W.indexOf(w[P+2]),oe=W.indexOf(w[P+3]),ce[z++]=F<<2|Y>>4,ce[z++]=(Y&15)<<4|ie>>2,ce[z++]=(ie&3)<<6|oe&63;return ue}function mt(w){var R=new Uint8Array(w),A="",P;for(P=0;P<R.length;P+=3)A+=W[R[P]>>2],A+=W[(R[P]&3)<<4|R[P+1]>>4],A+=W[(R[P+1]&15)<<2|R[P+2]>>6],A+=W[R[P+2]&63];return R.length%3===2?A=A.substring(0,A.length-1)+"=":R.length%3===1&&(A=A.substring(0,A.length-2)+"=="),A}function Xt(w,R){var A="";if(w&&(A=ut.call(w)),w&&(A==="[object ArrayBuffer]"||w.buffer&&ut.call(w.buffer)==="[object ArrayBuffer]")){var P,z=X;w instanceof ArrayBuffer?(P=w,z+=ne):(P=w.buffer,A==="[object Int8Array]"?z+=G:A==="[object Uint8Array]"?z+=ae:A==="[object Uint8ClampedArray]"?z+=he:A==="[object Int16Array]"?z+=_e:A==="[object Uint16Array]"?z+=Se:A==="[object Int32Array]"?z+=xe:A==="[object Uint32Array]"?z+=Fe:A==="[object Float32Array]"?z+=Ie:A==="[object Float64Array]"?z+=Je:R(new Error("Failed to get type for BinaryArray"))),R(z+mt(P))}else if(A==="[object Blob]"){var F=new FileReader;F.onload=function(){var Y=Q+w.type+"~"+mt(this.result);R(X+te+Y)},F.readAsArrayBuffer(w)}else try{R(JSON.stringify(w))}catch(Y){console.error("Couldn't convert value into a JSON string: ",w),R(null,Y)}}function E(w){if(w.substring(0,fe)!==X)return JSON.parse(w);var R=w.substring(rt),A=w.substring(fe,rt),P;if(A===te&&$.test(R)){var z=R.match($);P=z[1],R=R.substring(z[0].length)}var F=We(R);switch(A){case ne:return F;case te:return l([F],{type:P});case G:return new Int8Array(F);case ae:return new Uint8Array(F);case he:return new Uint8ClampedArray(F);case _e:return new Int16Array(F);case Se:return new Uint16Array(F);case xe:return new Int32Array(F);case Fe:return new Uint32Array(F);case Ie:return new Float32Array(F);case Je:return new Float64Array(F);default:throw new Error("Unkown type: "+A)}}var Z={serialize:Xt,deserialize:E,stringToBuffer:We,bufferToString:mt};function re(w,R,A,P){w.executeSql("CREATE TABLE IF NOT EXISTS "+R.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],A,P)}function ye(w){var R=this,A={db:null};if(w)for(var P in w)A[P]=typeof w[P]!="string"?w[P].toString():w[P];var z=new c(function(F,Y){try{A.db=openDatabase(A.name,String(A.version),A.description,A.size)}catch(ie){return Y(ie)}A.db.transaction(function(ie){re(ie,A,function(){R._dbInfo=A,F()},function(oe,ue){Y(ue)})},Y)});return A.serializer=Z,z}function L(w,R,A,P,z,F){w.executeSql(A,P,z,function(Y,ie){ie.code===ie.SYNTAX_ERR?Y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[R.storeName],function(oe,ue){ue.rows.length?F(oe,ie):re(oe,R,function(){oe.executeSql(A,P,z,F)},F)},F):F(Y,ie)},F)}function V(w,R){var A=this;w=C(w);var P=new c(function(z,F){A.ready().then(function(){var Y=A._dbInfo;Y.db.transaction(function(ie){L(ie,Y,"SELECT * FROM "+Y.storeName+" WHERE key = ? LIMIT 1",[w],function(oe,ue){var ce=ue.rows.length?ue.rows.item(0).value:null;ce&&(ce=Y.serializer.deserialize(ce)),z(ce)},function(oe,ue){F(ue)})})}).catch(F)});return p(P,R),P}function m(w,R){var A=this,P=new c(function(z,F){A.ready().then(function(){var Y=A._dbInfo;Y.db.transaction(function(ie){L(ie,Y,"SELECT * FROM "+Y.storeName,[],function(oe,ue){for(var ce=ue.rows,Ee=ce.length,Be=0;Be<Ee;Be++){var $e=ce.item(Be),Ze=$e.value;if(Ze&&(Ze=Y.serializer.deserialize(Ze)),Ze=w(Ze,$e.key,Be+1),Ze!==void 0){z(Ze);return}}z()},function(oe,ue){F(ue)})})}).catch(F)});return p(P,R),P}function ee(w,R,A,P){var z=this;w=C(w);var F=new c(function(Y,ie){z.ready().then(function(){R===void 0&&(R=null);var oe=R,ue=z._dbInfo;ue.serializer.serialize(R,function(ce,Ee){Ee?ie(Ee):ue.db.transaction(function(Be){L(Be,ue,"INSERT OR REPLACE INTO "+ue.storeName+" (key, value) VALUES (?, ?)",[w,ce],function(){Y(oe)},function($e,Ze){ie(Ze)})},function(Be){if(Be.code===Be.QUOTA_ERR){if(P>0){Y(ee.apply(z,[w,oe,A,P-1]));return}ie(Be)}})})}).catch(ie)});return p(F,A),F}function Ce(w,R,A){return ee.apply(this,[w,R,A,1])}function h(w,R){var A=this;w=C(w);var P=new c(function(z,F){A.ready().then(function(){var Y=A._dbInfo;Y.db.transaction(function(ie){L(ie,Y,"DELETE FROM "+Y.storeName+" WHERE key = ?",[w],function(){z()},function(oe,ue){F(ue)})})}).catch(F)});return p(P,R),P}function q(w){var R=this,A=new c(function(P,z){R.ready().then(function(){var F=R._dbInfo;F.db.transaction(function(Y){L(Y,F,"DELETE FROM "+F.storeName,[],function(){P()},function(ie,oe){z(oe)})})}).catch(z)});return p(A,w),A}function H(w){var R=this,A=new c(function(P,z){R.ready().then(function(){var F=R._dbInfo;F.db.transaction(function(Y){L(Y,F,"SELECT COUNT(key) as c FROM "+F.storeName,[],function(ie,oe){var ue=oe.rows.item(0).c;P(ue)},function(ie,oe){z(oe)})})}).catch(z)});return p(A,w),A}function b(w,R){var A=this,P=new c(function(z,F){A.ready().then(function(){var Y=A._dbInfo;Y.db.transaction(function(ie){L(ie,Y,"SELECT key FROM "+Y.storeName+" WHERE id = ? LIMIT 1",[w+1],function(oe,ue){var ce=ue.rows.length?ue.rows.item(0).key:null;z(ce)},function(oe,ue){F(ue)})})}).catch(F)});return p(P,R),P}function I(w){var R=this,A=new c(function(P,z){R.ready().then(function(){var F=R._dbInfo;F.db.transaction(function(Y){L(Y,F,"SELECT key FROM "+F.storeName,[],function(ie,oe){for(var ue=[],ce=0;ce<oe.rows.length;ce++)ue.push(oe.rows.item(ce).key);P(ue)},function(ie,oe){z(oe)})})}).catch(z)});return p(A,w),A}function j(w){return new c(function(R,A){w.transaction(function(P){P.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(z,F){for(var Y=[],ie=0;ie<F.rows.length;ie++)Y.push(F.rows.item(ie).name);R({db:w,storeNames:Y})},function(z,F){A(F)})},function(P){A(P)})})}function we(w,R){R=T.apply(this,arguments);var A=this.config();w=typeof w!="function"&&w||{},w.name||(w.name=w.name||A.name,w.storeName=w.storeName||A.storeName);var P=this,z;return w.name?z=new c(function(F){var Y;w.name===A.name?Y=P._dbInfo.db:Y=openDatabase(w.name,"","",0),w.storeName?F({db:Y,storeNames:[w.storeName]}):F(j(Y))}).then(function(F){return new c(function(Y,ie){F.db.transaction(function(oe){function ue($e){return new c(function(Ze,yt){oe.executeSql("DROP TABLE IF EXISTS "+$e,[],function(){Ze()},function(pt,Ht){yt(Ht)})})}for(var ce=[],Ee=0,Be=F.storeNames.length;Ee<Be;Ee++)ce.push(ue(F.storeNames[Ee]));c.all(ce).then(function(){Y()}).catch(function($e){ie($e)})},function(oe){ie(oe)})})}):z=c.reject("Invalid arguments"),p(z,R),z}var ve={_driver:"webSQLStorage",_initStorage:ye,_support:O(),iterate:m,getItem:V,setItem:Ce,removeItem:h,clear:q,length:H,key:b,keys:I,dropInstance:we};function me(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Le(w,R){var A=w.name+"/";return w.storeName!==R.storeName&&(A+=w.storeName+"/"),A}function Kt(){var w="_localforage_support_test";try{return localStorage.setItem(w,!0),localStorage.removeItem(w),!1}catch{return!0}}function at(){return!Kt()||localStorage.length>0}function ze(w){var R=this,A={};if(w)for(var P in w)A[P]=w[P];return A.keyPrefix=Le(w,R._defaultConfig),at()?(R._dbInfo=A,A.serializer=Z,c.resolve()):c.reject()}function dt(w){var R=this,A=R.ready().then(function(){for(var P=R._dbInfo.keyPrefix,z=localStorage.length-1;z>=0;z--){var F=localStorage.key(z);F.indexOf(P)===0&&localStorage.removeItem(F)}});return p(A,w),A}function Et(w,R){var A=this;w=C(w);var P=A.ready().then(function(){var z=A._dbInfo,F=localStorage.getItem(z.keyPrefix+w);return F&&(F=z.serializer.deserialize(F)),F});return p(P,R),P}function Ct(w,R){var A=this,P=A.ready().then(function(){for(var z=A._dbInfo,F=z.keyPrefix,Y=F.length,ie=localStorage.length,oe=1,ue=0;ue<ie;ue++){var ce=localStorage.key(ue);if(ce.indexOf(F)===0){var Ee=localStorage.getItem(ce);if(Ee&&(Ee=z.serializer.deserialize(Ee)),Ee=w(Ee,ce.substring(Y),oe++),Ee!==void 0)return Ee}}});return p(P,R),P}function Xi(w,R){var A=this,P=A.ready().then(function(){var z=A._dbInfo,F;try{F=localStorage.key(w)}catch{F=null}return F&&(F=F.substring(z.keyPrefix.length)),F});return p(P,R),P}function Ki(w){var R=this,A=R.ready().then(function(){for(var P=R._dbInfo,z=localStorage.length,F=[],Y=0;Y<z;Y++){var ie=localStorage.key(Y);ie.indexOf(P.keyPrefix)===0&&F.push(ie.substring(P.keyPrefix.length))}return F});return p(A,w),A}function ht(w){var R=this,A=R.keys().then(function(P){return P.length});return p(A,w),A}function Ft(w,R){var A=this;w=C(w);var P=A.ready().then(function(){var z=A._dbInfo;localStorage.removeItem(z.keyPrefix+w)});return p(P,R),P}function wt(w,R,A){var P=this;w=C(w);var z=P.ready().then(function(){R===void 0&&(R=null);var F=R;return new c(function(Y,ie){var oe=P._dbInfo;oe.serializer.serialize(R,function(ue,ce){if(ce)ie(ce);else try{localStorage.setItem(oe.keyPrefix+w,ue),Y(F)}catch(Ee){(Ee.name==="QuotaExceededError"||Ee.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ie(Ee),ie(Ee)}})})});return p(z,A),z}function Jt(w,R){if(R=T.apply(this,arguments),w=typeof w!="function"&&w||{},!w.name){var A=this.config();w.name=w.name||A.name,w.storeName=w.storeName||A.storeName}var P=this,z;return w.name?z=new c(function(F){w.storeName?F(Le(w,P._defaultConfig)):F(w.name+"/")}).then(function(F){for(var Y=localStorage.length-1;Y>=0;Y--){var ie=localStorage.key(Y);ie.indexOf(F)===0&&localStorage.removeItem(ie)}}):z=c.reject("Invalid arguments"),p(z,R),z}var qt={_driver:"localStorageWrapper",_initStorage:ze,_support:me(),iterate:Ct,getItem:Et,setItem:wt,removeItem:Ft,clear:dt,length:ht,key:Xi,keys:Ki,dropInstance:Jt},fn=function(R,A){return R===A||typeof R=="number"&&typeof A=="number"&&isNaN(R)&&isNaN(A)},Tf=function(R,A){for(var P=R.length,z=0;z<P;){if(fn(R[z],A))return!0;z++}return!1},Za=Array.isArray||function(w){return Object.prototype.toString.call(w)==="[object Array]"},xr={},Ya={},Ji={INDEXEDDB:S,WEBSQL:ve,LOCALSTORAGE:qt},kf=[Ji.INDEXEDDB._driver,Ji.WEBSQL._driver,Ji.LOCALSTORAGE._driver],hn=["dropInstance"],hs=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(hn),Nf={description:"",driver:kf.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Rf(w,R){w[R]=function(){var A=arguments;return w.ready().then(function(){return w[R].apply(w,A)})}}function cs(){for(var w=1;w<arguments.length;w++){var R=arguments[w];if(R)for(var A in R)R.hasOwnProperty(A)&&(Za(R[A])?arguments[0][A]=R[A].slice():arguments[0][A]=R[A])}return arguments[0]}var If=function(){function w(R){a(this,w);for(var A in Ji)if(Ji.hasOwnProperty(A)){var P=Ji[A],z=P._driver;this[A]=z,xr[z]||this.defineDriver(P)}this._defaultConfig=cs({},Nf),this._config=cs({},this._defaultConfig,R),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return w.prototype.config=function(A){if((typeof A>"u"?"undefined":s(A))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var P in A){if(P==="storeName"&&(A[P]=A[P].replace(/\W/g,"_")),P==="version"&&typeof A[P]!="number")return new Error("Database version must be a number.");this._config[P]=A[P]}return"driver"in A&&A.driver?this.setDriver(this._config.driver):!0}else return typeof A=="string"?this._config[A]:this._config},w.prototype.defineDriver=function(A,P,z){var F=new c(function(Y,ie){try{var oe=A._driver,ue=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!A._driver){ie(ue);return}for(var ce=hs.concat("_initStorage"),Ee=0,Be=ce.length;Ee<Be;Ee++){var $e=ce[Ee],Ze=!Tf(hn,$e);if((Ze||A[$e])&&typeof A[$e]!="function"){ie(ue);return}}var yt=function(){for(var Ar=function(Lf){return function(){var Ff=new Error("Method "+Lf+" is not implemented by the current driver"),Xa=c.reject(Ff);return p(Xa,arguments[arguments.length-1]),Xa}},ds=0,Bf=hn.length;ds<Bf;ds++){var ps=hn[ds];A[ps]||(A[ps]=Ar(ps))}};yt();var pt=function(Ar){xr[oe]&&console.info("Redefining LocalForage driver: "+oe),xr[oe]=A,Ya[oe]=Ar,Y()};"_support"in A?A._support&&typeof A._support=="function"?A._support().then(pt,ie):pt(!!A._support):pt(!0)}catch(Ht){ie(Ht)}});return v(F,P,z),F},w.prototype.driver=function(){return this._driver||null},w.prototype.getDriver=function(A,P,z){var F=xr[A]?c.resolve(xr[A]):c.reject(new Error("Driver not found."));return v(F,P,z),F},w.prototype.getSerializer=function(A){var P=c.resolve(Z);return v(P,A),P},w.prototype.ready=function(A){var P=this,z=P._driverSet.then(function(){return P._ready===null&&(P._ready=P._initDriver()),P._ready});return v(z,A,A),z},w.prototype.setDriver=function(A,P,z){var F=this;Za(A)||(A=[A]);var Y=this._getSupportedDrivers(A);function ie(){F._config.driver=F.driver()}function oe(Ee){return F._extend(Ee),ie(),F._ready=F._initStorage(F._config),F._ready}function ue(Ee){return function(){var Be=0;function $e(){for(;Be<Ee.length;){var Ze=Ee[Be];return Be++,F._dbInfo=null,F._ready=null,F.getDriver(Ze).then(oe).catch($e)}ie();var yt=new Error("No available storage method found.");return F._driverSet=c.reject(yt),F._driverSet}return $e()}}var ce=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=ce.then(function(){var Ee=Y[0];return F._dbInfo=null,F._ready=null,F.getDriver(Ee).then(function(Be){F._driver=Be._driver,ie(),F._wrapLibraryMethodsWithReady(),F._initDriver=ue(Y)})}).catch(function(){ie();var Ee=new Error("No available storage method found.");return F._driverSet=c.reject(Ee),F._driverSet}),v(this._driverSet,P,z),this._driverSet},w.prototype.supports=function(A){return!!Ya[A]},w.prototype._extend=function(A){cs(this,A)},w.prototype._getSupportedDrivers=function(A){for(var P=[],z=0,F=A.length;z<F;z++){var Y=A[z];this.supports(Y)&&P.push(Y)}return P},w.prototype._wrapLibraryMethodsWithReady=function(){for(var A=0,P=hs.length;A<P;A++)Rf(this,hs[A])},w.prototype.createInstance=function(A){return new w(A)},w}(),Of=new If;r.exports=Of},{3:3}]},{},[4])(4)})})(gl);var Rd=gl.exports;const On=Er(Rd),Ys=On.createInstance({driver:On.INDEXEDDB,name:"epub-reader"});var Xs={exports:{}},vl={exports:{}},Id=void 0,ml=function(i){return i!==Id&&i!==null},Od=ml,Bd={object:!0,function:!0,undefined:!0},Ld=function(i){return Od(i)?hasOwnProperty.call(Bd,typeof i):!1},Fd=Ld,Pd=function(i){if(!Fd(i))return!1;try{return i.constructor?i.constructor.prototype===i:!1}catch{return!1}},zd=Pd,Md=function(i){if(typeof i!="function"||!hasOwnProperty.call(i,"length"))return!1;try{if(typeof i.length!="number"||typeof i.call!="function"||typeof i.apply!="function")return!1}catch{return!1}return!zd(i)},Ud=Md,jd=/^\s*class[\s{/}]/,Wd=Function.prototype.toString,qd=function(i){return!(!Ud(i)||jd.test(Wd.call(i)))},Hd=function(){var i=Object.assign,e;return typeof i!="function"?!1:(e={foo:"raz"},i(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")},Ss,Ro;function $d(){return Ro||(Ro=1,Ss=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),Ss}var Vd=function(){},Gd=Vd(),Sa=function(i){return i!==Gd&&i!==null},Ts,Io;function Zd(){if(Io)return Ts;Io=1;var i=Sa,e=Object.keys;return Ts=function(t){return e(i(t)?Object(t):t)},Ts}var ks,Oo;function Yd(){return Oo||(Oo=1,ks=$d()()?Object.keys:Zd()),ks}var Ns,Bo;function Xd(){if(Bo)return Ns;Bo=1;var i=Sa;return Ns=function(e){if(!i(e))throw new TypeError("Cannot use null or undefined");return e},Ns}var Rs,Lo;function Kd(){if(Lo)return Rs;Lo=1;var i=Yd(),e=Xd(),t=Math.max;return Rs=function(r,n){var s,a,o=t(arguments.length,2),u;for(r=Object(e(r)),u=function(f){try{r[f]=n[f]}catch(l){s||(s=l)}},a=1;a<o;++a)n=arguments[a],i(n).forEach(u);if(s!==void 0)throw s;return r},Rs}var Jd=Hd()?Object.assign:Kd(),Qd=Sa,ep=Array.prototype.forEach,tp=Object.create,ip=function(i,e){var t;for(t in i)e[t]=i[t]},rp=function(i){var e=tp(null);return ep.call(arguments,function(t){Qd(t)&&ip(Object(t),e)}),e},Is="razdwatrzy",np=function(){return typeof Is.contains!="function"?!1:Is.contains("dwa")===!0&&Is.contains("foo")===!1},Os,Fo;function sp(){if(Fo)return Os;Fo=1;var i=String.prototype.indexOf;return Os=function(e){return i.call(this,e,arguments[1])>-1},Os}var ap=np()?String.prototype.contains:sp(),An=ml,Po=qd,yl=Jd,bl=rp,Ur=ap,op=vl.exports=function(i,e){var t,r,n,s,a;return arguments.length<2||typeof i!="string"?(s=e,e=i,i=null):s=arguments[2],An(i)?(t=Ur.call(i,"c"),r=Ur.call(i,"e"),n=Ur.call(i,"w")):(t=n=!0,r=!1),a={value:e,configurable:t,enumerable:r,writable:n},s?yl(bl(s),a):a};op.gs=function(i,e,t){var r,n,s,a;return typeof i!="string"?(s=t,t=e,e=i,i=null):s=arguments[3],An(e)?Po(e)?An(t)?Po(t)||(s=t,t=void 0):t=void 0:(s=e,e=t=void 0):e=void 0,An(i)?(r=Ur.call(i,"c"),n=Ur.call(i,"e")):(r=!0,n=!1),a={get:e,set:t,configurable:r,enumerable:n},s?yl(bl(s),a):a};var up=vl.exports,lp=function(i){if(typeof i!="function")throw new TypeError(i+" is not a function");return i};(function(i,e){var t=up,r=lp,n=Function.prototype.apply,s=Function.prototype.call,a=Object.create,o=Object.defineProperty,u=Object.defineProperties,f=Object.prototype.hasOwnProperty,l={configurable:!0,enumerable:!1,writable:!0},c,p,v,C,T,d,g;c=function(y,x){var k;return r(x),f.call(this,"__ee__")?k=this.__ee__:(k=l.value=a(null),o(this,"__ee__",l),l.value=null),k[y]?typeof k[y]=="object"?k[y].push(x):k[y]=[k[y],x]:k[y]=x,this},p=function(y,x){var k,_;return r(x),_=this,c.call(this,y,k=function(){v.call(_,y,k),n.call(x,this,arguments)}),k.__eeOnceListener__=x,this},v=function(y,x){var k,_,D,N;if(r(x),!f.call(this,"__ee__"))return this;if(k=this.__ee__,!k[y])return this;if(_=k[y],typeof _=="object")for(N=0;D=_[N];++N)(D===x||D.__eeOnceListener__===x)&&(_.length===2?k[y]=_[N?0:1]:_.splice(N,1));else(_===x||_.__eeOnceListener__===x)&&delete k[y];return this},C=function(y){var x,k,_,D,N;if(f.call(this,"__ee__")&&(D=this.__ee__[y],!!D))if(typeof D=="object"){for(k=arguments.length,N=new Array(k-1),x=1;x<k;++x)N[x-1]=arguments[x];for(D=D.slice(),x=0;_=D[x];++x)n.call(_,this,N)}else switch(arguments.length){case 1:s.call(D,this);break;case 2:s.call(D,this,arguments[1]);break;case 3:s.call(D,this,arguments[1],arguments[2]);break;default:for(k=arguments.length,N=new Array(k-1),x=1;x<k;++x)N[x-1]=arguments[x];n.call(D,this,N)}},T={on:c,once:p,off:v,emit:C},d={on:t(c),once:t(p),off:t(v),emit:t(C)},g=u({},d),i.exports=e=function(y){return y==null?a(g):u(Object(y),d)},e.methods=T})(Xs,Xs.exports);var fp=Xs.exports;const pi=Er(fp);var Pi={},zi={};function hp(i,e,t){if(t===void 0&&(t=Array.prototype),i&&typeof t.find=="function")return t.find.call(i,e);for(var r=0;r<i.length;r++)if(Object.prototype.hasOwnProperty.call(i,r)){var n=i[r];if(e.call(void 0,n,r,i))return n}}function Ta(i,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(i):i}var _l=Ta({HTML:"text/html",isHTML:function(i){return i===_l.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),wl=Ta({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(i){return i===wl.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});zi.find=hp;zi.freeze=Ta;zi.MIME_TYPE=_l;zi.NAMESPACE=wl;var El=zi,fi=El.find,Gr=El.NAMESPACE;function cp(i){return i!==""}function dp(i){return i?i.split(/[\t\n\f\r ]+/).filter(cp):[]}function pp(i,e){return i.hasOwnProperty(e)||(i[e]=!0),i}function zo(i){if(!i)return[];var e=dp(i);return Object.keys(e.reduce(pp,{}))}function gp(i){return function(e){return i&&i.indexOf(e)!==-1}}function nn(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}function zt(i,e){var t=i.prototype;if(!(t instanceof e)){let n=function(){};var r=n;n.prototype=e.prototype,n=new n,nn(t,n),i.prototype=t=n}t.constructor!=i&&(typeof i!="function"&&console.error("unknown Class:"+i),t.constructor=i)}var Mt={},ni=Mt.ELEMENT_NODE=1,yr=Mt.ATTRIBUTE_NODE=2,Bn=Mt.TEXT_NODE=3,xl=Mt.CDATA_SECTION_NODE=4,Al=Mt.ENTITY_REFERENCE_NODE=5,vp=Mt.ENTITY_NODE=6,Dl=Mt.PROCESSING_INSTRUCTION_NODE=7,Cl=Mt.COMMENT_NODE=8,Sl=Mt.DOCUMENT_NODE=9,Tl=Mt.DOCUMENT_TYPE_NODE=10,wi=Mt.DOCUMENT_FRAGMENT_NODE=11,mp=Mt.NOTATION_NODE=12,Rt={},xt={};Rt.INDEX_SIZE_ERR=(xt[1]="Index size error",1);Rt.DOMSTRING_SIZE_ERR=(xt[2]="DOMString size error",2);var Pt=Rt.HIERARCHY_REQUEST_ERR=(xt[3]="Hierarchy request error",3);Rt.WRONG_DOCUMENT_ERR=(xt[4]="Wrong document",4);Rt.INVALID_CHARACTER_ERR=(xt[5]="Invalid character",5);Rt.NO_DATA_ALLOWED_ERR=(xt[6]="No data allowed",6);Rt.NO_MODIFICATION_ALLOWED_ERR=(xt[7]="No modification allowed",7);var kl=Rt.NOT_FOUND_ERR=(xt[8]="Not found",8);Rt.NOT_SUPPORTED_ERR=(xt[9]="Not supported",9);var Mo=Rt.INUSE_ATTRIBUTE_ERR=(xt[10]="Attribute in use",10);Rt.INVALID_STATE_ERR=(xt[11]="Invalid state",11);Rt.SYNTAX_ERR=(xt[12]="Syntax error",12);Rt.INVALID_MODIFICATION_ERR=(xt[13]="Invalid modification",13);Rt.NAMESPACE_ERR=(xt[14]="Invalid namespace",14);Rt.INVALID_ACCESS_ERR=(xt[15]="Invalid access",15);function gt(i,e){if(e instanceof Error)var t=e;else t=this,Error.call(this,xt[i]),this.message=xt[i],Error.captureStackTrace&&Error.captureStackTrace(this,gt);return t.code=i,e&&(this.message=this.message+": "+e),t}gt.prototype=Error.prototype;nn(Rt,gt);function _i(){}_i.prototype={length:0,item:function(i){return i>=0&&i<this.length?this[i]:null},toString:function(i,e){for(var t=[],r=0;r<this.length;r++)lr(this[r],t,i,e);return t.join("")},filter:function(i){return Array.prototype.filter.call(this,i)},indexOf:function(i){return Array.prototype.indexOf.call(this,i)}};function br(i,e){this._node=i,this._refresh=e,ka(this)}function ka(i){var e=i._node._inc||i._node.ownerDocument._inc;if(i._inc!==e){var t=i._refresh(i._node);if(jl(i,"length",t.length),!i.$$length||t.length<i.$$length)for(var r=t.length;r in i;r++)Object.prototype.hasOwnProperty.call(i,r)&&delete i[r];nn(t,i),i._inc=e}}br.prototype.item=function(i){return ka(this),this[i]||null};zt(br,_i);function Ln(){}function Nl(i,e){for(var t=i.length;t--;)if(i[t]===e)return t}function Uo(i,e,t,r){if(r?e[Nl(e,r)]=t:e[e.length++]=t,i){t.ownerElement=i;var n=i.ownerDocument;n&&(r&&Ol(n,i,r),yp(n,i,t))}}function jo(i,e,t){var r=Nl(e,t);if(r>=0){for(var n=e.length-1;r<n;)e[r]=e[++r];if(e.length=n,i){var s=i.ownerDocument;s&&(Ol(s,i,t),t.ownerElement=null)}}else throw new gt(kl,new Error(i.tagName+"@"+t))}Ln.prototype={length:0,item:_i.prototype.item,getNamedItem:function(i){for(var e=this.length;e--;){var t=this[e];if(t.nodeName==i)return t}},setNamedItem:function(i){var e=i.ownerElement;if(e&&e!=this._ownerElement)throw new gt(Mo);var t=this.getNamedItem(i.nodeName);return Uo(this._ownerElement,this,i,t),t},setNamedItemNS:function(i){var e=i.ownerElement,t;if(e&&e!=this._ownerElement)throw new gt(Mo);return t=this.getNamedItemNS(i.namespaceURI,i.localName),Uo(this._ownerElement,this,i,t),t},removeNamedItem:function(i){var e=this.getNamedItem(i);return jo(this._ownerElement,this,e),e},removeNamedItemNS:function(i,e){var t=this.getNamedItemNS(i,e);return jo(this._ownerElement,this,t),t},getNamedItemNS:function(i,e){for(var t=this.length;t--;){var r=this[t];if(r.localName==e&&r.namespaceURI==i)return r}return null}};function Rl(){}Rl.prototype={hasFeature:function(i,e){return!0},createDocument:function(i,e,t){var r=new sn;if(r.implementation=this,r.childNodes=new _i,r.doctype=t||null,t&&r.appendChild(t),e){var n=r.createElementNS(i,e);r.appendChild(n)}return r},createDocumentType:function(i,e,t){var r=new ns;return r.name=i,r.nodeName=i,r.publicId=e||"",r.systemId=t||"",r}};function Ye(){}Ye.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(i,e){return Fn(this,i,e)},replaceChild:function(i,e){Fn(this,i,e,Ll),e&&this.removeChild(e)},removeChild:function(i){return Bl(this,i)},appendChild:function(i){return this.insertBefore(i,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(i){return Ks(this.ownerDocument||this,this,i)},normalize:function(){for(var i=this.firstChild;i;){var e=i.nextSibling;e&&e.nodeType==Bn&&i.nodeType==Bn?(this.removeChild(e),i.appendData(e.data)):(i.normalize(),i=e)}},isSupported:function(i,e){return this.ownerDocument.implementation.hasFeature(i,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(i){for(var e=this;e;){var t=e._nsMap;if(t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&t[r]===i)return r}e=e.nodeType==yr?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(i){for(var e=this;e;){var t=e._nsMap;if(t&&i in t&&Object.prototype.hasOwnProperty.call(t,i))return t[i];e=e.nodeType==yr?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(i){var e=this.lookupPrefix(i);return e==null}};function Il(i){return i=="<"&&"&lt;"||i==">"&&"&gt;"||i=="&"&&"&amp;"||i=='"'&&"&quot;"||"&#"+i.charCodeAt()+";"}nn(Mt,Ye);nn(Mt,Ye.prototype);function Zr(i,e){if(e(i))return!0;if(i=i.firstChild)do if(Zr(i,e))return!0;while(i=i.nextSibling)}function sn(){this.ownerDocument=this}function yp(i,e,t){i&&i._inc++;var r=t.namespaceURI;r===Gr.XMLNS&&(e._nsMap[t.prefix?t.localName:""]=t.value)}function Ol(i,e,t,r){i&&i._inc++;var n=t.namespaceURI;n===Gr.XMLNS&&delete e._nsMap[t.prefix?t.localName:""]}function Na(i,e,t){if(i&&i._inc){i._inc++;var r=e.childNodes;if(t)r[r.length++]=t;else{for(var n=e.firstChild,s=0;n;)r[s++]=n,n=n.nextSibling;r.length=s,delete r[r.length]}}}function Bl(i,e){var t=e.previousSibling,r=e.nextSibling;return t?t.nextSibling=r:i.firstChild=r,r?r.previousSibling=t:i.lastChild=t,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Na(i.ownerDocument,i),e}function bp(i){return i&&(i.nodeType===Ye.DOCUMENT_NODE||i.nodeType===Ye.DOCUMENT_FRAGMENT_NODE||i.nodeType===Ye.ELEMENT_NODE)}function _p(i){return i&&(hi(i)||Ra(i)||Ei(i)||i.nodeType===Ye.DOCUMENT_FRAGMENT_NODE||i.nodeType===Ye.COMMENT_NODE||i.nodeType===Ye.PROCESSING_INSTRUCTION_NODE)}function Ei(i){return i&&i.nodeType===Ye.DOCUMENT_TYPE_NODE}function hi(i){return i&&i.nodeType===Ye.ELEMENT_NODE}function Ra(i){return i&&i.nodeType===Ye.TEXT_NODE}function Wo(i,e){var t=i.childNodes||[];if(fi(t,hi)||Ei(e))return!1;var r=fi(t,Ei);return!(e&&r&&t.indexOf(r)>t.indexOf(e))}function qo(i,e){var t=i.childNodes||[];function r(s){return hi(s)&&s!==e}if(fi(t,r))return!1;var n=fi(t,Ei);return!(e&&n&&t.indexOf(n)>t.indexOf(e))}function wp(i,e,t){if(!bp(i))throw new gt(Pt,"Unexpected parent node type "+i.nodeType);if(t&&t.parentNode!==i)throw new gt(kl,"child not in parent");if(!_p(e)||Ei(e)&&i.nodeType!==Ye.DOCUMENT_NODE)throw new gt(Pt,"Unexpected node type "+e.nodeType+" for parent node type "+i.nodeType)}function Ep(i,e,t){var r=i.childNodes||[],n=e.childNodes||[];if(e.nodeType===Ye.DOCUMENT_FRAGMENT_NODE){var s=n.filter(hi);if(s.length>1||fi(n,Ra))throw new gt(Pt,"More than one element or text in fragment");if(s.length===1&&!Wo(i,t))throw new gt(Pt,"Element in fragment can not be inserted before doctype")}if(hi(e)&&!Wo(i,t))throw new gt(Pt,"Only one element can be added and only after doctype");if(Ei(e)){if(fi(r,Ei))throw new gt(Pt,"Only one doctype is allowed");var a=fi(r,hi);if(t&&r.indexOf(a)<r.indexOf(t))throw new gt(Pt,"Doctype can only be inserted before an element");if(!t&&a)throw new gt(Pt,"Doctype can not be appended since element is present")}}function Ll(i,e,t){var r=i.childNodes||[],n=e.childNodes||[];if(e.nodeType===Ye.DOCUMENT_FRAGMENT_NODE){var s=n.filter(hi);if(s.length>1||fi(n,Ra))throw new gt(Pt,"More than one element or text in fragment");if(s.length===1&&!qo(i,t))throw new gt(Pt,"Element in fragment can not be inserted before doctype")}if(hi(e)&&!qo(i,t))throw new gt(Pt,"Only one element can be added and only after doctype");if(Ei(e)){let u=function(f){return Ei(f)&&f!==t};var o=u;if(fi(r,u))throw new gt(Pt,"Only one doctype is allowed");var a=fi(r,hi);if(t&&r.indexOf(a)<r.indexOf(t))throw new gt(Pt,"Doctype can only be inserted before an element")}}function Fn(i,e,t,r){wp(i,e,t),i.nodeType===Ye.DOCUMENT_NODE&&(r||Ep)(i,e,t);var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===wi){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=t?t.previousSibling:i.lastChild;s.previousSibling=o,a.nextSibling=t,o?o.nextSibling=s:i.firstChild=s,t==null?i.lastChild=a:t.previousSibling=a;do s.parentNode=i;while(s!==a&&(s=s.nextSibling));return Na(i.ownerDocument||i,i),e.nodeType==wi&&(e.firstChild=e.lastChild=null),e}function xp(i,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=i,e.previousSibling=i.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:i.firstChild=e,i.lastChild=e,Na(i.ownerDocument,i,e),e}sn.prototype={nodeName:"#document",nodeType:Sl,doctype:null,documentElement:null,_inc:1,insertBefore:function(i,e){if(i.nodeType==wi){for(var t=i.firstChild;t;){var r=t.nextSibling;this.insertBefore(t,e),t=r}return i}return Fn(this,i,e),i.ownerDocument=this,this.documentElement===null&&i.nodeType===ni&&(this.documentElement=i),i},removeChild:function(i){return this.documentElement==i&&(this.documentElement=null),Bl(this,i)},replaceChild:function(i,e){Fn(this,i,e,Ll),i.ownerDocument=this,e&&this.removeChild(e),hi(i)&&(this.documentElement=i)},importNode:function(i,e){return Ul(this,i,e)},getElementById:function(i){var e=null;return Zr(this.documentElement,function(t){if(t.nodeType==ni&&t.getAttribute("id")==i)return e=t,!0}),e},getElementsByClassName:function(i){var e=zo(i);return new br(this,function(t){var r=[];return e.length>0&&Zr(t.documentElement,function(n){if(n!==t&&n.nodeType===ni){var s=n.getAttribute("class");if(s){var a=i===s;if(!a){var o=zo(s);a=e.every(gp(o))}a&&r.push(n)}}}),r})},createElement:function(i){var e=new Gi;e.ownerDocument=this,e.nodeName=i,e.tagName=i,e.localName=i,e.childNodes=new _i;var t=e.attributes=new Ln;return t._ownerElement=e,e},createDocumentFragment:function(){var i=new ss;return i.ownerDocument=this,i.childNodes=new _i,i},createTextNode:function(i){var e=new Ia;return e.ownerDocument=this,e.appendData(i),e},createComment:function(i){var e=new Oa;return e.ownerDocument=this,e.appendData(i),e},createCDATASection:function(i){var e=new Ba;return e.ownerDocument=this,e.appendData(i),e},createProcessingInstruction:function(i,e){var t=new Fa;return t.ownerDocument=this,t.tagName=t.nodeName=t.target=i,t.nodeValue=t.data=e,t},createAttribute:function(i){var e=new Pn;return e.ownerDocument=this,e.name=i,e.nodeName=i,e.localName=i,e.specified=!0,e},createEntityReference:function(i){var e=new La;return e.ownerDocument=this,e.nodeName=i,e},createElementNS:function(i,e){var t=new Gi,r=e.split(":"),n=t.attributes=new Ln;return t.childNodes=new _i,t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.namespaceURI=i,r.length==2?(t.prefix=r[0],t.localName=r[1]):t.localName=e,n._ownerElement=t,t},createAttributeNS:function(i,e){var t=new Pn,r=e.split(":");return t.ownerDocument=this,t.nodeName=e,t.name=e,t.namespaceURI=i,t.specified=!0,r.length==2?(t.prefix=r[0],t.localName=r[1]):t.localName=e,t}};zt(sn,Ye);function Gi(){this._nsMap={}}Gi.prototype={nodeType:ni,hasAttribute:function(i){return this.getAttributeNode(i)!=null},getAttribute:function(i){var e=this.getAttributeNode(i);return e&&e.value||""},getAttributeNode:function(i){return this.attributes.getNamedItem(i)},setAttribute:function(i,e){var t=this.ownerDocument.createAttribute(i);t.value=t.nodeValue=""+e,this.setAttributeNode(t)},removeAttribute:function(i){var e=this.getAttributeNode(i);e&&this.removeAttributeNode(e)},appendChild:function(i){return i.nodeType===wi?this.insertBefore(i,null):xp(this,i)},setAttributeNode:function(i){return this.attributes.setNamedItem(i)},setAttributeNodeNS:function(i){return this.attributes.setNamedItemNS(i)},removeAttributeNode:function(i){return this.attributes.removeNamedItem(i.nodeName)},removeAttributeNS:function(i,e){var t=this.getAttributeNodeNS(i,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(i,e){return this.getAttributeNodeNS(i,e)!=null},getAttributeNS:function(i,e){var t=this.getAttributeNodeNS(i,e);return t&&t.value||""},setAttributeNS:function(i,e,t){var r=this.ownerDocument.createAttributeNS(i,e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},getAttributeNodeNS:function(i,e){return this.attributes.getNamedItemNS(i,e)},getElementsByTagName:function(i){return new br(this,function(e){var t=[];return Zr(e,function(r){r!==e&&r.nodeType==ni&&(i==="*"||r.tagName==i)&&t.push(r)}),t})},getElementsByTagNameNS:function(i,e){return new br(this,function(t){var r=[];return Zr(t,function(n){n!==t&&n.nodeType===ni&&(i==="*"||n.namespaceURI===i)&&(e==="*"||n.localName==e)&&r.push(n)}),r})}};sn.prototype.getElementsByTagName=Gi.prototype.getElementsByTagName;sn.prototype.getElementsByTagNameNS=Gi.prototype.getElementsByTagNameNS;zt(Gi,Ye);function Pn(){}Pn.prototype.nodeType=yr;zt(Pn,Ye);function an(){}an.prototype={data:"",substringData:function(i,e){return this.data.substring(i,i+e)},appendData:function(i){i=this.data+i,this.nodeValue=this.data=i,this.length=i.length},insertData:function(i,e){this.replaceData(i,0,e)},appendChild:function(i){throw new Error(xt[Pt])},deleteData:function(i,e){this.replaceData(i,e,"")},replaceData:function(i,e,t){var r=this.data.substring(0,i),n=this.data.substring(i+e);t=r+t+n,this.nodeValue=this.data=t,this.length=t.length}};zt(an,Ye);function Ia(){}Ia.prototype={nodeName:"#text",nodeType:Bn,splitText:function(i){var e=this.data,t=e.substring(i);e=e.substring(0,i),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(t);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};zt(Ia,an);function Oa(){}Oa.prototype={nodeName:"#comment",nodeType:Cl};zt(Oa,an);function Ba(){}Ba.prototype={nodeName:"#cdata-section",nodeType:xl};zt(Ba,an);function ns(){}ns.prototype.nodeType=Tl;zt(ns,Ye);function Fl(){}Fl.prototype.nodeType=mp;zt(Fl,Ye);function Pl(){}Pl.prototype.nodeType=vp;zt(Pl,Ye);function La(){}La.prototype.nodeType=Al;zt(La,Ye);function ss(){}ss.prototype.nodeName="#document-fragment";ss.prototype.nodeType=wi;zt(ss,Ye);function Fa(){}Fa.prototype.nodeType=Dl;zt(Fa,Ye);function zl(){}zl.prototype.serializeToString=function(i,e,t){return Ml.call(i,e,t)};Ye.prototype.toString=Ml;function Ml(i,e){var t=[],r=this.nodeType==9&&this.documentElement||this,n=r.prefix,s=r.namespaceURI;if(s&&n==null){var n=r.lookupPrefix(s);if(n==null)var a=[{namespace:s,prefix:null}]}return lr(this,t,i,e,a),t.join("")}function Ho(i,e,t){var r=i.prefix||"",n=i.namespaceURI;if(!n||r==="xml"&&n===Gr.XML||n===Gr.XMLNS)return!1;for(var s=t.length;s--;){var a=t[s];if(a.prefix===r)return a.namespace!==n}return!0}function Bs(i,e,t){i.push(" ",e,'="',t.replace(/[<&"]/g,Il),'"')}function lr(i,e,t,r,n){if(n||(n=[]),r)if(i=r(i),i){if(typeof i=="string"){e.push(i);return}}else return;switch(i.nodeType){case ni:var s=i.attributes,a=s.length,g=i.firstChild,o=i.tagName;t=Gr.isHTML(i.namespaceURI)||t;var u=o;if(!t&&!i.prefix&&i.namespaceURI){for(var f,l=0;l<s.length;l++)if(s.item(l).name==="xmlns"){f=s.item(l).value;break}if(!f)for(var c=n.length-1;c>=0;c--){var p=n[c];if(p.prefix===""&&p.namespace===i.namespaceURI){f=p.namespace;break}}if(f!==i.namespaceURI)for(var c=n.length-1;c>=0;c--){var p=n[c];if(p.namespace===i.namespaceURI){p.prefix&&(u=p.prefix+":"+o);break}}}e.push("<",u);for(var v=0;v<a;v++){var C=s.item(v);C.prefix=="xmlns"?n.push({prefix:C.localName,namespace:C.value}):C.nodeName=="xmlns"&&n.push({prefix:"",namespace:C.value})}for(var v=0;v<a;v++){var C=s.item(v);if(Ho(C,t,n)){var T=C.prefix||"",d=C.namespaceURI;Bs(e,T?"xmlns:"+T:"xmlns",d),n.push({prefix:T,namespace:d})}lr(C,e,t,r,n)}if(o===u&&Ho(i,t,n)){var T=i.prefix||"",d=i.namespaceURI;Bs(e,T?"xmlns:"+T:"xmlns",d),n.push({prefix:T,namespace:d})}if(g||t&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),t&&/^script$/i.test(o))for(;g;)g.data?e.push(g.data):lr(g,e,t,r,n.slice()),g=g.nextSibling;else for(;g;)lr(g,e,t,r,n.slice()),g=g.nextSibling;e.push("</",u,">")}else e.push("/>");return;case Sl:case wi:for(var g=i.firstChild;g;)lr(g,e,t,r,n.slice()),g=g.nextSibling;return;case yr:return Bs(e,i.name,i.value);case Bn:return e.push(i.data.replace(/[<&]/g,Il).replace(/]]>/g,"]]&gt;"));case xl:return e.push("<![CDATA[",i.data,"]]>");case Cl:return e.push("<!--",i.data,"-->");case Tl:var y=i.publicId,x=i.systemId;if(e.push("<!DOCTYPE ",i.name),y)e.push(" PUBLIC ",y),x&&x!="."&&e.push(" ",x),e.push(">");else if(x&&x!=".")e.push(" SYSTEM ",x,">");else{var k=i.internalSubset;k&&e.push(" [",k,"]"),e.push(">")}return;case Dl:return e.push("<?",i.target," ",i.data,"?>");case Al:return e.push("&",i.nodeName,";");default:e.push("??",i.nodeName)}}function Ul(i,e,t){var r;switch(e.nodeType){case ni:r=e.cloneNode(!1),r.ownerDocument=i;case wi:break;case yr:t=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=i,r.parentNode=null,t)for(var n=e.firstChild;n;)r.appendChild(Ul(i,n,t)),n=n.nextSibling;return r}function Ks(i,e,t){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=e[n];typeof s!="object"&&s!=r[n]&&(r[n]=s)}switch(e.childNodes&&(r.childNodes=new _i),r.ownerDocument=i,r.nodeType){case ni:var a=e.attributes,o=r.attributes=new Ln,u=a.length;o._ownerElement=r;for(var f=0;f<u;f++)r.setAttributeNode(Ks(i,a.item(f),!0));break;case yr:t=!0}if(t)for(var l=e.firstChild;l;)r.appendChild(Ks(i,l,t)),l=l.nextSibling;return r}function jl(i,e,t){i[e]=t}try{if(Object.defineProperty){let i=function(e){switch(e.nodeType){case ni:case wi:var t=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&t.push(i(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}};var fm=i;Object.defineProperty(br.prototype,"length",{get:function(){return ka(this),this.$$length}}),Object.defineProperty(Ye.prototype,"textContent",{get:function(){return i(this)},set:function(e){switch(this.nodeType){case ni:case wi:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),jl=function(e,t,r){e["$$"+t]=r}}}catch{}Pi.DocumentType=ns;Pi.DOMException=gt;Pi.DOMImplementation=Rl;Pi.Element=Gi;Pi.Node=Ye;Pi.NodeList=_i;Pi.XMLSerializer=zl;var on={},Wl={};(function(i){var e=zi.freeze;i.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),i.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),i.entityMap=i.HTML_ENTITIES})(Wl);var Pa={},Yr=zi.NAMESPACE,Js=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,$o=new RegExp("[\\-\\.0-9"+Js.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Vo=new RegExp("^"+Js.source+$o.source+"*(?::"+Js.source+$o.source+"*)?$"),Sr=0,Si=1,er=2,Tr=3,tr=4,ir=5,kr=6,yn=7;function _r(i,e){this.message=i,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,_r)}_r.prototype=new Error;_r.prototype.name=_r.name;function ql(){}ql.prototype={parse:function(i,e,t){var r=this.domBuilder;r.startDocument(),Hl(e,e={}),Ap(i,e,t,r,this.errorHandler),r.endDocument()}};function Ap(i,e,t,r,n){function s(de){if(de>65535){de-=65536;var le=55296+(de>>10),se=56320+(de&1023);return String.fromCharCode(le,se)}else return String.fromCharCode(de)}function a(de){var le=de.slice(1,-1);return le in t?t[le]:le.charAt(0)==="#"?s(parseInt(le.substr(1).replace("x","0x"))):(n.error("entity not found:"+de),de)}function o(de){if(de>T){var le=i.substring(T,de).replace(/&#?\w+;/g,a);p&&u(T),r.characters(le,0,de-T),T=de}}function u(de,le){for(;de>=l&&(le=c.exec(i));)f=le.index,l=f+le[0].length,p.lineNumber++;p.columnNumber=de-f+1}for(var f=0,l=0,c=/.*(?:\r\n?|\n)|.*$/g,p=r.locator,v=[{currentNSMap:e}],C={},T=0;;){try{var d=i.indexOf("<",T);if(d<0){if(!i.substr(T).match(/^\s*$/)){var g=r.doc,y=g.createTextNode(i.substr(T));g.appendChild(y),r.currentElement=y}return}switch(d>T&&o(d),i.charAt(d+1)){case"/":var K=i.indexOf(">",d+3),x=i.substring(d+2,K).replace(/[ \t\n\r]+$/g,""),k=v.pop();K<0?(x=i.substring(d+2).replace(/[\s<].*/,""),n.error("end tag name: "+x+" is not complete:"+k.tagName),K=d+1+x.length):x.match(/\s</)&&(x=x.replace(/[\s<].*/,""),n.error("end tag name: "+x+" maybe not complete"),K=d+1+x.length);var _=k.localNSMap,D=k.tagName==x,N=D||k.tagName&&k.tagName.toLowerCase()==x.toLowerCase();if(N){if(r.endElement(k.uri,k.localName,x),_)for(var B in _)Object.prototype.hasOwnProperty.call(_,B)&&r.endPrefixMapping(B);D||n.fatalError("end tag name: "+x+" is not match the current start tagName:"+k.tagName)}else v.push(k);K++;break;case"?":p&&u(d),K=kp(i,d,r);break;case"!":p&&u(d),K=Tp(i,d,r,n);break;default:p&&u(d);var U=new $l,M=v[v.length-1].currentNSMap,K=Dp(i,d,U,M,a,n),J=U.length;if(!U.closed&&Sp(i,K,U.tagName,C)&&(U.closed=!0,t.nbsp||n.warning("unclosed xml attribute")),p&&J){for(var ge=Go(p,{}),De=0;De<J;De++){var Ae=U[De];u(Ae.offset),Ae.locator=Go(p,{})}r.locator=ge,Zo(U,r,M)&&v.push(U),r.locator=p}else Zo(U,r,M)&&v.push(U);Yr.isHTML(U.uri)&&!U.closed?K=Cp(i,K,U.tagName,a,r):K++}}catch(de){if(de instanceof _r)throw de;n.error("element parse error: "+de),K=-1}K>T?T=K:o(Math.max(d,T)+1)}}function Go(i,e){return e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber,e}function Dp(i,e,t,r,n,s){function a(p,v,C){t.attributeNames.hasOwnProperty(p)&&s.fatalError("Attribute "+p+" redefined"),t.addValue(p,v,C)}for(var o,u,f=++e,l=Sr;;){var c=i.charAt(f);switch(c){case"=":if(l===Si)o=i.slice(e,f),l=Tr;else if(l===er)l=Tr;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(l===Tr||l===Si)if(l===Si&&(s.warning('attribute value must after "="'),o=i.slice(e,f)),e=f+1,f=i.indexOf(c,e),f>0)u=i.slice(e,f).replace(/&#?\w+;/g,n),a(o,u,e-1),l=ir;else throw new Error("attribute value no end '"+c+"' match");else if(l==tr)u=i.slice(e,f).replace(/&#?\w+;/g,n),a(o,u,e),s.warning('attribute "'+o+'" missed start quot('+c+")!!"),e=f+1,l=ir;else throw new Error('attribute value must after "="');break;case"/":switch(l){case Sr:t.setTagName(i.slice(e,f));case ir:case kr:case yn:l=yn,t.closed=!0;case tr:case Si:break;case er:t.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),l==Sr&&t.setTagName(i.slice(e,f)),f;case">":switch(l){case Sr:t.setTagName(i.slice(e,f));case ir:case kr:case yn:break;case tr:case Si:u=i.slice(e,f),u.slice(-1)==="/"&&(t.closed=!0,u=u.slice(0,-1));case er:l===er&&(u=o),l==tr?(s.warning('attribute "'+u+'" missed quot(")!'),a(o,u.replace(/&#?\w+;/g,n),e)):((!Yr.isHTML(r[""])||!u.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),a(u,u,e));break;case Tr:throw new Error("attribute value missed!!")}return f;case"":c=" ";default:if(c<=" ")switch(l){case Sr:t.setTagName(i.slice(e,f)),l=kr;break;case Si:o=i.slice(e,f),l=er;break;case tr:var u=i.slice(e,f).replace(/&#?\w+;/g,n);s.warning('attribute "'+u+'" missed quot(")!!'),a(o,u,e);case ir:l=kr;break}else switch(l){case er:t.tagName,(!Yr.isHTML(r[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=f,l=Si;break;case ir:s.warning('attribute space is required"'+o+'"!!');case kr:l=Si,e=f;break;case Tr:l=tr,e=f;break;case yn:throw new Error("elements closed character '/' and '>' must be connected to")}}f++}}function Zo(i,e,t){for(var r=i.tagName,n=null,c=i.length;c--;){var s=i[c],a=s.qName,o=s.value,p=a.indexOf(":");if(p>0)var u=s.prefix=a.slice(0,p),f=a.slice(p+1),l=u==="xmlns"&&f;else f=a,u=null,l=a==="xmlns"&&"";s.localName=f,l!==!1&&(n==null&&(n={},Hl(t,t={})),t[l]=n[l]=o,s.uri=Yr.XMLNS,e.startPrefixMapping(l,o))}for(var c=i.length;c--;){s=i[c];var u=s.prefix;u&&(u==="xml"&&(s.uri=Yr.XML),u!=="xmlns"&&(s.uri=t[u||""]))}var p=r.indexOf(":");p>0?(u=i.prefix=r.slice(0,p),f=i.localName=r.slice(p+1)):(u=null,f=i.localName=r);var v=i.uri=t[u||""];if(e.startElement(v,f,r,i),i.closed){if(e.endElement(v,f,r),n)for(u in n)Object.prototype.hasOwnProperty.call(n,u)&&e.endPrefixMapping(u)}else return i.currentNSMap=t,i.localNSMap=n,!0}function Cp(i,e,t,r,n){if(/^(?:script|textarea)$/i.test(t)){var s=i.indexOf("</"+t+">",e),a=i.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(t)?(n.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),n.characters(a,0,a.length),s)}return e+1}function Sp(i,e,t,r){var n=r[t];return n==null&&(n=i.lastIndexOf("</"+t+">"),n<e&&(n=i.lastIndexOf("</"+t)),r[t]=n),n<e}function Hl(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}function Tp(i,e,t,r){var n=i.charAt(e+2);switch(n){case"-":if(i.charAt(e+3)==="-"){var s=i.indexOf("-->",e+4);return s>e?(t.comment(i,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(i.substr(e+3,6)=="CDATA["){var s=i.indexOf("]]>",e+9);return t.startCDATA(),t.characters(i,e+9,s-e-9),t.endCDATA(),s+3}var a=Np(i,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var u=a[1][0],f=!1,l=!1;o>3&&(/^public$/i.test(a[2][0])?(f=a[3][0],l=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(l=a[3][0]));var c=a[o-1];return t.startDTD(u,f,l),t.endDTD(),c.index+c[0].length}}return-1}function kp(i,e,t){var r=i.indexOf("?>",e);if(r){var n=i.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,t.processingInstruction(n[1],n[2]),r+2):-1}return-1}function $l(){this.attributeNames={}}$l.prototype={setTagName:function(i){if(!Vo.test(i))throw new Error("invalid tagName:"+i);this.tagName=i},addValue:function(i,e,t){if(!Vo.test(i))throw new Error("invalid attribute:"+i);this.attributeNames[i]=this.length,this[this.length++]={qName:i,value:e,offset:t}},length:0,getLocalName:function(i){return this[i].localName},getLocator:function(i){return this[i].locator},getQName:function(i){return this[i].qName},getURI:function(i){return this[i].uri},getValue:function(i){return this[i].value}};function Np(i,e){var t,r=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=e,n.exec(i);t=n.exec(i);)if(r.push(t),t[1])return r}Pa.XMLReader=ql;Pa.ParseError=_r;var Rp=zi,za=Pi,Yo=Wl,Vl=Pa,Ip=za.DOMImplementation,Xo=Rp.NAMESPACE,Op=Vl.ParseError,Bp=Vl.XMLReader;function Gl(i){this.options=i||{locator:{}}}Gl.prototype.parseFromString=function(i,e){var t=this.options,r=new Bp,n=t.domBuilder||new un,s=t.errorHandler,a=t.locator,o=t.xmlns||{},u=/\/x?html?$/.test(e),f=u?Yo.HTML_ENTITIES:Yo.XML_ENTITIES;return a&&n.setDocumentLocator(a),r.errorHandler=Lp(s,n,a),r.domBuilder=t.domBuilder||n,u&&(o[""]=Xo.HTML),o.xml=o.xml||Xo.XML,i&&typeof i=="string"?r.parse(i,o,f):r.errorHandler.error("invalid doc source"),n.doc};function Lp(i,e,t){if(!i){if(e instanceof un)return e;i=e}var r={},n=i instanceof Function;t=t||{};function s(a){var o=i[a];!o&&n&&(o=i.length==2?function(u){i(a,u)}:i),r[a]=o&&function(u){o("[xmldom "+a+"]	"+u+Qs(t))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function un(){this.cdata=!1}function rr(i,e){e.lineNumber=i.lineNumber,e.columnNumber=i.columnNumber}un.prototype={startDocument:function(){this.doc=new Ip().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(i,e,t,r){var n=this.doc,s=n.createElementNS(i,t||e),a=r.length;bn(this,s),this.currentElement=s,this.locator&&rr(this.locator,s);for(var o=0;o<a;o++){var i=r.getURI(o),u=r.getValue(o),t=r.getQName(o),f=n.createAttributeNS(i,t);this.locator&&rr(r.getLocator(o),f),f.value=f.nodeValue=u,s.setAttributeNode(f)}},endElement:function(i,e,t){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(i,e){},endPrefixMapping:function(i){},processingInstruction:function(i,e){var t=this.doc.createProcessingInstruction(i,e);this.locator&&rr(this.locator,t),bn(this,t)},ignorableWhitespace:function(i,e,t){},characters:function(i,e,t){if(i=Ko.apply(this,arguments),i){if(this.cdata)var r=this.doc.createCDATASection(i);else var r=this.doc.createTextNode(i);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(i)&&this.doc.appendChild(r),this.locator&&rr(this.locator,r)}},skippedEntity:function(i){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(i){(this.locator=i)&&(i.lineNumber=0)},comment:function(i,e,t){i=Ko.apply(this,arguments);var r=this.doc.createComment(i);this.locator&&rr(this.locator,r),bn(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(i,e,t){var r=this.doc.implementation;if(r&&r.createDocumentType){var n=r.createDocumentType(i,e,t);this.locator&&rr(this.locator,n),bn(this,n),this.doc.doctype=n}},warning:function(i){console.warn("[xmldom warning]	"+i,Qs(this.locator))},error:function(i){console.error("[xmldom error]	"+i,Qs(this.locator))},fatalError:function(i){throw new Op(i,this.locator)}};function Qs(i){if(i)return`
@`+(i.systemId||"")+"#[line:"+i.lineNumber+",col:"+i.columnNumber+"]"}function Ko(i,e,t){return typeof i=="string"?i.substr(e,t):i.length>=e+t||e?new java.lang.String(i,e,t)+"":i}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(i){un.prototype[i]=function(){return null}});function bn(i,e){i.currentElement?i.currentElement.appendChild(e):i.doc.appendChild(e)}on.__DOMHandler=un;on.DOMParser=Gl;on.DOMImplementation=za.DOMImplementation;on.XMLSerializer=za.XMLSerializer;var Zl=on.DOMParser;const Ma=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,Fp=1,Pp=3,Yl=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function as(){var i=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(i+Math.random()*16)%16|0;return i=Math.floor(i/16),(t=="x"?r:r&7|8).toString(16)});return e}function zp(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function Xl(i){return!!(i&&i.nodeType==1)}function ct(i){return!isNaN(parseFloat(i))&&isFinite(i)}function Kl(i){let e=parseFloat(i);return ct(i)===!1?!1:typeof i=="string"&&i.indexOf(".")>-1?!0:Math.floor(e)!==e}function ar(i){var e=["Webkit","webkit","Moz","O","ms"],t=["-webkit-","-webkit-","-moz-","-o-","-ms-"],r=i.toLowerCase(),n=e.length;if(typeof document>"u"||typeof document.body.style[r]<"u")return i;for(var s=0;s<n;s++)if(typeof document.body.style[t[s]+r]<"u")return t[s]+r;return i}function Jl(i){for(var e=1,t=arguments.length;e<t;e++){var r=arguments[e];for(var n in r)i[n]===void 0&&(i[n]=r[n])}return i}function At(i){var e=[].slice.call(arguments,1);return e.forEach(function(t){t&&Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}),i}function Mp(i,e,t){var r=wr(i,e,t);return e.splice(r,0,i),r}function wr(i,e,t,r,n){var s=r||0,a=n||e.length,o=parseInt(s+(a-s)/2),u;return t||(t=function(f,l){if(f>l)return 1;if(f<l)return-1;if(f==l)return 0}),a-s<=0?o:(u=t(e[o],i),a-s===1?u>=0?o:o+1:u===0?o:u===-1?wr(i,e,t,o,a):wr(i,e,t,s,o))}function zn(i,e,t,r,n){var s=r||0,a=n||e.length,o=parseInt(s+(a-s)/2),u;return t||(t=function(f,l){if(f>l)return 1;if(f<l)return-1;if(f==l)return 0}),a-s<=0?-1:(u=t(e[o],i),a-s===1?u===0?o:-1:u===0?o:u===-1?zn(i,e,t,o,a):zn(i,e,t,s,o))}function Dn(i){var e=window.getComputedStyle(i),t=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,s=0;return t.forEach(function(a){n+=parseFloat(e[a])||0}),r.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:n}}function Mn(i){var e=window.getComputedStyle(i),t=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],r=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,s=0;return t.forEach(function(a){n+=parseFloat(e[a])||0}),r.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:n}}function ea(i){let e,t=i.ownerDocument;if(i.nodeType==Node.TEXT_NODE){let r=t.createRange();r.selectNodeContents(i),e=r.getBoundingClientRect()}else e=i.getBoundingClientRect();return e}function Un(){var i=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:i,bottom:e,width:i,height:e}}function Ua(i,e){for(var t=i.parentNode,r=t.childNodes,n,s=-1,a=0;a<r.length&&(n=r[a],n.nodeType===e&&s++,n!=i);a++);return s}function Up(i){return Ua(i,Pp)}function Ql(i){return Ua(i,Fp)}function Xr(i){return["xml","opf","ncx"].indexOf(i)>-1}function ef(i,e){return new Blob([i],{type:e})}function jn(i,e){var t,r=ef(i,e);return t=Yl.createObjectURL(r),t}function tf(i){return Yl.revokeObjectURL(i)}function ta(i,e){var t,r;if(typeof i=="string")return t=btoa(i),r="data:"+e+";base64,"+t,r}function rf(i){return Object.prototype.toString.call(i).slice(8,-1)}function ci(i,e,t){var r,n;return typeof DOMParser>"u"||t?n=Zl:n=DOMParser,i.charCodeAt(0)===65279&&(i=i.slice(1)),r=new n().parseFromString(i,e),r}function et(i,e){var t;if(!i)throw new Error("No Element Provided");if(typeof i.querySelector<"u")return i.querySelector(e);if(t=i.getElementsByTagName(e),t.length)return t[0]}function xi(i,e){return typeof i.querySelector<"u"?i.querySelectorAll(e):i.getElementsByTagName(e)}function or(i,e,t){var r,n;if(typeof i.querySelector<"u"){e+="[";for(var s in t)e+=s+"~='"+t[s]+"'";return e+="]",i.querySelector(e)}else if(r=i.getElementsByTagName(e),n=Array.prototype.slice.call(r,0).filter(function(a){for(var o in t)if(a.getAttribute(o)===t[o])return!0;return!1}),n)return n[0]}function Wn(i,e){var t=i.ownerDocument||i;typeof t.createTreeWalker<"u"?nf(i,e,NodeFilter.SHOW_TEXT):ja(i,function(r){r&&r.nodeType===3&&e(r)})}function nf(i,e,t){var r=document.createTreeWalker(i,t,null,!1);let n;for(;n=r.nextNode();)e(n)}function ja(i,e){if(e(i))return!0;if(i=i.firstChild,i)do{if(ja(i,e))return!0;i=i.nextSibling}while(i)}function sf(i){return new Promise(function(e,t){var r=new FileReader;r.readAsDataURL(i),r.onloadend=function(){e(r.result)}})}function Me(){this.resolve=null,this.reject=null,this.id=as(),this.promise=new Promise((i,e)=>{this.resolve=i,this.reject=e}),Object.freeze(this)}function qn(i,e,t){var r;if(typeof i.querySelector<"u"&&(r=i.querySelector(`${e}[*|type="${t}"]`)),!r||r.length===0){r=xi(i,e);for(var n=0;n<r.length;n++)if(r[n].getAttributeNS("http://www.idpf.org/2007/ops","type")===t||r[n].getAttribute("epub:type")===t)return r[n]}else return r}function ia(i){for(var e=[],t=i.childNodes,r=0;r<t.length;r++){let n=t[r];n.nodeType===1&&e.push(n)}return e}function ra(i){for(var e=[i];i;i=i.parentNode)e.unshift(i);return e}function ur(i,e,t){for(var r=[],n=i.childNodes,s=0;s<n.length;s++){let a=n[s];if(a.nodeType===1&&a.nodeName.toLowerCase()===e){if(t)return a;r.push(a)}}if(!t)return r}function jp(i,e){let t;if(!(i===null||e===""))for(t=i.parentNode;t.nodeType===1;){if(t.tagName.toLowerCase()===e)return t;t=t.parentNode}}class af{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,t){this.startContainer=e,this.startOffset=t,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,t){this.endContainer=e,this.endOffset=t,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let t=e.parentNode,r=Array.prototype.indexOf.call(t.childNodes,e);this.setStart(t,r),this.setEnd(t,r+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let t=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,t)}_commonAncestorContainer(e,t){var r=ra(e||this.startContainer),n=ra(t||this.endContainer);if(r[0]==n[0]){for(var s=0;s<r.length;s++)if(r[s]!=n[s])return r[s-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const Wp=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:af,blob2base64:sf,borders:Mn,bounds:Dn,createBase64Url:ta,createBlob:ef,createBlobUrl:jn,defaults:Jl,defer:Me,documentHeight:zp,extend:At,filterChildren:ur,findChildren:ia,getParentByTagName:jp,indexOfElementNode:Ql,indexOfNode:Ua,indexOfSorted:zn,indexOfTextNode:Up,insert:Mp,isElement:Xl,isFloat:Kl,isNumber:ct,isXml:Xr,locationOf:wr,nodeBounds:ea,parents:ra,parse:ci,prefixed:ar,qs:et,qsa:xi,qsp:or,querySelectorByType:qn,requestAnimationFrame:Ma,revokeBlobUrl:tf,sprint:Wn,treeWalker:nf,type:rf,uuid:as,walk:ja,windowBounds:Un},Symbol.toStringTag,{value:"Module"}));if(!of)var of={cwd:function(){return"/"}};function ai(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+i)}function Jo(i,e){for(var t="",r=-1,n=0,s,a=0;a<=i.length;++a){if(a<i.length)s=i.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(r===a-1||n===1))if(r!==a-1&&n===2){if(t.length<2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){for(var o=t.length-1,u=o;u>=0&&t.charCodeAt(u)!==47;--u);if(u!==o){u===-1?t="":t=t.slice(0,u),r=a,n=0;continue}}else if(t.length===2||t.length===1){t="",r=a,n=0;continue}}e&&(t.length>0?t+="/..":t="..")}else t.length>0?t+="/"+i.slice(r+1,a):t=i.slice(r+1,a);r=a,n=0}else s===46&&n!==-1?++n:n=-1}return t}function qp(i,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+i+r:r}var Cn={resolve:function(){for(var e="",t=!1,r,n=arguments.length-1;n>=-1&&!t;n--){var s;n>=0?s=arguments[n]:(r===void 0&&(r=of.cwd()),s=r),ai(s),s.length!==0&&(e=s+"/"+e,t=s.charCodeAt(0)===47)}return e=Jo(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(ai(e),e.length===0)return".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=Jo(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return ai(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];ai(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Cn.normalize(e)},relative:function(e,t){if(ai(e),ai(t),e===t||(e=Cn.resolve(e),t=Cn.resolve(t),e===t))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var n=e.length,s=n-r,a=1;a<t.length&&t.charCodeAt(a)===47;++a);for(var o=t.length,u=o-a,f=s<u?s:u,l=-1,c=0;c<=f;++c){if(c===f){if(u>f){if(t.charCodeAt(a+c)===47)return t.slice(a+c+1);if(c===0)return t.slice(a+c)}else s>f&&(e.charCodeAt(r+c)===47?l=c:c===0&&(l=0));break}var p=e.charCodeAt(r+c),v=t.charCodeAt(a+c);if(p!==v)break;p===47&&(l=c)}var C="";for(c=r+l+1;c<=n;++c)(c===n||e.charCodeAt(c)===47)&&(C.length===0?C+="..":C+="/..");return C.length>0?C+t.slice(a+l):(a+=l,t.charCodeAt(a)===47&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(ai(e),e.length===0)return".";for(var t=e.charCodeAt(0),r=t===47,n=-1,s=!0,a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!s){n=a;break}}else s=!1;return n===-1?r?"/":".":r&&n===1?"//":e.slice(0,n)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ai(e);var r=0,n=-1,s=!0,a;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,u=-1;for(a=e.length-1;a>=0;--a){var f=e.charCodeAt(a);if(f===47){if(!s){r=a+1;break}}else u===-1&&(s=!1,u=a+1),o>=0&&(f===t.charCodeAt(o)?--o===-1&&(n=a):(o=-1,n=u))}return r===n?n=u:n===-1&&(n=e.length),e.slice(r,n)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){r=a+1;break}}else n===-1&&(s=!1,n=a+1);return n===-1?"":e.slice(r,n)}},extname:function(e){ai(e);for(var t=-1,r=0,n=-1,s=!0,a=0,o=e.length-1;o>=0;--o){var u=e.charCodeAt(o);if(u===47){if(!s){r=o+1;break}continue}n===-1&&(s=!1,n=o+1),u===46?t===-1?t=o:a!==1&&(a=1):t!==-1&&(a=-1)}return t===-1||n===-1||a===0||a===1&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof e);return qp("/",e)},parse:function(e){ai(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),n=r===47,s;n?(t.root="/",s=1):s=0;for(var a=-1,o=0,u=-1,f=!0,l=e.length-1,c=0;l>=s;--l){if(r=e.charCodeAt(l),r===47){if(!f){o=l+1;break}continue}u===-1&&(f=!1,u=l+1),r===46?a===-1?a=l:c!==1&&(c=1):a!==-1&&(c=-1)}return a===-1||u===-1||c===0||c===1&&a===u-1&&a===o+1?u!==-1&&(o===0&&n?t.base=t.name=e.slice(1,u):t.base=t.name=e.slice(o,u)):(o===0&&n?(t.name=e.slice(1,a),t.base=e.slice(1,u)):(t.name=e.slice(o,a),t.base=e.slice(o,u)),t.ext=e.slice(a,u)),o>0?t.dir=e.slice(0,o-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",posix:null},Hp=Cn;const Ii=Er(Hp);class Ai{constructor(e){var t,r;t=e.indexOf("://"),t>-1&&(e=new URL(e).pathname),r=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=r.dir+"/",this.filename=r.base,this.extension=r.ext.slice(1)}parse(e){return Ii.parse(e)}isAbsolute(e){return Ii.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return Ii.resolve(this.directory,e)}relative(e){var t=e&&e.indexOf("://")>-1;return t?e:Ii.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class ei{constructor(e,t){var r=e.indexOf("://")>-1,n=e,s;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=t,!r&&t!==!1&&typeof t!="string"&&window&&window.location&&(this.base=window.location.href),r||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,n=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(s=new Ai(this.base),n=s.resolve(n))}this.Path=new Ai(n),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var t=e.indexOf("://")>-1,r;return t?e:(r=Ii.resolve(this.directory,e),this.origin+r)}relative(e){return Ii.relative(e,this.directory)}toString(){return this.href}}const nr=1,$t=3,$p=9;class Ue{constructor(e,t,r){var n;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Ue))return new Ue(e,t,r);if(typeof t=="string"?this.base=this.parseComponent(t):typeof t=="object"&&t.steps&&(this.base=t),n=this.checkType(e),n==="string")return this.str=e,At(this,this.parse(e));if(n==="range")return At(this,this.fromRange(e,this.base,r));if(n==="node")return At(this,this.fromNode(e,this.base,r));if(n==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(rf(e)==="Range"||typeof e.startContainer<"u")?"range":e&&typeof e=="object"&&typeof e.nodeType<"u"?"node":e&&typeof e=="object"&&e instanceof Ue?"EpubCFI":!1}parse(e){var t={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},r,n,s;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),r=this.getChapterComponent(e),r?(t.base=this.parseComponent(r),n=this.getPathComponent(e),t.path=this.parseComponent(n),s=this.getRange(e),s&&(t.range=!0,t.start=this.parseComponent(s[0]),t.end=this.parseComponent(s[1])),t.spinePos=t.base.steps[1].index,t):{spinePos:-1})}parseComponent(e){var t={steps:[],terminal:{offset:null,assertion:null}},r=e.split(":"),n=r[0].split("/"),s;return r.length>1&&(s=r[1],t.terminal=this.parseTerminal(s)),n[0]===""&&n.shift(),t.steps=n.map((function(a){return this.parseStep(a)}).bind(this)),t}parseStep(e){var t,r,n,s,a;if(s=e.match(/\[(.*)\]/),s&&s[1]&&(a=s[1]),r=parseInt(e),!isNaN(r))return r%2===0?(t="element",n=r/2-1):(t="text",n=(r-1)/2),{type:t,index:n,id:a||null}}parseTerminal(e){var t,r,n=e.match(/\[(.*)\]/);return n&&n[1]?(t=parseInt(e.split("[")[0]),r=n[1]):t=parseInt(e),ct(t)||(t=null),{offset:t,assertion:r}}getChapterComponent(e){var t=e.split("!");return t[0]}getPathComponent(e){var t=e.split("!");if(t[1])return t[1].split(",")[0]}getRange(e){var t=e.split(",");return t.length===3?[t[1],t[2]]:!1}getCharecterOffsetComponent(e){var t=e.split(":");return t[1]||""}joinSteps(e){return e?e.map(function(t){var r="";return t.type==="element"&&(r+=(t.index+1)*2),t.type==="text"&&(r+=1+2*t.index),t.id&&(r+="["+t.id+"]"),r}).join("/"):""}segmentString(e){var t="/";return t+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(t+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(t+="["+e.terminal.assertion+"]"),t}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,t){var r,n,s,a;if(typeof e=="string"&&(e=new Ue(e)),typeof t=="string"&&(t=new Ue(t)),e.spinePos>t.spinePos)return 1;if(e.spinePos<t.spinePos)return-1;e.range?(r=e.path.steps.concat(e.start.steps),s=e.start.terminal):(r=e.path.steps,s=e.path.terminal),t.range?(n=t.path.steps.concat(t.start.steps),a=t.start.terminal):(n=t.path.steps,a=t.path.terminal);for(var o=0;o<r.length;o++){if(!r[o])return-1;if(!n[o]||r[o].index>n[o].index)return 1;if(r[o].index<n[o].index)return-1}return r.length<n.length?-1:s.offset>a.offset?1:s.offset<a.offset?-1:0}step(e){var t=e.nodeType===$t?"text":"element";return{id:e.id,tagName:e.tagName,type:t,index:this.position(e)}}filteredStep(e,t){var r=this.filter(e,t),n;if(r)return n=r.nodeType===$t?"text":"element",{id:r.id,tagName:r.tagName,type:n,index:this.filteredPosition(r,t)}}pathTo(e,t,r){for(var n={steps:[],terminal:{offset:null,assertion:null}},s=e,a;s&&s.parentNode&&s.parentNode.nodeType!=$p;)r?a=this.filteredStep(s,r):a=this.step(s),a&&n.steps.unshift(a),s=s.parentNode;return t!=null&&t>=0&&(n.terminal.offset=t,n.steps[n.steps.length-1].type!="text"&&n.steps.push({type:"text",index:0})),n}equalStep(e,t){return!e||!t?!1:e.index===t.index&&e.id===t.id&&e.type===t.type}fromRange(e,t,r){var n={range:!1,base:{},path:{},start:null,end:null},s=e.startContainer,a=e.endContainer,o=e.startOffset,u=e.endOffset,f=!1;if(r&&(f=s.ownerDocument.querySelector("."+r)!=null),typeof t=="string"?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):typeof t=="object"&&(n.base=t),e.collapsed)f&&(o=this.patchOffset(s,o,r)),n.path=this.pathTo(s,o,r);else{n.range=!0,f&&(o=this.patchOffset(s,o,r)),n.start=this.pathTo(s,o,r),f&&(u=this.patchOffset(a,u,r)),n.end=this.pathTo(a,u,r),n.path={steps:[],terminal:null};var l=n.start.steps.length,c;for(c=0;c<l&&this.equalStep(n.start.steps[c],n.end.steps[c]);c++)c===l-1?n.start.terminal===n.end.terminal&&(n.path.steps.push(n.start.steps[c]),n.range=!1):n.path.steps.push(n.start.steps[c]);n.start.steps=n.start.steps.slice(n.path.steps.length),n.end.steps=n.end.steps.slice(n.path.steps.length)}return n}fromNode(e,t,r){var n={range:!1,base:{},path:{},start:null,end:null};return typeof t=="string"?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):typeof t=="object"&&(n.base=t),n.path=this.pathTo(e,null,r),n}filter(e,t){var r,n,s,a,o,u=!1;return e.nodeType===$t?(u=!0,s=e.parentNode,r=e.parentNode.classList.contains(t)):(u=!1,r=e.classList.contains(t)),r&&u?(a=s.previousSibling,o=s.nextSibling,a&&a.nodeType===$t?n=a:o&&o.nodeType===$t&&(n=o),n||e):r&&!u?!1:e}patchOffset(e,t,r){if(e.nodeType!=$t)throw new Error("Anchor must be a text node");var n=e,s=t;for(e.parentNode.classList.contains(r)&&(n=e.parentNode);n.previousSibling;){if(n.previousSibling.nodeType===nr)if(n.previousSibling.classList.contains(r))s+=n.previousSibling.textContent.length;else break;else s+=n.previousSibling.textContent.length;n=n.previousSibling}return s}normalizedMap(e,t,r){var n={},s=-1,a,o=e.length,u,f;for(a=0;a<o;a++)u=e[a].nodeType,u===nr&&e[a].classList.contains(r)&&(u=$t),a>0&&u===$t&&f===$t?n[a]=s:t===u&&(s=s+1,n[a]=s),f=u;return n}position(e){var t,r;return e.nodeType===nr?(t=e.parentNode.children,t||(t=ia(e.parentNode)),r=Array.prototype.indexOf.call(t,e)):(t=this.textNodes(e.parentNode),r=t.indexOf(e)),r}filteredPosition(e,t){var r,n,s;return e.nodeType===nr?(r=e.parentNode.children,s=this.normalizedMap(r,nr,t)):(r=e.parentNode.childNodes,e.parentNode.classList.contains(t)&&(e=e.parentNode,r=e.parentNode.childNodes),s=this.normalizedMap(r,$t,t)),n=Array.prototype.indexOf.call(r,e),s[n]}stepsToXpath(e){var t=[".","*"];return e.forEach(function(r){var n=r.index+1;r.id?t.push("*[position()="+n+" and @id='"+r.id+"']"):r.type==="text"?t.push("text()["+n+"]"):t.push("*["+n+"]")}),t.join("/")}stepsToQuerySelector(e){var t=["html"];return e.forEach(function(r){var n=r.index+1;r.id?t.push("#"+r.id):r.type==="text"||t.push("*:nth-child("+n+")")}),t.join(">")}textNodes(e,t){return Array.prototype.slice.call(e.childNodes).filter(function(r){return r.nodeType===$t?!0:!!(t&&r.classList.contains(t))})}walkToNode(e,t,r){var n=t||document,s=n.documentElement,a,o,u=e.length,f;for(f=0;f<u&&(o=e[f],o.type==="element"?o.id?s=n.getElementById(o.id):(a=s.children||ia(s),s=a[o.index]):o.type==="text"&&(s=this.textNodes(s,r)[o.index]),!!s);f++);return s}findNode(e,t,r){var n=t||document,s,a;return!r&&typeof n.evaluate<"u"?(a=this.stepsToXpath(e),s=n.evaluate(a,n,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):r?s=this.walkToNode(e,n,r):s=this.walkToNode(e,n),s}fixMiss(e,t,r,n){var s=this.findNode(e.slice(0,-1),r,n),a=s.childNodes,o=this.normalizedMap(a,$t,n),u,f,l=e[e.length-1].index;for(let c in o){if(!o.hasOwnProperty(c))return;if(o[c]===l)if(u=a[c],f=u.textContent.length,t>f)t=t-f;else{u.nodeType===nr?s=u.childNodes[0]:s=u;break}}return{container:s,offset:t}}toRange(e,t){var r=e||document,n,s,a,o,u,f=this,l,c,p=t?r.querySelector("."+t)!=null:!1,v;if(typeof r.createRange<"u"?n=r.createRange():n=new af,f.range?(s=f.start,l=f.path.steps.concat(s.steps),o=this.findNode(l,r,p?t:null),a=f.end,c=f.path.steps.concat(a.steps),u=this.findNode(c,r,p?t:null)):(s=f.path,l=f.path.steps,o=this.findNode(f.path.steps,r,p?t:null)),o)try{s.terminal.offset!=null?n.setStart(o,s.terminal.offset):n.setStart(o,0)}catch{v=this.fixMiss(l,s.terminal.offset,r,p?t:null),n.setStart(v.container,v.offset)}else return console.log("No startContainer found for",this.toString()),null;if(u)try{a.terminal.offset!=null?n.setEnd(u,a.terminal.offset):n.setEnd(u,0)}catch{v=this.fixMiss(c,f.end.terminal.offset,r,p?t:null),n.setEnd(v.container,v.offset)}return n}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,t,r){var n=parseInt(t),s=(e+1)*2,a="/"+s+"/";return a+=(n+1)*2,r&&(a+="["+r+"]"),a}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class ti{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var t=0;t<arguments[e].length;++t)this.hooks.push(arguments[e][t])}deregister(e){let t;for(let r=0;r<this.hooks.length;r++)if(t=this.hooks[r],t===e){this.hooks.splice(r,1);break}}trigger(){var e=arguments,t=this.context,r=[];return this.hooks.forEach(function(n){try{var s=n.apply(t,e)}catch(a){console.log(a)}s&&typeof s.then=="function"&&r.push(s)}),Promise.all(r)}list(){return this.hooks}clear(){return this.hooks=[]}}function uf(i,e){var t,r,n=e.url,s=n.indexOf("://")>-1;i&&(r=et(i,"head"),t=et(r,"base"),t||(t=i.createElement("base"),r.insertBefore(t,r.firstChild)),!s&&window&&window.location&&(n=window.location.origin+n),t.setAttribute("href",n))}function Vp(i,e){var t,r,n=e.canonical;i&&(t=et(i,"head"),r=et(t,"link[rel='canonical']"),r?r.setAttribute("href",n):(r=i.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",n),t.appendChild(r)))}function Gp(i,e){var t,r,n=e.idref;i&&(t=et(i,"head"),r=et(t,"link[property='dc.identifier']"),r?r.setAttribute("content",n):(r=i.createElement("meta"),r.setAttribute("name","dc.identifier"),r.setAttribute("content",n),t.appendChild(r)))}function Zp(i,e){var t=i.querySelectorAll("a[href]");if(t.length)for(var r=et(i.ownerDocument,"base"),n=r?r.getAttribute("href"):void 0,s=(function(o){var u=o.getAttribute("href");if(u.indexOf("mailto:")!==0){var f=u.indexOf("://")>-1;if(f)o.setAttribute("target","_blank");else{var l;try{l=new ei(u,n)}catch{}o.onclick=function(){return l&&l.hash?e(l.Path.path+l.hash):e(l?l.Path.path:u),!1}}}}).bind(this),a=0;a<t.length;a++)s(t[a])}function Qo(i,e,t){return e.forEach(function(r,n){r&&t[n]&&(r=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=i.replace(new RegExp(r,"g"),t[n]))}),i}function Kr(i,e,t,r){var n=typeof window<"u"?window.URL:!1,s=n?"blob":"arraybuffer",a=new Me,o=new XMLHttpRequest,u=XMLHttpRequest.prototype,f;"overrideMimeType"in u||Object.defineProperty(u,"overrideMimeType",{value:function(){}}),t&&(o.withCredentials=!0),o.onreadystatechange=c,o.onerror=l,o.open("GET",i,!0);for(f in r)o.setRequestHeader(f,r[f]);e=="json"&&o.setRequestHeader("Accept","application/json"),e||(e=new Ai(i).extension),e=="blob"&&(o.responseType=s),Xr(e)&&o.overrideMimeType("text/xml"),e=="binary"&&(o.responseType="arraybuffer"),o.send();function l(p){a.reject(p)}function c(){if(this.readyState===XMLHttpRequest.DONE){var p=!1;if((this.responseType===""||this.responseType==="document")&&(p=this.responseXML),this.status===200||this.status===0||p){var v;if(!this.response&&!p)return a.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),a.promise;if(this.status===403)return a.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),a.promise;p?v=this.responseXML:Xr(e)?v=ci(this.response,"text/xml"):e=="xhtml"?v=ci(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?v=ci(this.response,"text/html"):e=="json"?v=JSON.parse(this.response):e=="blob"?n?v=this.response:v=new Blob([this.response]):v=this.response,a.resolve(v)}else a.reject({status:this.status,message:this.response,stack:new Error().stack})}}return a.promise}class Yp{constructor(e,t){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,t?this.hooks=t:(this.hooks={},this.hooks.serialize=new ti(this),this.hooks.content=new ti(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var t=e||this.request||Kr,r=new Me,n=r.promise;return this.contents?r.resolve(this.contents):t(this.url).then((function(s){return this.document=s,this.contents=s.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){r.resolve(this.contents)}).bind(this)).catch(function(s){r.reject(s)}),n}base(){return uf(this.document,this)}render(e){var t=new Me,r=t.promise;return this.output,this.load(e).then((function(n){var s=typeof navigator<"u"&&navigator.userAgent||"",a=s.indexOf("Trident")>=0,o;typeof XMLSerializer>"u"||a?o=Zl:o=XMLSerializer;var u=new o;return this.output=u.serializeToString(n),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){t.resolve(this.output)}).bind(this)).catch(function(n){t.reject(n)}),r}find(e){var t=this,r=[],n=e.toLowerCase(),s=function(a){for(var o=a.textContent.toLowerCase(),u=t.document.createRange(),f,l,c=-1,p,v=150;l!=-1;)l=o.indexOf(n,c+1),l!=-1&&(u=t.document.createRange(),u.setStart(a,l),u.setEnd(a,l+n.length),f=t.cfiFromRange(u),a.textContent.length<v?p=a.textContent:(p=a.textContent.substring(l-v/2,l+v/2),p="..."+p+"..."),r.push({cfi:f,excerpt:p})),c=l};return Wn(t.document,function(a){s(a)}),r}search(e,t=5){if(typeof document.createTreeWalker>"u")return this.find(e);let r=[];const n=150,s=this,a=e.toLowerCase(),o=function(c){const C=c.reduce((T,d)=>T+d.textContent,"").toLowerCase().indexOf(a);if(C!=-1){const d=C+a.length;let g=0,y=0;if(C<c[0].length){let x;for(;g<c.length-1&&(y+=c[g].length,!(d<=y));)g+=1;let k=c[0],_=c[g],D=s.document.createRange();D.setStart(k,C);let N=c.slice(0,g).reduce((U,M)=>U+M.textContent.length,0);D.setEnd(_,N>d?d:d-N),x=s.cfiFromRange(D);let B=c.slice(0,g+1).reduce((U,M)=>U+M.textContent,"");B.length>n&&(B=B.substring(C-n/2,C+n/2),B="..."+B+"..."),r.push({cfi:x,excerpt:B})}}},u=document.createTreeWalker(s.document,NodeFilter.SHOW_TEXT,null,!1);let f,l=[];for(;f=u.nextNode();)l.push(f),l.length==t&&(o(l.slice(0,t)),l=l.slice(1,t));return l.length>0&&o(l),r}reconcileLayoutSettings(e){var t={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(r){var n=r.replace("rendition:",""),s=n.indexOf("-"),a,o;s!=-1&&(a=n.slice(0,s),o=n.slice(s+1),t[a]=o)}),t}cfiFromRange(e){return new Ue(e,this.cfiBase).toString()}cfiFromElement(e){return new Ue(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class Xp{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new ti,this.hooks.content=new ti,this.hooks.content.register(uf),this.hooks.content.register(Vp),this.hooks.content.register(Gp),this.epubcfi=new Ue,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,t,r){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((n,s)=>{var a=this.manifest[n.idref],o;n.index=s,n.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,n.index,n.id),n.href&&(n.url=t(n.href,!0),n.canonical=r(n.href)),a&&(n.href=a.href,n.url=t(n.href,!0),n.canonical=r(n.href),a.properties.length&&n.properties.push.apply(n.properties,a.properties)),n.linear==="yes"?(n.prev=(function(){let u=n.index;for(;u>0;){let f=this.get(u-1);if(f&&f.linear)return f;u-=1}}).bind(this),n.next=(function(){let u=n.index;for(;u<this.spineItems.length-1;){let f=this.get(u+1);if(f&&f.linear)return f;u+=1}}).bind(this)):(n.prev=function(){},n.next=function(){}),o=new Yp(n,this.hooks),this.append(o)}),this.loaded=!0}get(e){var t=0;if(typeof e>"u")for(;t<this.spineItems.length;){let r=this.spineItems[t];if(r&&r.linear)break;t+=1}else this.epubcfi.isCfiString(e)?t=new Ue(e).spinePos:typeof e=="number"||isNaN(e)===!1?t=e:typeof e=="string"&&e.indexOf("#")===0?t=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],t=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[t]||null}append(e){var t=this.spineItems.length;return e.index=t,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=t,this.spineByHref[encodeURI(e.href)]=t,this.spineByHref[e.href]=t,this.spineById[e.idref]=t,t}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(t,r){t.index=r}),0}remove(e){var t=this.spineItems.indexOf(e);if(t>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(t,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let t=this.get(e);if(t&&t.linear)return t;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let t=this.get(e);if(t&&t.linear)return t;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Wa{constructor(e){this._q=[],this.context=e,this.tick=Ma,this.running=!1,this.paused=!1}enqueue(){var e,t,r,n=[].shift.call(arguments),s=arguments;if(!n)throw new Error("No Task Provided");return typeof n=="function"?(e=new Me,t=e.promise,r={task:n,args:s,deferred:e,promise:t}):r={promise:n},this._q.push(r),this.paused==!1&&!this.running&&this.run(),r.promise}dequeue(){var e,t,r;if(this._q.length&&!this.paused){if(e=this._q.shift(),t=e.task,t)return r=t.apply(this.context,e.args),r&&typeof r.then=="function"?r.then((function(){e.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){e.deferred.reject.apply(this.context,arguments)}).bind(this)):(e.deferred.resolve.apply(this.context,r),e.promise);if(e.promise)return e.promise}else return e=new Me,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Me),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const os="0.3",Sn=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],pe={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class lf{constructor(e,t,r){this.spine=e,this.request=t,this.pause=r||100,this.q=new Wa(this),this.epubcfi=new Ue,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each((function(t){t.linear&&this.q.enqueue(this.process.bind(this),t)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then((function(t){var r=new Me,n=this.parse(t,e.cfiBase);return this._locations=this._locations.concat(n),e.unload(),this.processingTimeout=setTimeout(()=>r.resolve(n),this.pause),r.promise}).bind(this))}parse(e,t,r){var n=[],s,a=e.ownerDocument,o=et(a,"body"),u=0,f,l=r||this.break,c=function(p){var v=p.length,C,T=0;if(p.textContent.trim().length===0)return!1;for(u==0&&(s=this.createRange(),s.startContainer=p,s.startOffset=0),C=l-u,C>v&&(u+=v,T=v);T<v;)if(C=l-u,u===0&&(T+=1,s=this.createRange(),s.startContainer=p,s.startOffset=T),T+C>=v)u+=v-T,T=v;else{T+=C,s.endContainer=p,s.endOffset=T;let d=new Ue(s,t).toString();n.push(d),u=0}f=p};if(Wn(o,c.bind(this)),s&&s.startContainer&&f){s.endContainer=f,s.endOffset=f.length;let p=new Ue(s,t).toString();n.push(p),u=0}return n}generateFromWords(e,t,r){var n=e?new Ue(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(s){s.linear&&(n?s.index>=n.spinePos&&this.q.enqueue(this.processWords.bind(this),s,t,n,r):this.q.enqueue(this.processWords.bind(this),s,t,n,r))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(e,t,r,n){return n&&this._locationsWords.length>=n?Promise.resolve():e.load(this.request).then((function(s){var a=new Me,o=this.parseWords(s,e,t,r),u=n-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(o.length>=n?o.slice(0,u):o),e.unload(),this.processingTimeout=setTimeout(()=>a.resolve(o),this.pause),a.promise}).bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,t,r,n){var s=t.cfiBase,a=[],o=e.ownerDocument,u=et(o,"body"),f=r,l=n?n.spinePos!==t.index:!0,c;n&&t.index===n.spinePos&&(c=n.findNode(n.range?n.path.steps.concat(n.start.steps):n.path.steps,e.ownerDocument));var p=function(v){if(!l)if(v===c)l=!0;else return!1;if(v.textContent.length<10&&v.textContent.trim().length===0)return!1;var C=this.countWords(v.textContent),T,d=0;if(C===0)return!1;for(T=f-this._wordCounter,T>C&&(this._wordCounter+=C,d=C);d<C;)if(T=f-this._wordCounter,d+T>=C)this._wordCounter+=C-d,d=C;else{d+=T;let g=new Ue(v,s);a.push({cfi:g.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return Wn(u,p.bind(this)),a}locationFromCfi(e){let t;return Ue.prototype.isCfiString(e)&&(e=new Ue(e)),this._locations.length===0?-1:(t=wr(e,this._locations,this.epubcfi.compare),t>this.total?this.total:t)}percentageFromCfi(e){if(this._locations.length===0)return null;var t=this.locationFromCfi(e);return this.percentageFromLocation(t)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var t=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(t=this._locations[e]),t}cfiFromPercentage(e){let t;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let r=new Ue(this._locations[this.total]);return r.collapse(),r.toString()}return t=Math.ceil(this.total*e),this.cfiFromLocation(t)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var t;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(t=this.locationFromCfi(e),this._current=t):t=e,this.emit(pe.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(t)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}pi(lf.prototype);class Kp{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var t;if(!e)throw new Error("Container File Not Found");if(t=et(e,"rootfile"),!t)throw new Error("No RootFile Found");this.packagePath=t.getAttribute("full-path"),this.directory=Ii.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class eu{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var t,r,n;if(!e)throw new Error("Package File Not Found");if(t=et(e,"metadata"),!t)throw new Error("No Metadata Found");if(r=et(e,"manifest"),!r)throw new Error("No Manifest Found");if(n=et(e,"spine"),!n)throw new Error("No Spine Found");return this.manifest=this.parseManifest(r),this.navPath=this.findNavPath(r),this.ncxPath=this.findNcxPath(r,n),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=Ql(n),this.spine=this.parseSpine(n,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(t),this.metadata.direction=n.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var t={};return t.title=this.getElementText(e,"title"),t.creator=this.getElementText(e,"creator"),t.description=this.getElementText(e,"description"),t.pubdate=this.getElementText(e,"date"),t.publisher=this.getElementText(e,"publisher"),t.identifier=this.getElementText(e,"identifier"),t.language=this.getElementText(e,"language"),t.rights=this.getElementText(e,"rights"),t.modified_date=this.getPropertyText(e,"dcterms:modified"),t.layout=this.getPropertyText(e,"rendition:layout"),t.orientation=this.getPropertyText(e,"rendition:orientation"),t.flow=this.getPropertyText(e,"rendition:flow"),t.viewport=this.getPropertyText(e,"rendition:viewport"),t.media_active_class=this.getPropertyText(e,"media:active-class"),t.spread=this.getPropertyText(e,"rendition:spread"),t}parseManifest(e){var t={},r=xi(e,"item"),n=Array.prototype.slice.call(r);return n.forEach(function(s){var a=s.getAttribute("id"),o=s.getAttribute("href")||"",u=s.getAttribute("media-type")||"",f=s.getAttribute("media-overlay")||"",l=s.getAttribute("properties")||"";t[a]={href:o,type:u,overlay:f,properties:l.length?l.split(" "):[]}}),t}parseSpine(e,t){var r=[],n=xi(e,"itemref"),s=Array.prototype.slice.call(n);return s.forEach(function(a,o){var u=a.getAttribute("idref"),f=a.getAttribute("properties")||"",l=f.length?f.split(" "):[],c={id:a.getAttribute("id"),idref:u,linear:a.getAttribute("linear")||"yes",properties:l,index:o};r.push(c)}),r}findUniqueIdentifier(e){var t=e.documentElement.getAttribute("unique-identifier");if(!t)return"";var r=e.getElementById(t);return r&&r.localName==="identifier"&&r.namespaceURI==="http://purl.org/dc/elements/1.1/"&&r.childNodes.length>0?r.childNodes[0].nodeValue.trim():""}findNavPath(e){var t=or(e,"item",{properties:"nav"});return t?t.getAttribute("href"):!1}findNcxPath(e,t){var r=or(e,"item",{"media-type":"application/x-dtbncx+xml"}),n;return r||(n=t.getAttribute("toc"),n&&(r=e.querySelector(`#${n}`))),r?r.getAttribute("href"):!1}findCoverPath(e){var t=et(e,"package");t.getAttribute("version");var r=or(e,"item",{properties:"cover-image"});if(r)return r.getAttribute("href");var n=or(e,"meta",{name:"cover"});if(n){var s=n.getAttribute("content"),a=e.getElementById(s);return a?a.getAttribute("href"):""}else return!1}getElementText(e,t){var r=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",t),n;return!r||r.length===0?"":(n=r[0],n.childNodes.length?n.childNodes[0].nodeValue:"")}getPropertyText(e,t){var r=or(e,"meta",{property:t});return r&&r.childNodes.length?r.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let t=e.readingOrder||e.spine;return this.spine=t.map((r,n)=>(r.index=n,r.linear=r.linear||"yes",r)),e.resources.forEach((r,n)=>{this.manifest[n]=r,r.rel&&r.rel[0]==="cover"&&(this.coverPath=r.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((r,n)=>(r.label=r.title,r)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class Ls{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let t=e.nodeType,r,n;t&&(r=et(e,"html"),n=et(e,"ncx")),t?r?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):n&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var t,r=0;r<e.length;r++)t=e[r],t.href&&(this.tocByHref[t.href]=r),t.id&&(this.tocById[t.id]=r),this.length++,t.subitems.length&&this.unpack(t.subitems)}get(e){var t;return e?(e.indexOf("#")===0?t=this.tocById[e.substring(1)]:e in this.tocByHref&&(t=this.tocByHref[e]),this.getByIndex(e,t,this.toc)):this.toc}getByIndex(e,t,r){if(r.length===0)return;const n=r[t];if(n&&(e===n.id||e===n.href))return n;{let s;for(let a=0;a<r.length&&(s=this.getByIndex(e,t,r[a].subitems),!s);++a);return s}}landmark(e){var t;return e?(t=this.landmarksByType[e],this.landmarks[t]):this.landmarks}parseNav(e){var t=qn(e,"nav","toc"),r=[];if(!t)return r;let n=ur(t,"ol",!0);return n&&(r=this.parseNavList(n)),r}parseNavList(e,t){const r=[];if(!e||!e.children)return r;for(let n=0;n<e.children.length;n++){const s=this.navItem(e.children[n],t);s&&r.push(s)}return r}navItem(e,t){let r=e.getAttribute("id")||void 0,n=ur(e,"a",!0)||ur(e,"span",!0);if(!n)return;let s=n.getAttribute("href")||"";r||(r=s);let a=n.textContent||"",o=[],u=ur(e,"ol",!0);return u&&(o=this.parseNavList(u,r)),{id:r,href:s,label:a,subitems:o,parent:t}}parseLandmarks(e){var t=qn(e,"nav","landmarks"),r=t?xi(t,"li"):[],n=r.length,s,a=[],o;if(!r||n===0)return a;for(s=0;s<n;++s)o=this.landmarkItem(r[s]),o&&(a.push(o),this.landmarksByType[o.type]=s);return a}landmarkItem(e){let t=ur(e,"a",!0);if(!t)return;let r=t.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,n=t.getAttribute("href")||"",s=t.textContent||"";return{href:n,label:s,type:r}}parseNcx(e){var t=xi(e,"navPoint"),r=t.length,n,s={},a=[],o,u;if(!t||r===0)return a;for(n=0;n<r;++n)o=this.ncxItem(t[n]),s[o.id]=o,o.parent?(u=s[o.parent],u.subitems.push(o)):a.push(o);return a}ncxItem(e){var t=e.getAttribute("id")||!1,r=et(e,"content"),n=r.getAttribute("src"),s=et(e,"navLabel"),a=s.textContent?s.textContent:"",o=[],u=e.parentNode,f;return u&&(u.nodeName==="navPoint"||u.nodeName.split(":").slice(-1)[0]==="navPoint")&&(f=u.getAttribute("id")),{id:t,href:n,label:a,subitems:o,parent:f}}load(e){return e.map(t=>(t.label=t.title,t.subitems=t.children?this.load(t.children):[],t))}forEach(e){return this.toc.forEach(e)}}var Nr={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},Jp=function(){var i,e,t,r,n={};for(i in Nr)if(Nr.hasOwnProperty(i)){for(e in Nr[i])if(Nr[i].hasOwnProperty(e))if(t=Nr[i][e],typeof t=="string")n[t]=i+"/"+e;else for(r=0;r<t.length;r++)n[t[r]]=i+"/"+e}return n}(),Qp="text/plain";function eg(i){return i&&Jp[i.split(".").pop().toLowerCase()]||Qp}const gr={lookup:eg};class tg{constructor(e,t){this.settings={replacements:t&&t.replacements||"base64",archive:t&&t.archive,resolver:t&&t.resolver,request:t&&t.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(t){return e[t]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(e){return e.href}).bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var t=new ei(e),r=gr.lookup(t.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(n=>sf(n)).then(n=>ta(n,r)):this.settings.request(e,"blob").then(n=>jn(n,r))}replacements(){if(this.settings.replacements==="none")return new Promise((function(t){t(this.urls)}).bind(this));var e=this.urls.map(t=>{var r=this.settings.resolver(t);return this.createUrl(r).catch(n=>(console.error(n),null))});return Promise.all(e).then(t=>(this.replacementUrls=t.filter(r=>typeof r=="string"),t))}replaceCss(e,t){var r=[];return e=e||this.settings.archive,t=t||this.settings.resolver,this.cssUrls.forEach((function(n){var s=this.createCssFile(n,e,t).then((function(a){var o=this.urls.indexOf(n);o>-1&&(this.replacementUrls[o]=a)}).bind(this));r.push(s)}).bind(this)),Promise.all(r)}createCssFile(e){var t;if(Ii.isAbsolute(e))return new Promise(function(a){a()});var r=this.settings.resolver(e),n;this.settings.archive?n=this.settings.archive.getText(r):n=this.settings.request(r,"text");var s=this.urls.map(a=>{var o=this.settings.resolver(a),u=new Ai(r).relative(o);return u});return n?n.then(a=>(a=Qo(a,s,this.replacementUrls),this.settings.replacements==="base64"?t=ta(a,"text/css"):t=jn(a,"text/css"),t),a=>new Promise(function(o){o()})):new Promise(function(a){a()})}relativeTo(e,t){return t=t||this.settings.resolver,this.urls.map((function(r){var n=t(r),s=new Ai(e).relative(n);return s}).bind(this))}get(e){var t=this.urls.indexOf(e);if(t!==-1)return this.replacementUrls.length?new Promise((function(r,n){r(this.replacementUrls[t])}).bind(this)):this.createUrl(e)}substitute(e,t){var r;return t?r=this.relativeTo(t):r=this.urls,Qo(e,r,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class Fs{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Ue,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var t=et(e,"html"),r=et(e,"ncx");if(t)return this.parseNav(e);if(r)return this.parseNcx(e)}parseNav(e){var t=qn(e,"nav","page-list"),r=t?xi(t,"li"):[],n=r.length,s,a=[],o;if(!r||n===0)return a;for(s=0;s<n;++s)o=this.item(r[s]),a.push(o);return a}parseNcx(e){var t=[],r=0,n,s,a,o=0;if(s=et(e,"pageList"),!s||(a=xi(s,"pageTarget"),o=a.length,!a||a.length===0))return t;for(r=0;r<o;++r)n=this.ncxItem(a[r]),t.push(n);return t}ncxItem(e){var t=et(e,"navLabel"),r=et(t,"text"),n=r.textContent,s=et(e,"content"),a=s.getAttribute("src"),o=parseInt(n,10);return{href:a,page:o}}item(e){var t=et(e,"a"),r=t.getAttribute("href")||"",n=t.textContent||"",s=parseInt(n),a=r.indexOf("epubcfi"),o,u,f;return a!=-1?(o=r.split("#"),u=o[0],f=o.length>1?o[1]:!1,{cfi:f,href:r,packageUrl:u,page:s}):{href:r,page:s}}process(e){e.forEach(function(t){this.pages.push(t.page),t.cfi&&this.locations.push(t.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var t=-1;if(this.locations.length===0)return-1;var r=zn(e,this.locations,this.epubcfi.compare);return r!=-1?t=this.pages[r]:(r=wr(e,this.locations,this.epubcfi.compare),t=r-1>=0?this.pages[r-1]:this.pages[0],t!==void 0||(t=-1)),t}cfiFromPage(e){var t=-1;typeof e!="number"&&(e=parseInt(e));var r=this.pages.indexOf(e);return r!=-1&&(t=this.locations[r]),t}pageFromPercentage(e){var t=Math.round(this.totalPages*e);return t}percentageFromPage(e){var t=(e-this.firstPage)/this.totalPages;return Math.round(t*1e3)/1e3}percentageFromCfi(e){var t=this.pageFromCfi(e),r=this.percentageFromPage(t);return r}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class ff{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e<"u"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,t){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),t>=0&&(this._minSpreadWidth=t),this._spread}calculate(e,t,r){var n=1,s=r||0,a=e,o=t,u=Math.floor(a/12),f,l,c,p;this._spread&&a>=this._minSpreadWidth?n=2:n=1,this.name==="reflowable"&&this._flow==="paginated"&&!(r>=0)&&(s=u%2===0?u:u-1),this.name==="pre-paginated"&&(s=0),n>1?(f=a/n-s,c=f+s):(f=a,c=a),this.name==="pre-paginated"&&n>1&&(a=f),l=f*n+s,p=a,this.width=a,this.height=o,this.spreadWidth=l,this.pageWidth=c,this.delta=p,this.columnWidth=f,this.gap=s,this.divisor=n,this.update({width:a,height:o,spreadWidth:l,pageWidth:c,delta:p,columnWidth:f,gap:s,divisor:n})}format(e,t,r){var n;return this.name==="pre-paginated"?n=e.fit(this.columnWidth,this.height,t):this._flow==="paginated"?n=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):r&&r==="horizontal"?n=e.size(null,this.height):n=e.size(this.width,null),n}count(e,t){let r,n;return this.name==="pre-paginated"?(r=1,n=1):this._flow==="paginated"?(t=t||this.delta,r=Math.ceil(e/t),n=r*this.divisor):(t=t||this.height,r=Math.ceil(e/t),n=r),{spreads:r,pages:n}}update(e){if(Object.keys(e).forEach(t=>{this.props[t]===e[t]&&delete e[t]}),Object.keys(e).length>0){let t=At(this.props,e);this.emit(pe.LAYOUT.UPDATED,t,e)}}}pi(ff.prototype);class ig{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var t in e)e.hasOwnProperty(t)&&(typeof e[t]=="string"?this.registerUrl(t,e[t]):this.registerRules(t,e[t]))}registerCss(e,t){this._themes[e]={serialized:t},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,t){var r=new ei(t);this._themes[e]={url:r.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,t){this._themes[e]={rules:t},(this._injected[e]||e=="default")&&this.update(e)}select(e){var t=this._current,r;this._current=e,this.update(e),r=this.rendition.getContents(),r.forEach(n=>{n.removeClass(t),n.addClass(e)})}update(e){var t=this.rendition.getContents();t.forEach(r=>{this.add(e,r)})}inject(e){var t=[],r=this._themes,n;for(var s in r)r.hasOwnProperty(s)&&(s===this._current||s==="default")&&(n=r[s],(n.rules&&Object.keys(n.rules).length>0||n.url&&t.indexOf(n.url)===-1)&&this.add(s,e),this._injected.push(s));this._current!="default"&&e.addClass(this._current)}add(e,t){var r=this._themes[e];!r||!t||(r.url?t.addStylesheet(r.url):r.serialized?(t.addStylesheetCss(r.serialized,e),r.injected=!0):r.rules&&(t.addStylesheetRules(r.rules,e),r.injected=!0))}override(e,t,r){var n=this.rendition.getContents();this._overrides[e]={value:t,priority:r===!0},n.forEach(s=>{s.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var t=this.rendition.getContents();delete this._overrides[e],t.forEach(r=>{r.css(e)})}overrides(e){var t=this._overrides;for(var r in t)t.hasOwnProperty(r)&&e.css(r,t[r].value,t[r].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class Hn{constructor(e,t,r,n=!1){this.layout=e,this.horizontal=r==="horizontal",this.direction=t||"ltr",this._dev=n}section(e){var t=this.findRanges(e),r=this.rangeListToCfiList(e.section.cfiBase,t);return r}page(e,t,r,n){var s=e&&e.document?e.document.body:!1,a;if(s){if(a=this.rangePairToCfiPair(t,{start:this.findStart(s,r,n),end:this.findEnd(s,r,n)}),this._dev===!0){let o=e.document,u=new Ue(a.start).toRange(o),f=new Ue(a.end).toRange(o),l=o.defaultView.getSelection(),c=o.createRange();l.removeAllRanges(),c.setStart(u.startContainer,u.startOffset),c.setEnd(f.endContainer,f.endOffset),l.addRange(c)}return a}}walk(e,t){if(!(e&&e.nodeType===Node.TEXT_NODE)){var r={acceptNode:function(u){return u.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},n=r.acceptNode;n.acceptNode=r.acceptNode;for(var s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n,!1),a,o;(a=s.nextNode())&&(o=t(a),!o););return o}}findRanges(e){for(var t=[],r=e.contents.scrollWidth(),n=Math.ceil(r/this.layout.spreadWidth),s=n*this.layout.divisor,a=this.layout.columnWidth,o=this.layout.gap,u,f,l=0;l<s.pages;l++)u=(a+o)*l,f=a*(l+1)+o*l,t.push({start:this.findStart(e.document.body,u,f),end:this.findEnd(e.document.body,u,f)});return t}findStart(e,t,r){for(var n=[e],s,a,o=e;n.length;)if(s=n.shift(),a=this.walk(s,u=>{var f,l,c,p,v;if(v=ea(u),this.horizontal&&this.direction==="ltr"){if(f=this.horizontal?v.left:v.top,l=this.horizontal?v.right:v.bottom,f>=t&&f<=r)return u;if(l>t)return u;o=u,n.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(f=v.left,l=v.right,l<=r&&l>=t)return u;if(f<r)return u;o=u,n.push(u)}else{if(c=v.top,p=v.bottom,c>=t&&c<=r)return u;if(p>t)return u;o=u,n.push(u)}}),a)return this.findTextStartRange(a,t,r);return this.findTextStartRange(o,t,r)}findEnd(e,t,r){for(var n=[e],s,a=e,o;n.length;)if(s=n.shift(),o=this.walk(s,u=>{var f,l,c,p,v;if(v=ea(u),this.horizontal&&this.direction==="ltr"){if(f=Math.round(v.left),l=Math.round(v.right),f>r&&a)return a;if(l>r)return u;a=u,n.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(f=Math.round(this.horizontal?v.left:v.top),l=Math.round(this.horizontal?v.right:v.bottom),l<t&&a)return a;if(f<t)return u;a=u,n.push(u)}else{if(c=Math.round(v.top),p=Math.round(v.bottom),c>r&&a)return a;if(p>r)return u;a=u,n.push(u)}}),o)return this.findTextEndRange(o,t,r);return this.findTextEndRange(a,t,r)}findTextStartRange(e,t,r){for(var n=this.splitTextNodeIntoRanges(e),s,a,o,u,f,l=0;l<n.length;l++)if(s=n[l],a=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(o=a.left,o>=t)return s}else if(this.horizontal&&this.direction==="rtl"){if(f=a.right,f<=r)return s}else if(u=a.top,u>=t)return s;return n[0]}findTextEndRange(e,t,r){for(var n=this.splitTextNodeIntoRanges(e),s,a,o,u,f,l,c,p=0;p<n.length;p++){if(a=n[p],o=a.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(u=o.left,f=o.right,u>r&&s)return s;if(f>r)return a}else if(this.horizontal&&this.direction==="rtl"){if(u=o.left,f=o.right,f<t&&s)return s;if(u<t)return a}else{if(l=o.top,c=o.bottom,l>r&&s)return s;if(c>r)return a}s=a}return n[n.length-1]}splitTextNodeIntoRanges(e,t){var r=[],n=e.textContent||"",s=n.trim(),a,o=e.ownerDocument,u=t||" ",f=s.indexOf(u);if(f===-1||e.nodeType!=Node.TEXT_NODE)return a=o.createRange(),a.selectNodeContents(e),[a];for(a=o.createRange(),a.setStart(e,0),a.setEnd(e,f),r.push(a),a=!1;f!=-1;)f=s.indexOf(u,f+1),f>0&&(a&&(a.setEnd(e,f),r.push(a)),a=o.createRange(),a.setStart(e,f+1));return a&&(a.setEnd(e,s.length),r.push(a)),r}rangePairToCfiPair(e,t){var r=t.start,n=t.end;r.collapse(!0),n.collapse(!1);let s=new Ue(r,e).toString(),a=new Ue(n,e).toString();return{start:s,end:a}}rangeListToCfiList(e,t){for(var r=[],n,s=0;s<t.length;s++)n=this.rangePairToCfiPair(e,t[s]),r.push(n);return r}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const hf=typeof navigator<"u",rg=hf&&/Chrome/.test(navigator.userAgent),tu=hf&&!rg&&/AppleWebKit/.test(navigator.userAgent),ng=1;class qa{constructor(e,t,r,n){this.epubcfi=new Ue,this.document=e,this.documentElement=this.document.documentElement,this.content=t||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=n||0,this.cfiBase=r||"",this.epubReadingSystem("epub.js",os),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return Sn}width(e){var t=this.content;return e&&ct(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}height(e){var t=this.content;return e&&ct(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}contentWidth(e){var t=this.content||this.document.body;return e&&ct(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}contentHeight(e){var t=this.content||this.document.body;return e&&ct(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}textWidth(){let e,t,r=this.document.createRange(),n=this.content||this.document.body,s=Mn(n);return r.selectNodeContents(n),e=r.getBoundingClientRect(),t=e.width,s&&s.width&&(t+=s.width),Math.round(t)}textHeight(){let e,t,r=this.document.createRange(),n=this.content||this.document.body;return r.selectNodeContents(n),e=r.getBoundingClientRect(),t=e.bottom,Math.round(t)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,t,r){var n=this.content||this.document.body;return t?n.style.setProperty(e,t,r?"important":""):n.style.removeProperty(e),this.window.getComputedStyle(n)[e]}viewport(e){var t=this.document.querySelector("meta[name='viewport']"),r={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},n=[],s={};if(t&&t.hasAttribute("content")){let a=t.getAttribute("content"),o=a.match(/width\s*=\s*([^,]*)/),u=a.match(/height\s*=\s*([^,]*)/),f=a.match(/initial-scale\s*=\s*([^,]*)/),l=a.match(/minimum-scale\s*=\s*([^,]*)/),c=a.match(/maximum-scale\s*=\s*([^,]*)/),p=a.match(/user-scalable\s*=\s*([^,]*)/);o&&o.length&&typeof o[1]<"u"&&(r.width=o[1]),u&&u.length&&typeof u[1]<"u"&&(r.height=u[1]),f&&f.length&&typeof f[1]<"u"&&(r.scale=f[1]),l&&l.length&&typeof l[1]<"u"&&(r.minimum=l[1]),c&&c.length&&typeof c[1]<"u"&&(r.maximum=c[1]),p&&p.length&&typeof p[1]<"u"&&(r.scalable=p[1])}return s=Jl(e||{},r),e&&(s.width&&n.push("width="+s.width),s.height&&n.push("height="+s.height),s.scale&&n.push("initial-scale="+s.scale),s.scalable==="no"?(n.push("minimum-scale="+s.scale),n.push("maximum-scale="+s.scale),n.push("user-scalable="+s.scalable)):(s.scalable&&n.push("user-scalable="+s.scalable),s.minimum&&n.push("minimum-scale="+s.minimum),s.maximum&&n.push("minimum-scale="+s.maximum)),t||(t=this.document.createElement("meta"),t.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(t)),t.setAttribute("content",n.join(", ")),this.window.scrollTo(0,0)),s}expand(){this.emit(pe.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),t=this.textHeight();(e!=this._size.width||t!=this._size.height)&&(this._size={width:e,height:t},this.onResize&&this.onResize(this._size),this.emit(pe.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,t=(function(o){o.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),r=0;r<e.length;r+=1){var n;try{n=e[r].cssRules}catch{return}if(!n)return;for(var s=0;s<n.length;s+=1)if(n[s].media){var a=this.window.matchMedia(n[s].media.mediaText);a.addListener(t)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(t=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),t,r=0;r<e.length;r++)t=e[r],typeof t.naturalWidth<"u"&&t.naturalWidth===0&&(t.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,t){var r,n={left:0,top:0};if(!this.document)return n;if(this.epubcfi.isCfiString(e)){let s=new Ue(e).toRange(this.document,t);if(s){try{if(!s.endContainer||s.startContainer==s.endContainer&&s.startOffset==s.endOffset){let a=s.startContainer.textContent.indexOf(" ",s.startOffset);a==-1&&(a=s.startContainer.textContent.length),s.setEnd(s.startContainer,a)}}catch(a){console.error("setting end offset to start container length failed",a)}if(s.startContainer.nodeType===Node.ELEMENT_NODE)r=s.startContainer.getBoundingClientRect(),n.left=r.left,n.top=r.top;else if(tu){let a=s.startContainer,o=new Range;try{a.nodeType===ng?r=a.getBoundingClientRect():s.startOffset+2<a.length?(o.setStart(a,s.startOffset),o.setEnd(a,s.startOffset+2),r=o.getBoundingClientRect()):s.startOffset-2>0?(o.setStart(a,s.startOffset-2),o.setEnd(a,s.startOffset),r=o.getBoundingClientRect()):r=a.parentNode.getBoundingClientRect()}catch(u){console.error(u,u.stack)}}else r=s.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let s=e.substring(e.indexOf("#")+1),a=this.document.getElementById(s);if(a)if(tu){let o=new Range;o.selectNode(a),r=o.getBoundingClientRect()}else r=a.getBoundingClientRect()}return r&&(n.left=r.left,n.top=r.top),n}addStylesheet(e){return new Promise((function(t,r){var n,s=!1;if(!this.document){t(!1);return}if(n=this.document.querySelector("link[href='"+e+"']"),n){t(!0);return}n=this.document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=e,n.onload=n.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(()=>{t(!0)},1))},this.document.head.appendChild(n)}).bind(this))}_getStylesheetNode(e){var t;return e="epubjs-inserted-css-"+(e||""),this.document?(t=this.document.getElementById(e),t||(t=this.document.createElement("style"),t.id=e,this.document.head.appendChild(t)),t):!1}addStylesheetCss(e,t){if(!this.document||!e)return!1;var r;return r=this._getStylesheetNode(t),r.innerHTML=e,!0}addStylesheetRules(e,t){var r;if(!(!this.document||!e||e.length===0))if(r=this._getStylesheetNode(t).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var n=0,s=e.length;n<s;n++){var a=1,o=e[n],u=e[n][0],f="";Object.prototype.toString.call(o[1][0])==="[object Array]"&&(o=o[1],a=0);for(var l=o.length;a<l;a++){var c=o[a];f+=c[0]+":"+c[1]+(c[2]?" !important":"")+`;
`}r.insertRule(u+"{"+f+"}",r.cssRules.length)}else Object.keys(e).forEach(v=>{const C=e[v];if(Array.isArray(C))C.forEach(T=>{const g=Object.keys(T).map(y=>`${y}:${T[y]}`).join(";");r.insertRule(`${v}{${g}}`,r.cssRules.length)});else{const d=Object.keys(C).map(g=>`${g}:${C[g]}`).join(";");r.insertRule(`${v}{${d}}`,r.cssRules.length)}})}addScript(e){return new Promise((function(t,r){var n,s=!1;if(!this.document){t(!1);return}n=this.document.createElement("script"),n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(function(){t(!0)},1))},this.document.head.appendChild(n)}).bind(this))}addClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.add(e))}removeClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),Sn.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(Sn.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var t=this.window.getSelection();this.triggerSelectedEvent(t)}).bind(this),250)}triggerSelectedEvent(e){var t,r;e&&e.rangeCount>0&&(t=e.getRangeAt(0),t.collapsed||(r=new Ue(t,this.cfiBase).toString(),this.emit(pe.CONTENTS.SELECTED,r),this.emit(pe.CONTENTS.SELECTED_RANGE,t)))}range(e,t){var r=new Ue(e);return r.toRange(this.document,t)}cfiFromRange(e,t){return new Ue(e,this.cfiBase,t).toString()}cfiFromNode(e,t){return new Ue(e,this.cfiBase,t).toString()}map(e){var t=new Hn(e);return t.section()}size(e,t){var r={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),r.width=e,this.css("padding","0 "+e/12+"px")),t>=0&&(this.height(t),r.height=t),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(r)}columns(e,t,r,n,s){let a=ar("column-axis"),o=ar("column-gap"),u=ar("column-width"),f=ar("column-fill"),c=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),s==="rtl"&&c==="horizontal"&&this.direction(s),this.width(e),this.height(t),this.viewport({width:e,height:t,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),c==="vertical"?(this.css("padding-top",n/2+"px",!0),this.css("padding-bottom",n/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(a,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",n/2+"px",!0),this.css("padding-right",n/2+"px",!0),this.css(a,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(f,"auto"),this.css(o,n+"px"),this.css(u,r+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,t,r){var n="scale("+e+")",s="";this.css("transform-origin","top left"),(t>=0||r>=0)&&(s=" translate("+(t||0)+"px, "+(r||0)+"px )"),this.css("transform",n+s)}fit(e,t,r){var n=this.viewport(),s=parseInt(n.width),a=parseInt(n.height),o=e/s,u=t/a,f=o<u?o:u;if(this.layoutStyle("paginated"),this.width(s),this.height(a),this.overflow("hidden"),this.scaler(f,0,0),this.css("background-size",s*f+"px "+a*f+"px"),this.css("background-color","transparent"),r&&r.properties.includes("page-spread-left")){var l=e-s*f;this.css("margin-left",l+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,t,r,n,s){var a=new Hn(t,s);return a.page(this,e,r,n)}linksHandler(){Zp(this.content,e=>{this.emit(pe.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let t=ar("writing-mode");return e&&this.documentElement&&(this.documentElement.style[t]=e),this.window.getComputedStyle(this.documentElement)[t]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,t){return navigator.epubReadingSystem={name:e,version:t,layoutStyle:this.layoutStyle(),hasFeature:function(r){switch(r){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}pi(qa.prototype);class sg{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,t,r,n,s,a){let o=encodeURI(t+e),f=new Ue(t).spinePos,l=new cf({type:e,cfiRange:t,data:r,sectionIndex:f,cb:n,className:s,styles:a});return this._annotations[o]=l,f in this._annotationsBySectionIndex?this._annotationsBySectionIndex[f].push(o):this._annotationsBySectionIndex[f]=[o],this.rendition.views().forEach(p=>{l.sectionIndex===p.index&&l.attach(p)}),l}remove(e,t){let r=encodeURI(e+t);if(r in this._annotations){let n=this._annotations[r];if(t&&n.type!==t)return;this.rendition.views().forEach(a=>{this._removeFromAnnotationBySectionIndex(n.sectionIndex,r),n.sectionIndex===a.index&&n.detach(a)}),delete this._annotations[r]}}_removeFromAnnotationBySectionIndex(e,t){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(r=>r!==t)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,t,r,n,s){return this.add("highlight",e,t,r,n,s)}underline(e,t,r,n,s){return this.add("underline",e,t,r,n,s)}mark(e,t,r){return this.add("mark",e,t,r)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(n=>{this._annotations[n].attach(e)})}clear(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(n=>{this._annotations[n].detach(e)})}show(){}hide(){}}class cf{constructor({type:e,cfiRange:t,data:r,sectionIndex:n,cb:s,className:a,styles:o}){this.type=e,this.cfiRange=t,this.data=r,this.sectionIndex=n,this.mark=void 0,this.cb=s,this.className=a,this.styles=o}update(e){this.data=e}attach(e){let{cfiRange:t,data:r,type:n,mark:s,cb:a,className:o,styles:u}=this,f;return n==="highlight"?f=e.highlight(t,r,a,o,u):n==="underline"?f=e.underline(t,r,a,o,u):n==="mark"&&(f=e.mark(t,r,a)),this.mark=f,this.emit(pe.ANNOTATION.ATTACH,f),f}detach(e){let{cfiRange:t,type:r}=this,n;return e&&(r==="highlight"?n=e.unhighlight(t):r==="underline"?n=e.ununderline(t):r==="mark"&&(n=e.unmark(t))),this.mark=void 0,this.emit(pe.ANNOTATION.DETACH,n),n}text(){}}pi(cf.prototype);var mi={},us={};Object.defineProperty(us,"__esModule",{value:!0});us.createElement=df;function df(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}us.default={createElement:df};var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.proxyMouse=pf;ln.clone=gf;ln.default={proxyMouse:pf};function pf(i,e){function t(a){for(var o=e.length-1;o>=0;o--){var u=e[o],f=a.clientX,l=a.clientY;if(a.touches&&a.touches.length&&(f=a.touches[0].clientX,l=a.touches[0].clientY),!!ag(u,i,f,l)){u.dispatchEvent(gf(a));break}}}if(i.nodeName==="iframe"||i.nodeName==="IFRAME")try{this.target=i.contentDocument}catch{this.target=i}else this.target=i;for(var r=["mouseup","mousedown","click","touchstart"],n=0;n<r.length;n++){var s=r[n];this.target.addEventListener(s,function(a){return t(a)},!1)}}function gf(i){var e=Object.assign({},i,{bubbles:!1});try{return new MouseEvent(i.type,e)}catch{var t=document.createEvent("MouseEvents");return t.initMouseEvent(i.type,!1,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),t}}function ag(i,e,t,r){var n=e.getBoundingClientRect();function s(l,c,p){var v=l.top-n.top,C=l.left-n.left,T=v+l.height,d=C+l.width;return v<=p&&C<=c&&T>p&&d>c}var a=i.getBoundingClientRect();if(!s(a,t,r))return!1;for(var o=i.getClientRects(),u=0,f=o.length;u<f;u++)if(s(o[u],t,r))return!0;return!1}var $n,Ha;Object.defineProperty(mi,"__esModule",{value:!0});var vf=mi.Underline=Ha=mi.Highlight=mi.Mark=$n=mi.Pane=void 0,og=function i(e,t,r){e===null&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(n===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:i(s,t,r)}else{if("value"in n)return n.value;var a=n.get;return a===void 0?void 0:a.call(r)}},ls=function(){function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}}(),ug=us,Jr=mf(ug),lg=ln,fg=mf(lg);function mf(i){return i&&i.__esModule?i:{default:i}}function yf(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function bf(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}function fs(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}$n=mi.Pane=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;fs(this,i),this.target=e,this.element=Jr.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),fg.default.proxyMouse(this.target,this.marks),this.container=t,this.container.appendChild(this.element),this.render()}return ls(i,[{key:"addMark",value:function(t){var r=Jr.default.createElement("g");return this.element.appendChild(r),t.bind(r,this.container),this.marks.push(t),t.render(),t}},{key:"removeMark",value:function(t){var r=this.marks.indexOf(t);if(r!==-1){var n=t.unbind();this.element.removeChild(n),this.marks.splice(r,1)}}},{key:"render",value:function(){pg(this.element,dg(this.target,this.container));var t=!0,r=!1,n=void 0;try{for(var s=this.marks[Symbol.iterator](),a;!(t=(a=s.next()).done);t=!0){var o=a.value;o.render()}}catch(u){r=!0,n=u}finally{try{!t&&s.return&&s.return()}finally{if(r)throw n}}}}]),i}();var hg=mi.Mark=function(){function i(){fs(this,i),this.element=null}return ls(i,[{key:"bind",value:function(t,r){this.element=t,this.container=r}},{key:"unbind",value:function(){var t=this.element;return this.element=null,t}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(t){this.element&&this.element.dispatchEvent(t)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var t=[],r=this.element.firstChild;r;)t.push(r.getBoundingClientRect()),r=r.nextSibling;return t}},{key:"filteredRanges",value:function(){var t=Array.from(this.range.getClientRects());return t.filter(function(r){for(var n=0;n<t.length;n++){if(t[n]===r)return!0;var s=gg(t[n],r);if(s)return!1}return!0})}}]),i}(),cg=Ha=mi.Highlight=function(i){bf(e,i);function e(t,r,n,s){fs(this,e);var a=yf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.range=t,a.className=r,a.data=n||{},a.attributes=s||{},a}return ls(e,[{key:"bind",value:function(r,n){og(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bind",this).call(this,r,n);for(var s in this.data)this.data.hasOwnProperty(s)&&(this.element.dataset[s]=this.data[s]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&this.element.setAttribute(s,this.attributes[s]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var r=this.element.ownerDocument.createDocumentFragment(),n=this.filteredRanges(),s=this.element.getBoundingClientRect(),a=this.container.getBoundingClientRect(),o=0,u=n.length;o<u;o++){var f=n[o],l=Jr.default.createElement("rect");l.setAttribute("x",f.left-s.left+a.left),l.setAttribute("y",f.top-s.top+a.top),l.setAttribute("height",f.height),l.setAttribute("width",f.width),r.appendChild(l)}this.element.appendChild(r)}}]),e}(hg);vf=mi.Underline=function(i){bf(e,i);function e(t,r,n,s){return fs(this,e),yf(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,n,s))}return ls(e,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var r=this.element.ownerDocument.createDocumentFragment(),n=this.filteredRanges(),s=this.element.getBoundingClientRect(),a=this.container.getBoundingClientRect(),o=0,u=n.length;o<u;o++){var f=n[o],l=Jr.default.createElement("rect");l.setAttribute("x",f.left-s.left+a.left),l.setAttribute("y",f.top-s.top+a.top),l.setAttribute("height",f.height),l.setAttribute("width",f.width),l.setAttribute("fill","none");var c=Jr.default.createElement("line");c.setAttribute("x1",f.left-s.left+a.left),c.setAttribute("x2",f.left-s.left+a.left+f.width),c.setAttribute("y1",f.top-s.top+a.top+f.height-1),c.setAttribute("y2",f.top-s.top+a.top+f.height-1),c.setAttribute("stroke-width",1),c.setAttribute("stroke","black"),c.setAttribute("stroke-linecap","square"),r.appendChild(l),r.appendChild(c)}this.element.appendChild(r)}}]),e}(cg);function dg(i,e){var t=e.getBoundingClientRect(),r=i.getBoundingClientRect();return{top:r.top-t.top,left:r.left-t.left,height:i.scrollHeight,width:i.scrollWidth}}function pg(i,e){i.style.setProperty("top",e.top+"px","important"),i.style.setProperty("left",e.left+"px","important"),i.style.setProperty("height",e.height+"px","important"),i.style.setProperty("width",e.width+"px","important")}function gg(i,e){return e.right<=i.right&&e.left>=i.left&&e.top>=i.top&&e.bottom<=i.bottom}class _f{constructor(e,t){this.settings=At({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},t||{}),this.id="epubjs-view-"+as(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Ue,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var t=document.createElement("div");return t.classList.add("epub-view"),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="relative",t.style.display="block",e&&e=="horizontal"?t.style.flex="none":t.style.flex="initial",t}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=Dn(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,t){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then((function(r){return this.load(r)}).bind(this)).then((function(){let r=this.contents.writingMode(),n;return this.settings.flow==="scrolled"?n=r.indexOf("vertical")===0?"horizontal":"vertical":n=r.indexOf("vertical")===0?"vertical":"horizontal",r.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(n),this.emit(pe.VIEWS.AXIS,n),this.setWritingMode(r),this.emit(pe.VIEWS.WRITING_MODE,r),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((s,a)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),s()})}).bind(this),(function(r){return this.emit(pe.VIEWS.LOAD_ERROR,r),new Promise((n,s)=>{s(r)})}).bind(this)).then((function(){this.emit(pe.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,t){var r=e||this.settings.width,n=t||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",r,n):this.settings.axis==="horizontal"?this.lock("height",r,n):this.lock("width",r,n),this.settings.width=r,this.settings.height=n}lock(e,t,r){var n=Mn(this.element),s;this.iframe?s=Mn(this.iframe):s={width:0,height:0},e=="width"&&ct(t)&&(this.lockedWidth=t-n.width-s.width),e=="height"&&ct(r)&&(this.lockedHeight=r-n.height-s.height),e==="both"&&ct(t)&&ct(r)&&(this.lockedWidth=t-n.width-s.width,this.lockedHeight=r-n.height-s.height),this.displayed&&this.iframe&&this.expand()}expand(e){var t=this.lockedWidth,r=this.lockedHeight,n;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(t=this.layout.columnWidth,r=this.layout.height):this.settings.axis==="horizontal"?(t=this.contents.textWidth(),t%this.layout.pageWidth>0&&(t=Math.ceil(t/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(n=t/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&n%2>0&&(t+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(r=this.contents.textHeight(),this.settings.flow==="paginated"&&r%this.layout.height>0&&(r=Math.ceil(r/this.layout.height)*this.layout.height)),(this._needsReframe||t!=this._width||r!=this._height)&&this.reframe(t,r),this._expanding=!1)}reframe(e,t){var r;ct(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),ct(t)&&(this.element.style.height=t+"px",this.iframe.style.height=t+"px",this._height=t);let n=this.prevBounds?e-this.prevBounds.width:e,s=this.prevBounds?t-this.prevBounds.height:t;r={width:e,height:t,widthDelta:n,heightDelta:s},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let a;for(let o in this.marks)this.marks.hasOwnProperty(o)&&(a=this.marks[o],this.placeMark(a.element,a.range))}),this.onResize(this,r),this.emit(pe.VIEWS.RESIZED,r),this.prevBounds=r,this.elementBounds=Dn(this.element)}load(e){var t=new Me,r=t.promise;if(!this.iframe)return t.reject(new Error("No Iframe Available")),r;if(this.iframe.onload=(function(s){this.onLoad(s,t)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=jn(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return t.reject(new Error("No Document Available")),r;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var n=this;MSApp.execUnsafeLocalFunction(function(){n.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return r}onLoad(e,t){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new qa(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var r=this.document.querySelector("link[rel='canonical']");r?r.setAttribute("href",this.section.canonical):(r=this.document.createElement("link"),r.setAttribute("rel","canonical"),r.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(r)),this.contents.on(pe.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(pe.CONTENTS.RESIZE,n=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),t.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var t=new Me;return this.displayed?t.resolve(this):this.render(e).then((function(){this.emit(pe.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,t.resolve(this)}).bind(this),function(r){t.reject(r,this)}),t.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(pe.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(pe.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var t=this.contents.locationOf(e,this.settings.ignoreClass);return{left:t.left,top:t.top}}onDisplayed(e){}onResize(e,t){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=Dn(this.element)),this.elementBounds}highlight(e,t={},r,n="epubjs-hl",s={}){if(!this.contents)return;const a=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},s);let o=this.contents.range(e),u=()=>{this.emit(pe.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new $n(this.iframe,this.element));let f=new Ha(o,n,t,a),l=this.pane.addMark(f);return this.highlights[e]={mark:l,element:l.element,listeners:[u,r]},l.element.setAttribute("ref",n),l.element.addEventListener("click",u),l.element.addEventListener("touchstart",u),r&&(l.element.addEventListener("click",r),l.element.addEventListener("touchstart",r)),l}underline(e,t={},r,n="epubjs-ul",s={}){if(!this.contents)return;const a=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},s);let o=this.contents.range(e),u=()=>{this.emit(pe.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new $n(this.iframe,this.element));let f=new vf(o,n,t,a),l=this.pane.addMark(f);return this.underlines[e]={mark:l,element:l.element,listeners:[u,r]},l.element.setAttribute("ref",n),l.element.addEventListener("click",u),l.element.addEventListener("touchstart",u),r&&(l.element.addEventListener("click",r),l.element.addEventListener("touchstart",r)),l}mark(e,t={},r){if(!this.contents)return;if(e in this.marks)return this.marks[e];let n=this.contents.range(e);if(!n)return;let s=n.commonAncestorContainer,a=s.nodeType===1?s:s.parentNode,o=f=>{this.emit(pe.VIEWS.MARK_CLICKED,e,t)};n.collapsed&&s.nodeType===1?(n=new Range,n.selectNodeContents(s)):n.collapsed&&(n=new Range,n.selectNodeContents(a));let u=this.document.createElement("a");return u.setAttribute("ref","epubjs-mk"),u.style.position="absolute",u.dataset.epubcfi=e,t&&Object.keys(t).forEach(f=>{u.dataset[f]=t[f]}),r&&(u.addEventListener("click",r),u.addEventListener("touchstart",r)),u.addEventListener("click",o),u.addEventListener("touchstart",o),this.placeMark(u,n),this.element.appendChild(u),this.marks[e]={element:u,range:n,listeners:[o,r]},a}placeMark(e,t){let r,n,s;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let o=t.getBoundingClientRect();r=o.top,n=o.right}else{let o=t.getClientRects(),u;for(var a=0;a!=o.length;a++)u=o[a],(!s||u.left<s)&&(s=u.left,n=Math.ceil(s/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,r=u.top)}e.style.top=`${r}px`,e.style.left=`${n}px`}unhighlight(e){let t;e in this.highlights&&(t=this.highlights[e],this.pane.removeMark(t.mark),t.listeners.forEach(r=>{r&&(t.element.removeEventListener("click",r),t.element.removeEventListener("touchstart",r))}),delete this.highlights[e])}ununderline(e){let t;e in this.underlines&&(t=this.underlines[e],this.pane.removeMark(t.mark),t.listeners.forEach(r=>{r&&(t.element.removeEventListener("click",r),t.element.removeEventListener("touchstart",r))}),delete this.underlines[e])}unmark(e){let t;e in this.marks&&(t=this.marks[e],this.element.removeChild(t.element),t.listeners.forEach(r=>{r&&(t.element.removeEventListener("click",r),t.element.removeEventListener("touchstart",r))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&tf(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}pi(_f.prototype);function vg(){var i="reverse",e=mg();return document.body.appendChild(e),e.scrollLeft>0?i="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(i="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(i="negative")),document.body.removeChild(e),i}function mg(){var i=document.createElement("div");i.dir="rtl",i.style.position="fixed",i.style.width="1px",i.style.height="1px",i.style.top="0px",i.style.left="0px",i.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var t=document.createElement("span");t.style.width="1px",t.style.display="inline-block";var r=document.createElement("span");return r.style.width="1px",r.style.display="inline-block",e.appendChild(t),e.appendChild(r),i.appendChild(e),i}function yg(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var $a=yg,bg=typeof Vt=="object"&&Vt&&Vt.Object===Object&&Vt,_g=bg,wg=_g,Eg=typeof self=="object"&&self&&self.Object===Object&&self,xg=wg||Eg||Function("return this")(),wf=xg,Ag=wf,Dg=function(){return Ag.Date.now()},Cg=Dg,Sg=/\s/;function Tg(i){for(var e=i.length;e--&&Sg.test(i.charAt(e)););return e}var kg=Tg,Ng=kg,Rg=/^\s+/;function Ig(i){return i&&i.slice(0,Ng(i)+1).replace(Rg,"")}var Og=Ig,Bg=wf,Lg=Bg.Symbol,Ef=Lg,iu=Ef,xf=Object.prototype,Fg=xf.hasOwnProperty,Pg=xf.toString,Rr=iu?iu.toStringTag:void 0;function zg(i){var e=Fg.call(i,Rr),t=i[Rr];try{i[Rr]=void 0;var r=!0}catch{}var n=Pg.call(i);return r&&(e?i[Rr]=t:delete i[Rr]),n}var Mg=zg,Ug=Object.prototype,jg=Ug.toString;function Wg(i){return jg.call(i)}var qg=Wg,ru=Ef,Hg=Mg,$g=qg,Vg="[object Null]",Gg="[object Undefined]",nu=ru?ru.toStringTag:void 0;function Zg(i){return i==null?i===void 0?Gg:Vg:nu&&nu in Object(i)?Hg(i):$g(i)}var Yg=Zg;function Xg(i){return i!=null&&typeof i=="object"}var Kg=Xg,Jg=Yg,Qg=Kg,ev="[object Symbol]";function tv(i){return typeof i=="symbol"||Qg(i)&&Jg(i)==ev}var iv=tv,rv=Og,su=$a,nv=iv,au=NaN,sv=/^[-+]0x[0-9a-f]+$/i,av=/^0b[01]+$/i,ov=/^0o[0-7]+$/i,uv=parseInt;function lv(i){if(typeof i=="number")return i;if(nv(i))return au;if(su(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=su(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=rv(i);var t=av.test(i);return t||ov.test(i)?uv(i.slice(2),t?2:8):sv.test(i)?au:+i}var fv=lv,hv=$a,Ps=Cg,ou=fv,cv="Expected a function",dv=Math.max,pv=Math.min;function gv(i,e,t){var r,n,s,a,o,u,f=0,l=!1,c=!1,p=!0;if(typeof i!="function")throw new TypeError(cv);e=ou(e)||0,hv(t)&&(l=!!t.leading,c="maxWait"in t,s=c?dv(ou(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function v(D){var N=r,B=n;return r=n=void 0,f=D,a=i.apply(B,N),a}function C(D){return f=D,o=setTimeout(g,e),l?v(D):a}function T(D){var N=D-u,B=D-f,U=e-N;return c?pv(U,s-B):U}function d(D){var N=D-u,B=D-f;return u===void 0||N>=e||N<0||c&&B>=s}function g(){var D=Ps();if(d(D))return y(D);o=setTimeout(g,T(D))}function y(D){return o=void 0,p&&r?v(D):(r=n=void 0,a)}function x(){o!==void 0&&clearTimeout(o),f=0,r=u=n=o=void 0}function k(){return o===void 0?a:y(Ps())}function _(){var D=Ps(),N=d(D);if(r=arguments,n=this,u=D,N){if(o===void 0)return C(u);if(c)return clearTimeout(o),o=setTimeout(g,e),v(u)}return o===void 0&&(o=setTimeout(g,e)),a}return _.cancel=x,_.flush=k,_}var Af=gv;const vv=Er(Af);var mv=Af,yv=$a,bv="Expected a function";function _v(i,e,t){var r=!0,n=!0;if(typeof i!="function")throw new TypeError(bv);return yv(t)&&(r="leading"in t?!!t.leading:r,n="trailing"in t?!!t.trailing:n),mv(i,e,{leading:r,maxWait:e,trailing:n})}var wv=_v;const Ev=Er(wv);class xv{constructor(e){this.settings=e||{},this.id="epubjs-container-"+as(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let t=e.height,r=e.width,n=e.overflow||!1,s=e.axis||"vertical",a=e.direction;At(this.settings,e),e.height&&ct(e.height)&&(t=e.height+"px"),e.width&&ct(e.width)&&(r=e.width+"px");let o=document.createElement("div");return o.id=this.id,o.classList.add("epub-container"),o.style.wordSpacing="0",o.style.lineHeight="0",o.style.verticalAlign="top",o.style.position="relative",s==="horizontal"&&(o.style.display="flex",o.style.flexDirection="row",o.style.flexWrap="nowrap"),r&&(o.style.width=r),t&&(o.style.height=t),n&&(n==="scroll"&&s==="vertical"?(o.style["overflow-y"]=n,o.style["overflow-x"]="hidden"):n==="scroll"&&s==="horizontal"?(o.style["overflow-y"]="hidden",o.style["overflow-x"]=n):o.style.overflow=n),a&&(o.dir=a,o.style.direction=a),a&&this.settings.fullsize&&(document.body.style.direction=a),o}wrap(e){var t=document.createElement("div");return t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="0",t.style.height="0",t.appendChild(e),t}getElement(e){var t;if(Xl(e)?t=e:typeof e=="string"&&(t=document.getElementById(e)),!t)throw new Error("Not an Element");return t}attachTo(e){var t=this.getElement(e),r;if(t)return this.settings.hidden?r=this.wrapper:r=this.container,t.appendChild(r),this.element=t,t}getContainer(){return this.container}onResize(e){(!ct(this.settings.width)||!ct(this.settings.height))&&(this.resizeFunc=Ev(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,t){var r;let n=e||this.settings.width,s=t||this.settings.height;e===null?(r=this.element.getBoundingClientRect(),r.width&&(e=Math.floor(r.width),this.container.style.width=e+"px")):ct(e)?this.container.style.width=e+"px":this.container.style.width=e,t===null?(r=r||this.element.getBoundingClientRect(),r.height&&(t=r.height,this.container.style.height=t+"px")):ct(t)?this.container.style.height=t+"px":this.container.style.height=t,ct(e)||(e=this.container.clientWidth),ct(t)||(t=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let a=Un(),o=window.getComputedStyle(document.body),u={left:parseFloat(o["padding-left"])||0,right:parseFloat(o["padding-right"])||0,top:parseFloat(o["padding-top"])||0,bottom:parseFloat(o["padding-bottom"])||0};return n||(e=a.width-u.left-u.right),(this.settings.fullsize&&!s||!s)&&(t=a.height-u.top-u.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:t-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?Un():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,t){var r="#"+this.id+" ",n="";this.sheet||(this.sheet=this.getSheet()),t.forEach(function(s){for(var a in s)s.hasOwnProperty(a)&&(n+=a+":"+s[a]+";")}),this.sheet.insertRule(r+e+" {"+n+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class Av{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,t){return this._views.splice(t,0,e),this.container&&(t<this.container.children.length?this.container.insertBefore(e.element,this.container.children[t]):this.container.appendChild(e.element)),this.length++,e}remove(e){var t=this._views.indexOf(e);t>-1&&this._views.splice(t,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,t=this.length;if(this.length){for(var r=0;r<t;r++)e=this._views[r],this.destroy(e);this._views=[],this.length=0}}find(e){for(var t,r=this.length,n=0;n<r;n++)if(t=this._views[n],t.displayed&&t.section.index==e.index)return t}displayed(){for(var e=[],t,r=this.length,n=0;n<r;n++)t=this._views[n],t.displayed&&e.push(t);return e}show(){for(var e,t=this.length,r=0;r<t;r++)e=this._views[r],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,t=this.length,r=0;r<t;r++)e=this._views[r],e.displayed&&e.hide();this.hidden=!0}}class Vn{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new Wa(this),this.settings=At(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),At(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,t){let r=e.tagName;typeof this.settings.fullsize>"u"&&r&&(r.toLowerCase()=="body"||r.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=t,this.settings.rtlScrollType=vg(),this.stage=new xv({width:t.width,height:t.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new Av(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",(function(t){this.destroy()}).bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:t}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(pe.MANAGERS.ORIENTATION_CHANGE,t)}).bind(this),500)}onResized(e){this.resize()}resize(e,t,r){let n=this.stage.size(e,t);if(this.winBounds=Un(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===n.width&&this._stageSize.height===n.height||(this._stageSize=n,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(pe.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},r))}createView(e,t){return new this.View(e,At(this.viewSettings,{forceRight:t}))}handleNextPrePaginated(e,t,r){let n;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||t.index===0)return;if(n=t.next(),n&&!n.properties.includes("page-spread-left"))return r.call(this,n)}}display(e,t){var r=new Me,n=r.promise;(t===e.href||ct(t))&&(t=void 0);var s=this.views.find(e);if(s&&e&&this.layout.name!=="pre-paginated"){let o=s.offset();if(this.settings.direction==="ltr")this.scrollTo(o.left,o.top,!0);else{let u=s.width();this.scrollTo(o.left+u,o.top,!0)}if(t){let u=s.locationOf(t),f=s.width();this.moveTo(u,f)}return r.resolve(),n}this.clear();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(a=!0),this.add(e,a).then((function(o){if(t){let u=o.locationOf(t),f=o.width();this.moveTo(u,f)}}).bind(this),o=>{r.reject(o)}).then((function(){return this.handleNextPrePaginated(a,e,this.add)}).bind(this)).then((function(){this.views.show(),r.resolve()}).bind(this)),n}afterDisplayed(e){this.emit(pe.MANAGERS.ADDED,e)}afterResized(e){this.emit(pe.MANAGERS.RESIZE,e.section)}moveTo(e,t){var r=0,n=0;this.isPaginated?(r=Math.floor(e.left/this.layout.delta)*this.layout.delta,r+this.layout.delta>this.container.scrollWidth&&(r=this.container.scrollWidth-this.layout.delta),n=Math.floor(e.top/this.layout.delta)*this.layout.delta,n+this.layout.delta>this.container.scrollHeight&&(n=this.container.scrollHeight-this.layout.delta)):n=e.top,this.settings.direction==="rtl"&&(r=r+this.layout.delta,r=r-t),this.scrollTo(r,n,!0)}add(e,t){var r=this.createView(e,t);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(pe.VIEWS.AXIS,n=>{this.updateAxis(n)}),r.on(pe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),r.display(this.request)}append(e,t){var r=this.createView(e,t);return this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(pe.VIEWS.AXIS,n=>{this.updateAxis(n)}),r.on(pe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),r.display(this.request)}prepend(e,t){var r=this.createView(e,t);return r.on(pe.VIEWS.RESIZED,n=>{this.counter(n)}),this.views.prepend(r),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.on(pe.VIEWS.AXIS,n=>{this.updateAxis(n)}),r.on(pe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),r.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,t;let r=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,t<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft,t>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(t=this.container.scrollLeft+this.layout.delta*-1,t>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(n=!0),this.append(e,n).then((function(){return this.handleNextPrePaginated(n,e,this.append)}).bind(this),s=>s).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var e,t;let r=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!r||r==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft,t>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&r==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft+this.container.offsetWidth,t<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(t=this.container.scrollLeft,t<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(n=!0),this.prepend(e,n).then((function(){var s;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(s=e.prev(),s))return this.prepend(s)}).bind(this),s=>s).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),r=t.height<window.innerHeight?t.height:window.innerHeight,n=t.width<window.innerWidth?t.width:window.innerWidth,s=this.settings.axis==="vertical";this.settings.direction;let a=0,o=0;return this.settings.fullsize&&(a=s?window.scrollY:window.scrollX),e.map(f=>{let{index:l,href:c}=f.section,p=f.position(),v=f.width(),C=f.height(),T,d,g,y;s?(T=a+t.top-p.top+o,d=T+r-o,y=this.layout.count(C,r).pages,g=r):(T=a+t.left-p.left+o,d=T+n-o,y=this.layout.count(v,n).pages,g=n);let x=Math.ceil(T/g),k=[],_=Math.ceil(d/g);if(this.settings.direction==="rtl"&&!s){let B=x;x=y-_,_=y-B}k=[];for(var D=x;D<=_;D++){let B=D+1;k.push(B)}let N=this.mapping.page(f.contents,f.section.cfiBase,T,d);return{index:l,href:c,pages:k,totalPages:y,mapping:N}})}paginatedLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),r=0,n=0;return this.settings.fullsize&&(r=window.scrollX),e.map(a=>{let{index:o,href:u}=a.section,f,l=a.position(),c=a.width(),p,v,C;this.settings.direction==="rtl"?(f=t.right-r,C=Math.min(Math.abs(f-l.left),this.layout.width)-n,v=l.width-(l.right-f)-n,p=v-C):(f=t.left+r,C=Math.min(l.right-f,this.layout.width)-n,p=f-l.left+n,v=p+C),n+=C;let T=this.mapping.page(a.contents,a.section.cfiBase,p,v),d=this.layout.count(c).pages,g=Math.floor(p/this.layout.pageWidth),y=[],x=Math.floor(v/this.layout.pageWidth);if(g<0&&(g=0,x=x+1),this.settings.direction==="rtl"){let _=g;g=d-x,x=d-_}for(var k=g+1;k<=x;k++){let _=k;y.push(_)}return{index:o,href:u,pages:y,totalPages:d,mapping:T}})}isVisible(e,t,r,n){var s=e.position(),a=n||this.bounds();return this.settings.axis==="horizontal"&&s.right>a.left-t&&s.left<a.right+r?!0:this.settings.axis==="vertical"&&s.bottom>a.top-t&&s.top<a.bottom+r}visible(){for(var e=this.bounds(),t=this.views.displayed(),r=t.length,n=[],s,a,o=0;o<r;o++)a=t[o],s=this.isVisible(a,0,0,e),s===!0&&n.push(a);return n}scrollBy(e,t,r){let n=this.settings.direction==="rtl"?-1:1;r&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*n,t*n):(e&&(this.container.scrollLeft+=e*n),t&&(this.container.scrollTop+=t)),this.scrolled=!0}scrollTo(e,t,r){r&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,t):(this.container.scrollLeft=e,this.container.scrollTop=t),this.scrolled=!0}onScroll(){let e,t;this.settings.fullsize?(e=window.scrollY,t=window.scrollX):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:(this.emit(pe.MANAGERS.SCROLL,{top:e,left:t}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(pe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new Hn(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(t){t&&t.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,t){!t&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new Hn(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,t="auto"){let r=e==="paginated"||e==="auto";this.isPaginated=r,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=r?"hidden":t,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(t){const r=t&&t.contents;r&&e.push(r)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}pi(Vn.prototype);const Dv=Math.PI/2,Cv={easeOutSine:function(i){return Math.sin(i*Dv)},easeInOutSine:function(i){return-.5*(Math.cos(Math.PI*i)-1)},easeInOutQuint:function(i){return(i/=.5)<1?.5*Math.pow(i,5):.5*(Math.pow(i-2,5)+2)},easeInCubic:function(i){return Math.pow(i,3)}};class na{constructor(e,t){this.settings=At({duration:80,minVelocity:.2,minDistance:10,easing:Cv.easeInCubic},t||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(pe.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(pe.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let t=e.contents;["touchstart","touchmove","touchend"].forEach(r=>{t.on(r,n=>this.triggerViewEvent(n,t))})}triggerViewEvent(e,t){this.emit(e.type,e,t)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:t,screenY:r}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=t,this.startTouchY=r,this.startTime=this.now()),this.endTouchX=t,this.endTouchY=r,this.endTime=this.now()}onTouchMove(e){let{screenX:t,screenY:r}=e.touches[0],n=Math.abs(r-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&n<10&&(this.element.scrollLeft-=t-this.endTouchX),this.endTouchX=t,this.endTouchY=r,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let t=this.wasSwiped();t!==0?this.snap(t):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,t=this.endTouchX-this.startTouchX,r=Math.abs(t),n=this.endTime-this.startTime,s=t/n,a=this.settings.minVelocity;if(r<=this.settings.minDistance||r>=e)return 0;if(s>a)return-1;if(s<-a)return 1}needsSnap(){let e=this.scrollLeft,t=this.layout.pageWidth*this.layout.divisor;return e%t!==0}snap(e=0){let t=this.scrollLeft,r=this.layout.pageWidth*this.layout.divisor,n=Math.round(t/r)*r;return e&&(n+=e*r),this.smoothScrollTo(n)}smoothScrollTo(e){const t=new Me,r=this.scrollLeft,n=this.now(),s=this.settings.duration,a=this.settings.easing;this.snapping=!0;function o(){const u=this.now(),f=Math.min(1,(u-n)/s);if(a(f),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,t.resolve();return}f<1?(window.requestAnimationFrame(o.bind(this)),this.scrollTo(r+(e-r)*f,0)):(this.scrollTo(e,0),this.snapping=!1,t.resolve())}return o.call(this),t.promise}scrollTo(e=0,t=0){this.fullsize?window.scroll(e,t):(this.scroller.scrollLeft=e,this.scroller.scrollTop=t)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}pi(na.prototype);class Sv extends Vn{constructor(e){super(e),this.name="continuous",this.settings=At(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),At(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,t){return Vn.prototype.display.call(this,e,t).then((function(){return this.fill()}).bind(this))}fill(e){var t=e||new Me;return this.q.enqueue(()=>this.check()).then(r=>{r?this.fill(t):t.resolve()}),t.promise}moveTo(e){var t=0,r=0;this.isPaginated?(t=Math.floor(e.left/this.layout.delta)*this.layout.delta,t+this.settings.offsetDelta):(r=e.top,e.top+this.settings.offsetDelta),(t>0||r>0)&&this.scrollBy(t,r,!0)}afterResized(e){this.emit(pe.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var t=this.createView(e);return this.views.append(t),t.on(pe.VIEWS.RESIZED,r=>{t.expanded=!0}),t.on(pe.VIEWS.AXIS,r=>{this.updateAxis(r)}),t.on(pe.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.display(this.request)}append(e){var t=this.createView(e);return t.on(pe.VIEWS.RESIZED,r=>{t.expanded=!0}),t.on(pe.VIEWS.AXIS,r=>{this.updateAxis(r)}),t.on(pe.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.append(t),t.onDisplayed=this.afterDisplayed.bind(this),t}prepend(e){var t=this.createView(e);return t.on(pe.VIEWS.RESIZED,r=>{this.counter(r),t.expanded=!0}),t.on(pe.VIEWS.AXIS,r=>{this.updateAxis(r)}),t.on(pe.VIEWS.WRITING_MODE,r=>{this.updateWritingMode(r)}),this.views.prepend(t),t.onDisplayed=this.afterDisplayed.bind(this),t}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var t=this.bounds(),r=this.views.all(),n=r.length,s=typeof e<"u"?e:this.settings.offset||0,a,o,u=new Me,f=[],l=0;l<n;l++)if(o=r[l],a=this.isVisible(o,s,s,t),a===!0)if(o.displayed)o.show();else{let c=o.display(this.request).then(function(p){p.show()},p=>{o.hide()});f.push(c)}else this.q.enqueue(o.destroy.bind(o)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return f.length?Promise.all(f).catch(c=>{u.reject(c)}):(u.resolve(),u.promise)}check(e,t){var r=new Me,n=[],s=this.settings.axis==="horizontal",a=this.settings.offset||0;e&&s&&(a=e),t&&!s&&(a=t);var o=this._bounds;let u=s?this.scrollLeft:this.scrollTop,f=s?Math.floor(o.width):o.height,l=s?this.container.scrollWidth:this.container.scrollHeight,c=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",p=this.settings.rtlScrollType,v=this.settings.direction==="rtl";this.settings.fullsize?(s&&v&&p==="negative"||!s&&v&&p==="default")&&(u=u*-1):(v&&p==="default"&&c==="horizontal"&&(u=l-f-u),v&&p==="negative"&&c==="horizontal"&&(u=u*-1));let C=()=>{let x=this.views.first(),k=x&&x.section.prev();k&&n.push(this.prepend(k))},T=()=>{let x=this.views.last(),k=x&&x.section.next();k&&n.push(this.append(k))},d=u+f+a,g=u-a;d>=l&&T(),g<0&&C();let y=n.map(x=>x.display(this.request));return n.length?Promise.all(y).then(()=>this.check()).then(()=>this.update(a),x=>x):(this.q.enqueue((function(){this.update()}).bind(this)),r.resolve(!1),r.promise)}trim(){for(var e=new Me,t=this.views.displayed(),r=t[0],n=t[t.length-1],s=this.views.indexOf(r),a=this.views.indexOf(n),o=this.views.slice(0,s),u=this.views.slice(a+1),f=0;f<o.length-1;f++)this.erase(o[f],o);for(var l=1;l<u.length;l++)this.erase(u[l]);return e.resolve(),e.promise}erase(e,t){var r,n;this.settings.fullsize?(r=window.scrollY,n=window.scrollX):(r=this.container.scrollTop,n=this.container.scrollLeft);var s=e.bounds();this.views.remove(e),t&&(this.settings.axis==="vertical"?this.scrollTo(0,r-s.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(n+Math.floor(s.width),0,!0):this.scrollTo(n,0,!0):this.scrollTo(n-Math.floor(s.width),0,!0))}addEventListeners(e){window.addEventListener("unload",(function(t){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new na(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=Ma;let t=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*t,this.scrollLeft=window.scrollX*t):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=vv(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,t,r=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*r,t=window.scrollX*r):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(t-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=t,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(pe.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(pe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new na(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class Va{constructor(e,t){this.settings=At(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),At(this.settings,t),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new ti(this),this.hooks.serialize=new ti(this),this.hooks.content=new ti(this),this.hooks.unloaded=new ti(this),this.hooks.layout=new ti(this),this.hooks.render=new ti(this),this.hooks.show=new ti(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new ig(this),this.annotations=new sg(this),this.epubcfi=new Ue,this.q=new Wa(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new Me,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var t;return typeof e=="string"&&e==="default"?t=Vn:typeof e=="string"&&e==="continuous"?t=Sv:t=e,t}requireView(e){var t;return typeof e=="string"&&e==="iframe"?t=_f:t=e,t}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(pe.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(pe.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(pe.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(pe.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(pe.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(pe.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue((function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(pe.RENDITION.ATTACHED)}).bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var t=new Me,r=t.promise,n;return this.displaying=t,this.book.locations.length()&&Kl(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),n=this.book.spine.get(e),n?(this.manager.display(n,e).then(()=>{t.resolve(n),this.displaying=void 0,this.emit(pe.RENDITION.DISPLAYED,n),this.reportLocation()},s=>{this.emit(pe.RENDITION.DISPLAY_ERROR,s)}),r):(t.reject(new Error("No Section Found")),r)}}afterDisplayed(e){e.on(pe.VIEWS.MARK_CLICKED,(t,r)=>this.triggerMarkEvent(t,r,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(pe.RENDITION.RENDERED,e.section,e)}):this.emit(pe.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(pe.RENDITION.REMOVED,e.section,e)})}onResized(e,t){this.emit(pe.RENDITION.RESIZED,{width:e.width,height:e.height},t),this.location&&this.location.start&&this.display(t||this.location.start.cfi)}onOrientationChange(e){this.emit(pe.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,t,r){e&&(this.settings.width=e),t&&(this.settings.height=t),this.manager.resize(e,t,r)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var t,r=this.settings.layout||e.layout||"reflowable",n=this.settings.spread||e.spread||"auto",s=this.settings.orientation||e.orientation||"auto",a=this.settings.flow||e.flow||"auto",o=e.viewport||"",u=this.settings.minSpreadWidth||e.minSpreadWidth||800,f=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),t={layout:r,spread:n,orientation:s,flow:a,viewport:o,minSpreadWidth:u,direction:f},t}flow(e){var t=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(t="scrolled"),(e==="auto"||e==="paginated")&&(t="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(t),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(t),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new ff(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(pe.LAYOUT.UPDATED,(t,r)=>{this.emit(pe.RENDITION.LAYOUT,t,r)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,t){this.settings.spread=e,t&&(this.settings.minSpreadWidth=t),this._layout&&this._layout.spread(e,t),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var r=this.manager.currentLocation();if(r&&r.then&&typeof r.then=="function")r.then((function(n){let s=this.located(n);!s||!s.start||!s.end||(this.location=s,this.emit(pe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(pe.RENDITION.RELOCATED,this.location))}).bind(this));else if(r){let n=this.located(r);if(!n||!n.start||!n.end)return;this.location=n,this.emit(pe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(pe.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then((function(t){return this.located(t)}).bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let t=e[0],r=e[e.length-1],n={start:{index:t.index,href:t.href,cfi:t.mapping.start,displayed:{page:t.pages[0]||1,total:t.totalPages}},end:{index:r.index,href:r.href,cfi:r.mapping.end,displayed:{page:r.pages[r.pages.length-1]||1,total:r.totalPages}}},s=this.book.locations.locationFromCfi(t.mapping.start),a=this.book.locations.locationFromCfi(r.mapping.end);s!=null&&(n.start.location=s,n.start.percentage=this.book.locations.percentageFromLocation(s)),a!=null&&(n.end.location=a,n.end.percentage=this.book.locations.percentageFromLocation(a));let o=this.book.pageList.pageFromCfi(t.mapping.start),u=this.book.pageList.pageFromCfi(r.mapping.end);return o!=-1&&(n.start.page=o),u!=-1&&(n.end.page=u),r.index===this.book.spine.last().index&&n.end.displayed.page>=n.end.displayed.total&&(n.atEnd=!0),t.index===this.book.spine.first().index&&n.start.displayed.page===1&&(n.atStart=!0),n}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){Sn.forEach(t=>{e.on(t,r=>this.triggerViewEvent(r,e))}),e.on(pe.CONTENTS.SELECTED,t=>this.triggerSelectedEvent(t,e))}triggerViewEvent(e,t){this.emit(e.type,e,t)}triggerSelectedEvent(e,t){this.emit(pe.RENDITION.SELECTED,e,t)}triggerMarkEvent(e,t,r){this.emit(pe.RENDITION.MARK_CLICKED,e,t,r)}getRange(e,t){var r=new Ue(e),n=this.manager.visible().filter(function(s){if(r.spinePos===s.index)return!0});if(n.length)return n[0].contents.range(r,t)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(s){s()});let t=e.window.getComputedStyle(e.content,null),r=(e.content.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)))*.95,n=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":r+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":r+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(s,a){setTimeout(function(){s()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(pe.CONTENTS.LINK_CLICKED,t=>{let r=this.book.path.relative(t);this.display(r)})}injectStylesheet(e,t){let r=e.createElement("link");r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(r)}injectScript(e,t){let r=e.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",this.settings.script),r.textContent=" ",e.getElementsByTagName("head")[0].appendChild(r)}injectIdentifier(e,t){let r=this.book.packaging.metadata.identifier,n=e.createElement("meta");n.setAttribute("name","dc.relation.ispartof"),r&&n.setAttribute("content",r),e.getElementsByTagName("head")[0].appendChild(n)}}pi(Va.prototype);var Df={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(r,n,s){function a(f,l){if(!n[f]){if(!r[f]){var c=typeof Ri=="function"&&Ri;if(!l&&c)return c(f,!0);if(o)return o(f,!0);var p=new Error("Cannot find module '"+f+"'");throw p.code="MODULE_NOT_FOUND",p}var v=n[f]={exports:{}};r[f][0].call(v.exports,function(C){var T=r[f][1][C];return a(T||C)},v,v.exports,t,r,n,s)}return n[f].exports}for(var o=typeof Ri=="function"&&Ri,u=0;u<s.length;u++)a(s[u]);return a}({1:[function(t,r,n){var s=t("./utils"),a=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(u){for(var f=[],l,c,p,v,C,T,d,g=0,y=u.length,x=y,k=s.getTypeOf(u)!=="string";g<u.length;)x=y-g,k?(l=u[g++],c=g<y?u[g++]:0,p=g<y?u[g++]:0):(l=u.charCodeAt(g++),c=g<y?u.charCodeAt(g++):0,p=g<y?u.charCodeAt(g++):0),v=l>>2,C=(l&3)<<4|c>>4,T=x>1?(c&15)<<2|p>>6:64,d=x>2?p&63:64,f.push(o.charAt(v)+o.charAt(C)+o.charAt(T)+o.charAt(d));return f.join("")},n.decode=function(u){var f,l,c,p,v,C,T,d=0,g=0,y="data:";if(u.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");u=u.replace(/[^A-Za-z0-9+/=]/g,"");var x=u.length*3/4;if(u.charAt(u.length-1)===o.charAt(64)&&x--,u.charAt(u.length-2)===o.charAt(64)&&x--,x%1!==0)throw new Error("Invalid base64 input, bad content length.");var k;for(a.uint8array?k=new Uint8Array(x|0):k=new Array(x|0);d<u.length;)p=o.indexOf(u.charAt(d++)),v=o.indexOf(u.charAt(d++)),C=o.indexOf(u.charAt(d++)),T=o.indexOf(u.charAt(d++)),f=p<<2|v>>4,l=(v&15)<<4|C>>2,c=(C&3)<<6|T,k[g++]=f,C!==64&&(k[g++]=l),T!==64&&(k[g++]=c);return k}},{"./support":30,"./utils":32}],2:[function(t,r,n){var s=t("./external"),a=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function f(l,c,p,v,C){this.compressedSize=l,this.uncompressedSize=c,this.crc32=p,this.compression=v,this.compressedContent=C}f.prototype={getContentWorker:function(){var l=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),c=this;return l.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(l,c,p){return l.pipe(new o).pipe(new u("uncompressedSize")).pipe(c.compressWorker(p)).pipe(new u("compressedSize")).withStreamInfo("compression",c)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,n){var s=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,n){var s=t("./utils");function a(){for(var l,c=[],p=0;p<256;p++){l=p;for(var v=0;v<8;v++)l=l&1?3988292384^l>>>1:l>>>1;c[p]=l}return c}var o=a();function u(l,c,p,v){var C=o,T=v+p;l=l^-1;for(var d=v;d<T;d++)l=l>>>8^C[(l^c[d])&255];return l^-1}function f(l,c,p,v){var C=o,T=v+p;l=l^-1;for(var d=v;d<T;d++)l=l>>>8^C[(l^c.charCodeAt(d))&255];return l^-1}r.exports=function(c,p){if(typeof c>"u"||!c.length)return 0;var v=s.getTypeOf(c)!=="string";return v?u(p|0,c,c.length,0):f(p|0,c,c.length,0)}},{"./utils":32}],5:[function(t,r,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,r,n){var s=null;typeof Promise<"u"?s=Promise:s=t("lie"),r.exports={Promise:s}},{lie:37}],7:[function(t,r,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),o=t("./utils"),u=t("./stream/GenericWorker"),f=s?"uint8array":"array";n.magic="\b\0";function l(c,p){u.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=p,this.meta={}}o.inherits(l,u),l.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(f,c.data),!1)},l.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(p){c.push({data:p,meta:c.meta})}},n.compressWorker=function(c){return new l("Deflate",c)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,n){var s=t("../utils"),a=t("../stream/GenericWorker"),o=t("../utf8"),u=t("../crc32"),f=t("../signature"),l=function(g,y){var x="",k;for(k=0;k<y;k++)x+=String.fromCharCode(g&255),g=g>>>8;return x},c=function(g,y){var x=g;return g||(x=y?16893:33204),(x&65535)<<16},p=function(g){return(g||0)&63},v=function(g,y,x,k,_,D){var N=g.file,B=g.compression,U=D!==o.utf8encode,M=s.transformTo("string",D(N.name)),K=s.transformTo("string",o.utf8encode(N.name)),J=N.comment,ge=s.transformTo("string",D(J)),De=s.transformTo("string",o.utf8encode(J)),Ae=K.length!==N.name.length,de=De.length!==J.length,le,se,Te="",He="",Oe="",be=N.dir,qe=N.date,Pe={crc32:0,compressedSize:0,uncompressedSize:0};(!y||x)&&(Pe.crc32=g.crc32,Pe.compressedSize=g.compressedSize,Pe.uncompressedSize=g.uncompressedSize);var vt=0;y&&(vt|=8),!U&&(Ae||de)&&(vt|=2048);var it=0,Xe=0;be&&(it|=16),_==="UNIX"?(Xe=798,it|=c(N.unixPermissions,be)):(Xe=20,it|=p(N.dosPermissions)),le=qe.getUTCHours(),le=le<<6,le=le|qe.getUTCMinutes(),le=le<<5,le=le|qe.getUTCSeconds()/2,se=qe.getUTCFullYear()-1980,se=se<<4,se=se|qe.getUTCMonth()+1,se=se<<5,se=se|qe.getUTCDate(),Ae&&(He=l(1,1)+l(u(M),4)+K,Te+="up"+l(He.length,2)+He),de&&(Oe=l(1,1)+l(u(ge),4)+De,Te+="uc"+l(Oe.length,2)+Oe);var Re="";Re+=`
\0`,Re+=l(vt,2),Re+=B.magic,Re+=l(le,2),Re+=l(se,2),Re+=l(Pe.crc32,4),Re+=l(Pe.compressedSize,4),Re+=l(Pe.uncompressedSize,4),Re+=l(M.length,2),Re+=l(Te.length,2);var ft=f.LOCAL_FILE_HEADER+Re+M+Te,Ke=f.CENTRAL_FILE_HEADER+l(Xe,2)+Re+l(ge.length,2)+"\0\0\0\0"+l(it,4)+l(k,4)+M+Te+ge;return{fileRecord:ft,dirRecord:Ke}},C=function(g,y,x,k,_){var D="",N=s.transformTo("string",_(k));return D=f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(g,2)+l(g,2)+l(y,4)+l(x,4)+l(N.length,2)+N,D},T=function(g){var y="";return y=f.DATA_DESCRIPTOR+l(g.crc32,4)+l(g.compressedSize,4)+l(g.uncompressedSize,4),y};function d(g,y,x,k){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=x,this.encodeFileName=k,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(d,a),d.prototype.push=function(g){var y=g.meta.percent||0,x=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,a.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:x?(y+100*(x-k-1))/x:100}}))},d.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var y=this.streamFiles&&!g.file.dir;if(y){var x=v(g,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(g){this.accumulate=!1;var y=this.streamFiles&&!g.file.dir,x=v(g,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),y)this.push({data:T(g),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var g=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var x=this.bytesWritten-g,k=C(this.dirRecords.length,x,g,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(g){this._sources.push(g);var y=this;return g.on("data",function(x){y.processChunk(x)}),g.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),g.on("error",function(x){y.error(x)}),this},d.prototype.resume=function(){if(!a.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},d.prototype.error=function(g){var y=this._sources;if(!a.prototype.error.call(this,g))return!1;for(var x=0;x<y.length;x++)try{y[x].error(g)}catch{}return!0},d.prototype.lock=function(){a.prototype.lock.call(this);for(var g=this._sources,y=0;y<g.length;y++)g[y].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,n){var s=t("../compressions"),a=t("./ZipFileWorker"),o=function(u,f){var l=u||f,c=s[l];if(!c)throw new Error(l+" is not a valid compression method !");return c};n.generateWorker=function(u,f,l){var c=new a(f.streamFiles,l,f.platform,f.encodeFileName),p=0;try{u.forEach(function(v,C){p++;var T=o(C.options.compression,f.compression),d=C.options.compressionOptions||f.compressionOptions||{},g=C.dir,y=C.date;C._compressWorker(T,d).withStreamInfo("file",{name:v,dir:g,date:y,comment:C.comment||"",unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions}).pipe(c)}),c.entriesCount=p}catch(v){c.error(v)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}s.prototype=t("./object"),s.prototype.loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=t("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,n){var s=t("./utils"),a=t("./external"),o=t("./utf8"),u=t("./zipEntries"),f=t("./stream/Crc32Probe"),l=t("./nodejsUtils");function c(p){return new a.Promise(function(v,C){var T=p.decompressed.getContentWorker().pipe(new f);T.on("error",function(d){C(d)}).on("end",function(){T.streamInfo.crc32!==p.decompressed.crc32?C(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(p,v){var C=this;return v=s.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(p)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,v.optimizedBinaryString,v.base64).then(function(T){var d=new u(v);return d.load(T),d}).then(function(d){var g=[a.Promise.resolve(d)],y=d.files;if(v.checkCRC32)for(var x=0;x<y.length;x++)g.push(c(y[x]));return a.Promise.all(g)}).then(function(d){for(var g=d.shift(),y=g.files,x=0;x<y.length;x++){var k=y[x],_=k.fileNameStr,D=s.resolve(k.fileNameStr);C.file(D,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:v.createFolders}),k.dir||(C.file(D).unsafeOriginalName=_)}return g.zipComment.length&&(C.comment=g.zipComment),C})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,n){var s=t("../utils"),a=t("../stream/GenericWorker");function o(u,f){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(f)}s.inherits(o,a),o.prototype._bindStream=function(u){var f=this;this._stream=u,u.pause(),u.on("data",function(l){f.push({data:l,meta:{percent:0}})}).on("error",function(l){f.isPaused?this.generatedError=l:f.error(l)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},o.prototype.pause=function(){return a.prototype.pause.call(this)?(this._stream.pause(),!0):!1},o.prototype.resume=function(){return a.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,n){var s=t("readable-stream").Readable,a=t("../utils");a.inherits(o,s);function o(u,f,l){s.call(this,f),this._helper=u;var c=this;u.on("data",function(p,v){c.push(p)||c._helper.pause(),l&&l(v)}).on("error",function(p){c.emit("error",p)}).on("end",function(){c.push(null)})}o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,r,n){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,r,n){var s=t("./utf8"),a=t("./utils"),o=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),f=t("./defaults"),l=t("./compressedObject"),c=t("./zipObject"),p=t("./generate"),v=t("./nodejsUtils"),C=t("./nodejs/NodejsStreamInputAdapter"),T=function(_,D,N){var B=a.getTypeOf(D),U,M=a.extend(N||{},f);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&M.unixPermissions&16384&&(M.dir=!0),M.dosPermissions&&M.dosPermissions&16&&(M.dir=!0),M.dir&&(_=g(_)),M.createFolders&&(U=d(_))&&y.call(this,U,!0);var K=B==="string"&&M.binary===!1&&M.base64===!1;(!N||typeof N.binary>"u")&&(M.binary=!K);var J=D instanceof l&&D.uncompressedSize===0;(J||M.dir||!D||D.length===0)&&(M.base64=!1,M.binary=!0,D="",M.compression="STORE",B="string");var ge=null;D instanceof l||D instanceof o?ge=D:v.isNode&&v.isStream(D)?ge=new C(_,D):ge=a.prepareContent(_,D,M.binary,M.optimizedBinaryString,M.base64);var De=new c(_,ge,M);this.files[_]=De},d=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var D=_.lastIndexOf("/");return D>0?_.substring(0,D):""},g=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},y=function(_,D){return D=typeof D<"u"?D:f.createFolders,_=g(_),this.files[_]||T.call(this,_,null,{dir:!0,createFolders:D}),this.files[_]};function x(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var D,N,B;for(D in this.files)B=this.files[D],N=D.slice(this.root.length,D.length),N&&D.slice(0,this.root.length)===this.root&&_(N,B)},filter:function(_){var D=[];return this.forEach(function(N,B){_(N,B)&&D.push(B)}),D},file:function(_,D,N){if(arguments.length===1)if(x(_)){var B=_;return this.filter(function(M,K){return!K.dir&&B.test(M)})}else{var U=this.files[this.root+_];return U&&!U.dir?U:null}else _=this.root+_,T.call(this,_,D,N);return this},folder:function(_){if(!_)return this;if(x(_))return this.filter(function(U,M){return M.dir&&_.test(U)});var D=this.root+_,N=y.call(this,D),B=this.clone();return B.root=N.name,B},remove:function(_){_=this.root+_;var D=this.files[_];if(D||(_.slice(-1)!=="/"&&(_+="/"),D=this.files[_]),D&&!D.dir)delete this.files[_];else for(var N=this.filter(function(U,M){return M.name.slice(0,_.length)===_}),B=0;B<N.length;B++)delete this.files[N[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var D,N={};try{if(N=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode}),N.type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");a.checkSupport(N.type),(N.platform==="darwin"||N.platform==="freebsd"||N.platform==="linux"||N.platform==="sunos")&&(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var B=N.comment||this.comment||"";D=p.generateWorker(this,N,B)}catch(U){D=new o("error"),D.error(U)}return new u(D,N.type||"string",N.mimeType)},generateAsync:function(_,D){return this.generateInternalStream(_).accumulate(D)},generateNodeStream:function(_,D){return _=_||{},_.type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(D)}};r.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,n){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,n){var s=t("./DataReader"),a=t("../utils");function o(u){s.call(this,u);for(var f=0;f<this.data.length;f++)u[f]=u[f]&255}a.inherits(o,s),o.prototype.byteAt=function(u){return this.data[this.zero+u]},o.prototype.lastIndexOfSignature=function(u){for(var f=u.charCodeAt(0),l=u.charCodeAt(1),c=u.charCodeAt(2),p=u.charCodeAt(3),v=this.length-4;v>=0;--v)if(this.data[v]===f&&this.data[v+1]===l&&this.data[v+2]===c&&this.data[v+3]===p)return v-this.zero;return-1},o.prototype.readAndCheckSignature=function(u){var f=u.charCodeAt(0),l=u.charCodeAt(1),c=u.charCodeAt(2),p=u.charCodeAt(3),v=this.readData(4);return f===v[0]&&l===v[1]&&c===v[2]&&p===v[3]},o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,r,n){var s=t("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var u=0,f;for(this.checkOffset(o),f=this.index+o-1;f>=this.index;f--)u=(u<<8)+this.byteAt(f);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC((o>>25&127)+1980,(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(o&31)<<1))}},r.exports=a},{"../utils":32}],19:[function(t,r,n){var s=t("./Uint8ArrayReader"),a=t("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.readData=function(u){this.checkOffset(u);var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,n){var s=t("./DataReader"),a=t("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},o.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},o.prototype.readAndCheckSignature=function(u){var f=this.readData(4);return u===f},o.prototype.readData=function(u){this.checkOffset(u);var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,r,n){var s=t("./ArrayReader"),a=t("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,n){var s=t("../utils"),a=t("../support"),o=t("./ArrayReader"),u=t("./StringReader"),f=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");r.exports=function(c){var p=s.getTypeOf(c);return s.checkSupport(p),p==="string"&&!a.uint8array?new u(c):p==="nodebuffer"?new f(c):a.uint8array?new l(s.transformTo("uint8array",c)):new o(s.transformTo("array",c))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,n){var s=t("./GenericWorker"),a=t("../utils");function o(u){s.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(o,s),o.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,n){var s=t("./GenericWorker"),a=t("../crc32"),o=t("../utils");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o.inherits(u,s),u.prototype.processChunk=function(f){this.streamInfo.crc32=a(f.data,this.streamInfo.crc32||0),this.push(f)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,n){var s=t("../utils"),a=t("./GenericWorker");function o(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(o,a),o.prototype.processChunk=function(u){if(u){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+u.data.length}a.prototype.processChunk.call(this,u)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,n){var s=t("../utils"),a=t("./GenericWorker"),o=16*1024;function u(f){a.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(c){l.dataIsReady=!0,l.data=c,l.max=c&&c.length||0,l.type=s.getTypeOf(c),l.isPaused||l._tickAndRepeat()},function(c){l.error(c)})}s.inherits(u,a),u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return a.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0):!1},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=o,l=null,c=Math.min(this.max,this.index+f);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c);break}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,n){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return this.isFinished?!1:(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(u){o.processChunk(u)}),a.on("end",function(){o.end()}),a.on("error",function(u){o.error(u)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(t,r,n){var s=t("../utils"),a=t("./ConvertWorker"),o=t("./GenericWorker"),u=t("../base64"),f=t("../support"),l=t("../external"),c=null;if(f.nodestream)try{c=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(d,g,y){switch(d){case"blob":return s.newBlob(s.transformTo("arraybuffer",g),y);case"base64":return u.encode(g);default:return s.transformTo(d,g)}}function v(d,g){var y,x=0,k=null,_=0;for(y=0;y<g.length;y++)_+=g[y].length;switch(d){case"string":return g.join("");case"array":return Array.prototype.concat.apply([],g);case"uint8array":for(k=new Uint8Array(_),y=0;y<g.length;y++)k.set(g[y],x),x+=g[y].length;return k;case"nodebuffer":return Buffer.concat(g);default:throw new Error("concat : unsupported type '"+d+"'")}}function C(d,g){return new l.Promise(function(y,x){var k=[],_=d._internalType,D=d._outputType,N=d._mimeType;d.on("data",function(B,U){k.push(B),g&&g(U)}).on("error",function(B){k=[],x(B)}).on("end",function(){try{var B=p(D,v(_,k),N);y(B)}catch(U){x(U)}k=[]}).resume()})}function T(d,g,y){var x=g;switch(g){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string";break}try{this._internalType=x,this._outputType=g,this._mimeType=y,s.checkSupport(x),this._worker=d.pipe(new a(x)),d.lock()}catch(k){this._worker=new o("error"),this._worker.error(k)}}T.prototype={accumulate:function(d){return C(this,d)},on:function(d,g){var y=this;return d==="data"?this._worker.on(d,function(x){g.call(y,x.data,x.meta)}):this._worker.on(d,function(){s.delay(g,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},d)}},r.exports=T},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new a;o.append(s),n.blob=o.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,n){for(var s=t("./utils"),a=t("./support"),o=t("./nodejsUtils"),u=t("./stream/GenericWorker"),f=new Array(256),l=0;l<256;l++)f[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;f[254]=f[254]=1;var c=function(d){var g,y,x,k,_,D=d.length,N=0;for(k=0;k<D;k++)y=d.charCodeAt(k),(y&64512)===55296&&k+1<D&&(x=d.charCodeAt(k+1),(x&64512)===56320&&(y=65536+(y-55296<<10)+(x-56320),k++)),N+=y<128?1:y<2048?2:y<65536?3:4;for(a.uint8array?g=new Uint8Array(N):g=new Array(N),_=0,k=0;_<N;k++)y=d.charCodeAt(k),(y&64512)===55296&&k+1<D&&(x=d.charCodeAt(k+1),(x&64512)===56320&&(y=65536+(y-55296<<10)+(x-56320),k++)),y<128?g[_++]=y:y<2048?(g[_++]=192|y>>>6,g[_++]=128|y&63):y<65536?(g[_++]=224|y>>>12,g[_++]=128|y>>>6&63,g[_++]=128|y&63):(g[_++]=240|y>>>18,g[_++]=128|y>>>12&63,g[_++]=128|y>>>6&63,g[_++]=128|y&63);return g},p=function(d,g){var y;for(g=g||d.length,g>d.length&&(g=d.length),y=g-1;y>=0&&(d[y]&192)===128;)y--;return y<0||y===0?g:y+f[d[y]]>g?y:g},v=function(d){var g,y,x,k,_=d.length,D=new Array(_*2);for(y=0,g=0;g<_;){if(x=d[g++],x<128){D[y++]=x;continue}if(k=f[x],k>4){D[y++]=65533,g+=k-1;continue}for(x&=k===2?31:k===3?15:7;k>1&&g<_;)x=x<<6|d[g++]&63,k--;if(k>1){D[y++]=65533;continue}x<65536?D[y++]=x:(x-=65536,D[y++]=55296|x>>10&1023,D[y++]=56320|x&1023)}return D.length!==y&&(D.subarray?D=D.subarray(0,y):D.length=y),s.applyFromCharCode(D)};n.utf8encode=function(g){return a.nodebuffer?o.newBufferFrom(g,"utf-8"):c(g)},n.utf8decode=function(g){return a.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):(g=s.transformTo(a.uint8array?"uint8array":"array",g),v(g))};function C(){u.call(this,"utf-8 decode"),this.leftOver=null}s.inherits(C,u),C.prototype.processChunk=function(d){var g=s.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var y=g;g=new Uint8Array(y.length+this.leftOver.length),g.set(this.leftOver,0),g.set(y,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var x=p(g),k=g;x!==g.length&&(a.uint8array?(k=g.subarray(0,x),this.leftOver=g.subarray(x,g.length)):(k=g.slice(0,x),this.leftOver=g.slice(x,g.length))),this.push({data:n.utf8decode(k),meta:d.meta})},C.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=C;function T(){u.call(this,"utf-8 encode")}s.inherits(T,u),T.prototype.processChunk=function(d){this.push({data:n.utf8encode(d.data),meta:d.meta})},n.Utf8EncodeWorker=T},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,n){var s=t("./support"),a=t("./base64"),o=t("./nodejsUtils"),u=t("./external");t("setimmediate");function f(d){var g=null;return s.uint8array?g=new Uint8Array(d.length):g=new Array(d.length),c(d,g)}n.newBlob=function(d,g){n.checkSupport("blob");try{return new Blob([d],{type:g})}catch{try{var y=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,x=new y;return x.append(d),x.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};function l(d){return d}function c(d,g){for(var y=0;y<d.length;++y)g[y]=d.charCodeAt(y)&255;return g}var p={stringifyByChunk:function(d,g,y){var x=[],k=0,_=d.length;if(_<=y)return String.fromCharCode.apply(null,d);for(;k<_;)g==="array"||g==="nodebuffer"?x.push(String.fromCharCode.apply(null,d.slice(k,Math.min(k+y,_)))):x.push(String.fromCharCode.apply(null,d.subarray(k,Math.min(k+y,_)))),k+=y;return x.join("")},stringifyByChar:function(d){for(var g="",y=0;y<d.length;y++)g+=String.fromCharCode(d[y]);return g},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function v(d){var g=65536,y=n.getTypeOf(d),x=!0;if(y==="uint8array"?x=p.applyCanBeUsed.uint8array:y==="nodebuffer"&&(x=p.applyCanBeUsed.nodebuffer),x)for(;g>1;)try{return p.stringifyByChunk(d,y,g)}catch{g=Math.floor(g/2)}return p.stringifyByChar(d)}n.applyFromCharCode=v;function C(d,g){for(var y=0;y<d.length;y++)g[y]=d[y];return g}var T={};T.string={string:l,array:function(d){return c(d,new Array(d.length))},arraybuffer:function(d){return T.string.uint8array(d).buffer},uint8array:function(d){return c(d,new Uint8Array(d.length))},nodebuffer:function(d){return c(d,o.allocBuffer(d.length))}},T.array={string:v,array:l,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return o.newBufferFrom(d)}},T.arraybuffer={string:function(d){return v(new Uint8Array(d))},array:function(d){return C(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:l,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return o.newBufferFrom(new Uint8Array(d))}},T.uint8array={string:v,array:function(d){return C(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:l,nodebuffer:function(d){return o.newBufferFrom(d)}},T.nodebuffer={string:v,array:function(d){return C(d,new Array(d.length))},arraybuffer:function(d){return T.nodebuffer.uint8array(d).buffer},uint8array:function(d){return C(d,new Uint8Array(d.length))},nodebuffer:l},n.transformTo=function(d,g){if(g||(g=""),!d)return g;n.checkSupport(d);var y=n.getTypeOf(g),x=T[y][d](g);return x},n.resolve=function(d){for(var g=d.split("/"),y=[],x=0;x<g.length;x++){var k=g[x];k==="."||k===""&&x!==0&&x!==g.length-1||(k===".."?y.pop():y.push(k))}return y.join("/")},n.getTypeOf=function(d){if(typeof d=="string")return"string";if(Object.prototype.toString.call(d)==="[object Array]")return"array";if(s.nodebuffer&&o.isBuffer(d))return"nodebuffer";if(s.uint8array&&d instanceof Uint8Array)return"uint8array";if(s.arraybuffer&&d instanceof ArrayBuffer)return"arraybuffer"},n.checkSupport=function(d){var g=s[d.toLowerCase()];if(!g)throw new Error(d+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(d){var g="",y,x;for(x=0;x<(d||"").length;x++)y=d.charCodeAt(x),g+="\\x"+(y<16?"0":"")+y.toString(16).toUpperCase();return g},n.delay=function(d,g,y){setImmediate(function(){d.apply(y||null,g||[])})},n.inherits=function(d,g){var y=function(){};y.prototype=g.prototype,d.prototype=new y},n.extend=function(){var d={},g,y;for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&typeof d[y]>"u"&&(d[y]=arguments[g][y]);return d},n.prepareContent=function(d,g,y,x,k){var _=u.Promise.resolve(g).then(function(D){var N=s.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1);return N&&typeof FileReader<"u"?new u.Promise(function(B,U){var M=new FileReader;M.onload=function(K){B(K.target.result)},M.onerror=function(K){U(K.target.error)},M.readAsArrayBuffer(D)}):D});return _.then(function(D){var N=n.getTypeOf(D);return N?(N==="arraybuffer"?D=n.transformTo("uint8array",D):N==="string"&&(k?D=a.decode(D):y&&x!==!0&&(D=f(D))),D):u.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,n){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./signature"),u=t("./zipEntry"),f=t("./support");function l(c){this.files=[],this.loadOptions=c}l.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(p)+", expected "+a.pretty(c)+")")}},isSignature:function(c,p){var v=this.reader.index;this.reader.setIndex(c);var C=this.reader.readString(4),T=C===p;return this.reader.setIndex(v),T},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),p=f.uint8array?"uint8array":"array",v=a.transformTo(p,c);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c=this.zip64EndOfCentralSize-44,p=0,v,C,T;p<c;)v=this.reader.readInt(2),C=this.reader.readInt(4),T=this.reader.readData(C),this.zip64ExtensibleData[v]={id:v,length:C,value:T}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,p;for(c=0;c<this.files.length;c++)p=this.files[c],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)c=new u({zip64:this.zip64},this.loadOptions),c.readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(c<0){var p=!this.isSignature(0,o.LOCAL_FILE_HEADER);throw p?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(c);var v=c;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,c=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),c<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var C=this.centralDirOffset+this.centralDirSize;this.zip64&&(C+=20,C+=12+this.zip64EndOfCentralSize);var T=v-C;if(T>0)this.isSignature(v,o.CENTRAL_FILE_HEADER)||(this.reader.zero=T);else if(T<0)throw new Error("Corrupted zip: missing "+Math.abs(T)+" bytes.")},prepareReader:function(c){this.reader=s(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,n){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./compressedObject"),u=t("./crc32"),f=t("./utf8"),l=t("./compressions"),c=t("./support"),p=0,v=3,C=function(d){for(var g in l)if(Object.prototype.hasOwnProperty.call(l,g)&&l[g].magic===d)return l[g];return null};function T(d,g){this.options=d,this.loadOptions=g}T.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(d){var g,y;if(d.skip(22),this.fileNameLength=d.readInt(2),y=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(g=C(this.compressionMethod),g===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var g=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(g),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),d===p&&(this.dosPermissions=this.externalFileAttributes&63),d===v&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var g=d.index+this.extraFieldsLength,y,x,k;for(this.extraFields||(this.extraFields={});d.index+4<g;)y=d.readInt(2),x=d.readInt(2),k=d.readData(x),this.extraFields[y]={id:y,length:x,value:k};d.setIndex(g)},handleUTF8:function(){var d=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var y=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var k=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var g=s(d.value);return g.readInt(1)!==1||u(this.fileName)!==g.readInt(4)?null:f.utf8decode(g.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var g=s(d.value);return g.readInt(1)!==1||u(this.fileComment)!==g.readInt(4)?null:f.utf8decode(g.readData(d.length-5))}return null}},r.exports=T},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,n){var s=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),o=t("./utf8"),u=t("./compressedObject"),f=t("./stream/GenericWorker"),l=function(C,T,d){this.name=C,this.dir=d.dir,this.date=d.date,this.comment=d.comment,this.unixPermissions=d.unixPermissions,this.dosPermissions=d.dosPermissions,this._data=T,this._dataBinary=d.binary,this.options={compression:d.compression,compressionOptions:d.compressionOptions}};l.prototype={internalStream:function(C){var T=null,d="string";try{if(!C)throw new Error("No output type specified.");d=C.toLowerCase();var g=d==="string"||d==="text";(d==="binarystring"||d==="text")&&(d="string"),T=this._decompressWorker();var y=!this._dataBinary;y&&!g&&(T=T.pipe(new o.Utf8EncodeWorker)),!y&&g&&(T=T.pipe(new o.Utf8DecodeWorker))}catch(x){T=new f("error"),T.error(x)}return new s(T,d,"")},async:function(C,T){return this.internalStream(C).accumulate(T)},nodeStream:function(C,T){return this.internalStream(C||"nodebuffer").toNodejsStream(T)},_compressWorker:function(C,T){if(this._data instanceof u&&this._data.compression.magic===C.magic)return this._data.getCompressedWorker();var d=this._decompressWorker();return this._dataBinary||(d=d.pipe(new o.Utf8EncodeWorker)),u.createWorkerFrom(d,C,T)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof f?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<c.length;v++)l.prototype[c[v]]=p;r.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,n){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var u=0,f=new a(C),l=s.document.createTextNode("");f.observe(l,{characterData:!0}),o=function(){l.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var c=new s.MessageChannel;c.port1.onmessage=C,o=function(){c.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var d=s.document.createElement("script");d.onreadystatechange=function(){C(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},s.document.documentElement.appendChild(d)}:o=function(){setTimeout(C,0)};var p,v=[];function C(){p=!0;for(var d,g,y=v.length;y;){for(g=v,v=[],d=-1;++d<y;)g[d]();y=v.length}p=!1}r.exports=T;function T(d){v.push(d)===1&&!p&&o()}}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,n){var s=t("immediate");function a(){}var o={},u=["REJECTED"],f=["FULFILLED"],l=["PENDING"];r.exports=c;function c(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,_!==a&&T(this,_)}c.prototype.finally=function(_){if(typeof _!="function")return this;var D=this.constructor;return this.then(N,B);function N(U){function M(){return U}return D.resolve(_()).then(M)}function B(U){function M(){throw U}return D.resolve(_()).then(M)}},c.prototype.catch=function(_){return this.then(null,_)},c.prototype.then=function(_,D){if(typeof _!="function"&&this.state===f||typeof D!="function"&&this.state===u)return this;var N=new this.constructor(a);if(this.state!==l){var B=this.state===f?_:D;v(N,B,this.outcome)}else this.queue.push(new p(N,_,D));return N};function p(_,D,N){this.promise=_,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},p.prototype.otherCallFulfilled=function(_){v(this.promise,this.onFulfilled,_)},p.prototype.callRejected=function(_){o.reject(this.promise,_)},p.prototype.otherCallRejected=function(_){v(this.promise,this.onRejected,_)};function v(_,D,N){s(function(){var B;try{B=D(N)}catch(U){return o.reject(_,U)}B===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,B)})}o.resolve=function(_,D){var N=d(C,D);if(N.status==="error")return o.reject(_,N.value);var B=N.value;if(B)T(_,B);else{_.state=f,_.outcome=D;for(var U=-1,M=_.queue.length;++U<M;)_.queue[U].callFulfilled(D)}return _},o.reject=function(_,D){_.state=u,_.outcome=D;for(var N=-1,B=_.queue.length;++N<B;)_.queue[N].callRejected(D);return _};function C(_){var D=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof D=="function")return function(){D.apply(_,arguments)}}function T(_,D){var N=!1;function B(J){N||(N=!0,o.reject(_,J))}function U(J){N||(N=!0,o.resolve(_,J))}function M(){D(U,B)}var K=d(M);K.status==="error"&&B(K.value)}function d(_,D){var N={};try{N.value=_(D),N.status="success"}catch(B){N.status="error",N.value=B}return N}c.resolve=g;function g(_){return _ instanceof this?_:o.resolve(new this(a),_)}c.reject=y;function y(_){var D=new this(a);return o.reject(D,_)}c.all=x;function x(_){var D=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=_.length,B=!1;if(!N)return this.resolve([]);for(var U=new Array(N),M=0,K=-1,J=new this(a);++K<N;)ge(_[K],K);return J;function ge(De,Ae){D.resolve(De).then(de,function(le){B||(B=!0,o.reject(J,le))});function de(le){U[Ae]=le,++M===N&&!B&&(B=!0,o.resolve(J,U))}}}c.race=k;function k(_){var D=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=_.length,B=!1;if(!N)return this.resolve([]);for(var U=-1,M=new this(a);++U<N;)K(_[U]);return M;function K(J){D.resolve(J).then(function(ge){B||(B=!0,o.resolve(M,ge))},function(ge){B||(B=!0,o.reject(M,ge))})}}},{immediate:36}],38:[function(t,r,n){var s=t("./lib/utils/common").assign,a=t("./lib/deflate"),o=t("./lib/inflate"),u=t("./lib/zlib/constants"),f={};s(f,a,o,u),r.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,n){var s=t("./zlib/deflate"),a=t("./utils/common"),o=t("./utils/strings"),u=t("./zlib/messages"),f=t("./zlib/zstream"),l=Object.prototype.toString,c=0,p=4,v=0,C=1,T=2,d=-1,g=0,y=8;function x(N){if(!(this instanceof x))return new x(N);this.options=a.assign({level:d,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},N||{});var B=this.options;B.raw&&B.windowBits>0?B.windowBits=-B.windowBits:B.gzip&&B.windowBits>0&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var U=s.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(U!==v)throw new Error(u[U]);if(B.header&&s.deflateSetHeader(this.strm,B.header),B.dictionary){var M;if(typeof B.dictionary=="string"?M=o.string2buf(B.dictionary):l.call(B.dictionary)==="[object ArrayBuffer]"?M=new Uint8Array(B.dictionary):M=B.dictionary,U=s.deflateSetDictionary(this.strm,M),U!==v)throw new Error(u[U]);this._dict_set=!0}}x.prototype.push=function(N,B){var U=this.strm,M=this.options.chunkSize,K,J;if(this.ended)return!1;J=B===~~B?B:B===!0?p:c,typeof N=="string"?U.input=o.string2buf(N):l.call(N)==="[object ArrayBuffer]"?U.input=new Uint8Array(N):U.input=N,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new a.Buf8(M),U.next_out=0,U.avail_out=M),K=s.deflate(U,J),K!==C&&K!==v)return this.onEnd(K),this.ended=!0,!1;(U.avail_out===0||U.avail_in===0&&(J===p||J===T))&&(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(U.output,U.next_out))):this.onData(a.shrinkBuf(U.output,U.next_out)))}while((U.avail_in>0||U.avail_out===0)&&K!==C);return J===p?(K=s.deflateEnd(this.strm),this.onEnd(K),this.ended=!0,K===v):(J===T&&(this.onEnd(v),U.avail_out=0),!0)},x.prototype.onData=function(N){this.chunks.push(N)},x.prototype.onEnd=function(N){N===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg};function k(N,B){var U=new x(B);if(U.push(N,!0),U.err)throw U.msg||u[U.err];return U.result}function _(N,B){return B=B||{},B.raw=!0,k(N,B)}function D(N,B){return B=B||{},B.gzip=!0,k(N,B)}n.Deflate=x,n.deflate=k,n.deflateRaw=_,n.gzip=D},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,n){var s=t("./zlib/inflate"),a=t("./utils/common"),o=t("./utils/strings"),u=t("./zlib/constants"),f=t("./zlib/messages"),l=t("./zlib/zstream"),c=t("./zlib/gzheader"),p=Object.prototype.toString;function v(d){if(!(this instanceof v))return new v(d);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},d||{});var g=this.options;g.raw&&g.windowBits>=0&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),g.windowBits>=0&&g.windowBits<16&&!(d&&d.windowBits)&&(g.windowBits+=32),g.windowBits>15&&g.windowBits<48&&(g.windowBits&15||(g.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,g.windowBits);if(y!==u.Z_OK)throw new Error(f[y]);this.header=new c,s.inflateGetHeader(this.strm,this.header)}v.prototype.push=function(d,g){var y=this.strm,x=this.options.chunkSize,k=this.options.dictionary,_,D,N,B,U,M,K=!1;if(this.ended)return!1;D=g===~~g?g:g===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof d=="string"?y.input=o.binstring2buf(d):p.call(d)==="[object ArrayBuffer]"?y.input=new Uint8Array(d):y.input=d,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new a.Buf8(x),y.next_out=0,y.avail_out=x),_=s.inflate(y,u.Z_NO_FLUSH),_===u.Z_NEED_DICT&&k&&(typeof k=="string"?M=o.string2buf(k):p.call(k)==="[object ArrayBuffer]"?M=new Uint8Array(k):M=k,_=s.inflateSetDictionary(this.strm,M)),_===u.Z_BUF_ERROR&&K===!0&&(_=u.Z_OK,K=!1),_!==u.Z_STREAM_END&&_!==u.Z_OK)return this.onEnd(_),this.ended=!0,!1;y.next_out&&(y.avail_out===0||_===u.Z_STREAM_END||y.avail_in===0&&(D===u.Z_FINISH||D===u.Z_SYNC_FLUSH))&&(this.options.to==="string"?(N=o.utf8border(y.output,y.next_out),B=y.next_out-N,U=o.buf2string(y.output,N),y.next_out=B,y.avail_out=x-B,B&&a.arraySet(y.output,y.output,N,B,0),this.onData(U)):this.onData(a.shrinkBuf(y.output,y.next_out))),y.avail_in===0&&y.avail_out===0&&(K=!0)}while((y.avail_in>0||y.avail_out===0)&&_!==u.Z_STREAM_END);return _===u.Z_STREAM_END&&(D=u.Z_FINISH),D===u.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===u.Z_OK):(D===u.Z_SYNC_FLUSH&&(this.onEnd(u.Z_OK),y.avail_out=0),!0)},v.prototype.onData=function(d){this.chunks.push(d)},v.prototype.onEnd=function(d){d===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};function C(d,g){var y=new v(g);if(y.push(d,!0),y.err)throw y.msg||f[y.err];return y.result}function T(d,g){return g=g||{},g.raw=!0,C(d,g)}n.Inflate=v,n.inflate=C,n.inflateRaw=T,n.ungzip=C},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(u){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var l=f.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var c in l)l.hasOwnProperty(c)&&(u[c]=l[c])}}return u},n.shrinkBuf=function(u,f){return u.length===f?u:u.subarray?u.subarray(0,f):(u.length=f,u)};var a={arraySet:function(u,f,l,c,p){if(f.subarray&&u.subarray){u.set(f.subarray(l,l+c),p);return}for(var v=0;v<c;v++)u[p+v]=f[l+v]},flattenChunks:function(u){var f,l,c,p,v,C;for(c=0,f=0,l=u.length;f<l;f++)c+=u[f].length;for(C=new Uint8Array(c),p=0,f=0,l=u.length;f<l;f++)v=u[f],C.set(v,p),p+=v.length;return C}},o={arraySet:function(u,f,l,c,p){for(var v=0;v<c;v++)u[p+v]=f[l+v]},flattenChunks:function(u){return[].concat.apply([],u)}};n.setTyped=function(u){u?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(s)},{}],42:[function(t,r,n){var s=t("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var u=new s.Buf8(256),f=0;f<256;f++)u[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;u[254]=u[254]=1,n.string2buf=function(c){var p,v,C,T,d,g=c.length,y=0;for(T=0;T<g;T++)v=c.charCodeAt(T),(v&64512)===55296&&T+1<g&&(C=c.charCodeAt(T+1),(C&64512)===56320&&(v=65536+(v-55296<<10)+(C-56320),T++)),y+=v<128?1:v<2048?2:v<65536?3:4;for(p=new s.Buf8(y),d=0,T=0;d<y;T++)v=c.charCodeAt(T),(v&64512)===55296&&T+1<g&&(C=c.charCodeAt(T+1),(C&64512)===56320&&(v=65536+(v-55296<<10)+(C-56320),T++)),v<128?p[d++]=v:v<2048?(p[d++]=192|v>>>6,p[d++]=128|v&63):v<65536?(p[d++]=224|v>>>12,p[d++]=128|v>>>6&63,p[d++]=128|v&63):(p[d++]=240|v>>>18,p[d++]=128|v>>>12&63,p[d++]=128|v>>>6&63,p[d++]=128|v&63);return p};function l(c,p){if(p<65537&&(c.subarray&&o||!c.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(c,p));for(var v="",C=0;C<p;C++)v+=String.fromCharCode(c[C]);return v}n.buf2binstring=function(c){return l(c,c.length)},n.binstring2buf=function(c){for(var p=new s.Buf8(c.length),v=0,C=p.length;v<C;v++)p[v]=c.charCodeAt(v);return p},n.buf2string=function(c,p){var v,C,T,d,g=p||c.length,y=new Array(g*2);for(C=0,v=0;v<g;){if(T=c[v++],T<128){y[C++]=T;continue}if(d=u[T],d>4){y[C++]=65533,v+=d-1;continue}for(T&=d===2?31:d===3?15:7;d>1&&v<g;)T=T<<6|c[v++]&63,d--;if(d>1){y[C++]=65533;continue}T<65536?y[C++]=T:(T-=65536,y[C++]=55296|T>>10&1023,y[C++]=56320|T&1023)}return l(y,C)},n.utf8border=function(c,p){var v;for(p=p||c.length,p>c.length&&(p=c.length),v=p-1;v>=0&&(c[v]&192)===128;)v--;return v<0||v===0?p:v+u[c[v]]>p?v:p}},{"./common":41}],43:[function(t,r,n){function s(a,o,u,f){for(var l=a&65535|0,c=a>>>16&65535|0,p=0;u!==0;){p=u>2e3?2e3:u,u-=p;do l=l+o[f++]|0,c=c+l|0;while(--p);l%=65521,c%=65521}return l|c<<16|0}r.exports=s},{}],44:[function(t,r,n){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,n){function s(){for(var u,f=[],l=0;l<256;l++){u=l;for(var c=0;c<8;c++)u=u&1?3988292384^u>>>1:u>>>1;f[l]=u}return f}var a=s();function o(u,f,l,c){var p=a,v=c+l;u^=-1;for(var C=c;C<v;C++)u=u>>>8^p[(u^f[C])&255];return u^-1}r.exports=o},{}],46:[function(t,r,n){var s=t("../utils/common"),a=t("./trees"),o=t("./adler32"),u=t("./crc32"),f=t("./messages"),l=0,c=1,p=3,v=4,C=5,T=0,d=1,g=-2,y=-3,x=-5,k=-1,_=1,D=2,N=3,B=4,U=0,M=2,K=8,J=9,ge=15,De=8,Ae=29,de=256,le=de+1+Ae,se=30,Te=19,He=2*le+1,Oe=15,be=3,qe=258,Pe=qe+be+1,vt=32,it=42,Xe=69,Re=73,ft=91,Ke=103,je=113,Qe=666,S=1,O=2,W=3,Q=4,$=3;function X(h,q){return h.msg=f[q],q}function fe(h){return(h<<1)-(h>4?9:0)}function ne(h){for(var q=h.length;--q>=0;)h[q]=0}function te(h){var q=h.state,H=q.pending;H>h.avail_out&&(H=h.avail_out),H!==0&&(s.arraySet(h.output,q.pending_buf,q.pending_out,H,h.next_out),h.next_out+=H,q.pending_out+=H,h.total_out+=H,h.avail_out-=H,q.pending-=H,q.pending===0&&(q.pending_out=0))}function G(h,q){a._tr_flush_block(h,h.block_start>=0?h.block_start:-1,h.strstart-h.block_start,q),h.block_start=h.strstart,te(h.strm)}function ae(h,q){h.pending_buf[h.pending++]=q}function he(h,q){h.pending_buf[h.pending++]=q>>>8&255,h.pending_buf[h.pending++]=q&255}function _e(h,q,H,b){var I=h.avail_in;return I>b&&(I=b),I===0?0:(h.avail_in-=I,s.arraySet(q,h.input,h.next_in,I,H),h.state.wrap===1?h.adler=o(h.adler,q,I,H):h.state.wrap===2&&(h.adler=u(h.adler,q,I,H)),h.next_in+=I,h.total_in+=I,I)}function xe(h,q){var H=h.max_chain_length,b=h.strstart,I,j,we=h.prev_length,ve=h.nice_match,me=h.strstart>h.w_size-Pe?h.strstart-(h.w_size-Pe):0,Le=h.window,Kt=h.w_mask,at=h.prev,ze=h.strstart+qe,dt=Le[b+we-1],Et=Le[b+we];h.prev_length>=h.good_match&&(H>>=2),ve>h.lookahead&&(ve=h.lookahead);do if(I=q,!(Le[I+we]!==Et||Le[I+we-1]!==dt||Le[I]!==Le[b]||Le[++I]!==Le[b+1])){b+=2,I++;do;while(Le[++b]===Le[++I]&&Le[++b]===Le[++I]&&Le[++b]===Le[++I]&&Le[++b]===Le[++I]&&Le[++b]===Le[++I]&&Le[++b]===Le[++I]&&Le[++b]===Le[++I]&&Le[++b]===Le[++I]&&b<ze);if(j=qe-(ze-b),b=ze-qe,j>we){if(h.match_start=q,we=j,j>=ve)break;dt=Le[b+we-1],Et=Le[b+we]}}while((q=at[q&Kt])>me&&--H!==0);return we<=h.lookahead?we:h.lookahead}function Se(h){var q=h.w_size,H,b,I,j,we;do{if(j=h.window_size-h.lookahead-h.strstart,h.strstart>=q+(q-Pe)){s.arraySet(h.window,h.window,q,q,0),h.match_start-=q,h.strstart-=q,h.block_start-=q,b=h.hash_size,H=b;do I=h.head[--H],h.head[H]=I>=q?I-q:0;while(--b);b=q,H=b;do I=h.prev[--H],h.prev[H]=I>=q?I-q:0;while(--b);j+=q}if(h.strm.avail_in===0)break;if(b=_e(h.strm,h.window,h.strstart+h.lookahead,j),h.lookahead+=b,h.lookahead+h.insert>=be)for(we=h.strstart-h.insert,h.ins_h=h.window[we],h.ins_h=(h.ins_h<<h.hash_shift^h.window[we+1])&h.hash_mask;h.insert&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[we+be-1])&h.hash_mask,h.prev[we&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=we,we++,h.insert--,!(h.lookahead+h.insert<be)););}while(h.lookahead<Pe&&h.strm.avail_in!==0)}function Fe(h,q){var H=65535;for(H>h.pending_buf_size-5&&(H=h.pending_buf_size-5);;){if(h.lookahead<=1){if(Se(h),h.lookahead===0&&q===l)return S;if(h.lookahead===0)break}h.strstart+=h.lookahead,h.lookahead=0;var b=h.block_start+H;if((h.strstart===0||h.strstart>=b)&&(h.lookahead=h.strstart-b,h.strstart=b,G(h,!1),h.strm.avail_out===0)||h.strstart-h.block_start>=h.w_size-Pe&&(G(h,!1),h.strm.avail_out===0))return S}return h.insert=0,q===v?(G(h,!0),h.strm.avail_out===0?W:Q):(h.strstart>h.block_start&&(G(h,!1),h.strm.avail_out===0),S)}function Ie(h,q){for(var H,b;;){if(h.lookahead<Pe){if(Se(h),h.lookahead<Pe&&q===l)return S;if(h.lookahead===0)break}if(H=0,h.lookahead>=be&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+be-1])&h.hash_mask,H=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),H!==0&&h.strstart-H<=h.w_size-Pe&&(h.match_length=xe(h,H)),h.match_length>=be)if(b=a._tr_tally(h,h.strstart-h.match_start,h.match_length-be),h.lookahead-=h.match_length,h.match_length<=h.max_lazy_match&&h.lookahead>=be){h.match_length--;do h.strstart++,h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+be-1])&h.hash_mask,H=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart;while(--h.match_length!==0);h.strstart++}else h.strstart+=h.match_length,h.match_length=0,h.ins_h=h.window[h.strstart],h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+1])&h.hash_mask;else b=a._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++;if(b&&(G(h,!1),h.strm.avail_out===0))return S}return h.insert=h.strstart<be-1?h.strstart:be-1,q===v?(G(h,!0),h.strm.avail_out===0?W:Q):h.last_lit&&(G(h,!1),h.strm.avail_out===0)?S:O}function Je(h,q){for(var H,b,I;;){if(h.lookahead<Pe){if(Se(h),h.lookahead<Pe&&q===l)return S;if(h.lookahead===0)break}if(H=0,h.lookahead>=be&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+be-1])&h.hash_mask,H=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),h.prev_length=h.match_length,h.prev_match=h.match_start,h.match_length=be-1,H!==0&&h.prev_length<h.max_lazy_match&&h.strstart-H<=h.w_size-Pe&&(h.match_length=xe(h,H),h.match_length<=5&&(h.strategy===_||h.match_length===be&&h.strstart-h.match_start>4096)&&(h.match_length=be-1)),h.prev_length>=be&&h.match_length<=h.prev_length){I=h.strstart+h.lookahead-be,b=a._tr_tally(h,h.strstart-1-h.prev_match,h.prev_length-be),h.lookahead-=h.prev_length-1,h.prev_length-=2;do++h.strstart<=I&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+be-1])&h.hash_mask,H=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart);while(--h.prev_length!==0);if(h.match_available=0,h.match_length=be-1,h.strstart++,b&&(G(h,!1),h.strm.avail_out===0))return S}else if(h.match_available){if(b=a._tr_tally(h,0,h.window[h.strstart-1]),b&&G(h,!1),h.strstart++,h.lookahead--,h.strm.avail_out===0)return S}else h.match_available=1,h.strstart++,h.lookahead--}return h.match_available&&(b=a._tr_tally(h,0,h.window[h.strstart-1]),h.match_available=0),h.insert=h.strstart<be-1?h.strstart:be-1,q===v?(G(h,!0),h.strm.avail_out===0?W:Q):h.last_lit&&(G(h,!1),h.strm.avail_out===0)?S:O}function rt(h,q){for(var H,b,I,j,we=h.window;;){if(h.lookahead<=qe){if(Se(h),h.lookahead<=qe&&q===l)return S;if(h.lookahead===0)break}if(h.match_length=0,h.lookahead>=be&&h.strstart>0&&(I=h.strstart-1,b=we[I],b===we[++I]&&b===we[++I]&&b===we[++I])){j=h.strstart+qe;do;while(b===we[++I]&&b===we[++I]&&b===we[++I]&&b===we[++I]&&b===we[++I]&&b===we[++I]&&b===we[++I]&&b===we[++I]&&I<j);h.match_length=qe-(j-I),h.match_length>h.lookahead&&(h.match_length=h.lookahead)}if(h.match_length>=be?(H=a._tr_tally(h,1,h.match_length-be),h.lookahead-=h.match_length,h.strstart+=h.match_length,h.match_length=0):(H=a._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++),H&&(G(h,!1),h.strm.avail_out===0))return S}return h.insert=0,q===v?(G(h,!0),h.strm.avail_out===0?W:Q):h.last_lit&&(G(h,!1),h.strm.avail_out===0)?S:O}function ut(h,q){for(var H;;){if(h.lookahead===0&&(Se(h),h.lookahead===0)){if(q===l)return S;break}if(h.match_length=0,H=a._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++,H&&(G(h,!1),h.strm.avail_out===0))return S}return h.insert=0,q===v?(G(h,!0),h.strm.avail_out===0?W:Q):h.last_lit&&(G(h,!1),h.strm.avail_out===0)?S:O}function We(h,q,H,b,I){this.good_length=h,this.max_lazy=q,this.nice_length=H,this.max_chain=b,this.func=I}var mt;mt=[new We(0,0,0,0,Fe),new We(4,4,8,4,Ie),new We(4,5,16,8,Ie),new We(4,6,32,32,Ie),new We(4,4,16,16,Je),new We(8,16,32,32,Je),new We(8,16,128,128,Je),new We(8,32,128,256,Je),new We(32,128,258,1024,Je),new We(32,258,258,4096,Je)];function Xt(h){h.window_size=2*h.w_size,ne(h.head),h.max_lazy_match=mt[h.level].max_lazy,h.good_match=mt[h.level].good_length,h.nice_match=mt[h.level].nice_length,h.max_chain_length=mt[h.level].max_chain,h.strstart=0,h.block_start=0,h.lookahead=0,h.insert=0,h.match_length=h.prev_length=be-1,h.match_available=0,h.ins_h=0}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(He*2),this.dyn_dtree=new s.Buf16((2*se+1)*2),this.bl_tree=new s.Buf16((2*Te+1)*2),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(Oe+1),this.heap=new s.Buf16(2*le+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*le+1),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(h){var q;return!h||!h.state?X(h,g):(h.total_in=h.total_out=0,h.data_type=M,q=h.state,q.pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?it:je,h.adler=q.wrap===2?0:1,q.last_flush=l,a._tr_init(q),T)}function re(h){var q=Z(h);return q===T&&Xt(h.state),q}function ye(h,q){return!h||!h.state||h.state.wrap!==2?g:(h.state.gzhead=q,T)}function L(h,q,H,b,I,j){if(!h)return g;var we=1;if(q===k&&(q=6),b<0?(we=0,b=-b):b>15&&(we=2,b-=16),I<1||I>J||H!==K||b<8||b>15||q<0||q>9||j<0||j>B)return X(h,g);b===8&&(b=9);var ve=new E;return h.state=ve,ve.strm=h,ve.wrap=we,ve.gzhead=null,ve.w_bits=b,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=I+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+be-1)/be),ve.window=new s.Buf8(ve.w_size*2),ve.head=new s.Buf16(ve.hash_size),ve.prev=new s.Buf16(ve.w_size),ve.lit_bufsize=1<<I+6,ve.pending_buf_size=ve.lit_bufsize*4,ve.pending_buf=new s.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=3*ve.lit_bufsize,ve.level=q,ve.strategy=j,ve.method=H,re(h)}function V(h,q){return L(h,q,K,ge,De,U)}function m(h,q){var H,b,I,j;if(!h||!h.state||q>C||q<0)return h?X(h,g):g;if(b=h.state,!h.output||!h.input&&h.avail_in!==0||b.status===Qe&&q!==v)return X(h,h.avail_out===0?x:g);if(b.strm=h,H=b.last_flush,b.last_flush=q,b.status===it)if(b.wrap===2)h.adler=0,ae(b,31),ae(b,139),ae(b,8),b.gzhead?(ae(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),ae(b,b.gzhead.time&255),ae(b,b.gzhead.time>>8&255),ae(b,b.gzhead.time>>16&255),ae(b,b.gzhead.time>>24&255),ae(b,b.level===9?2:b.strategy>=D||b.level<2?4:0),ae(b,b.gzhead.os&255),b.gzhead.extra&&b.gzhead.extra.length&&(ae(b,b.gzhead.extra.length&255),ae(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(h.adler=u(h.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=Xe):(ae(b,0),ae(b,0),ae(b,0),ae(b,0),ae(b,0),ae(b,b.level===9?2:b.strategy>=D||b.level<2?4:0),ae(b,$),b.status=je);else{var we=K+(b.w_bits-8<<4)<<8,ve=-1;b.strategy>=D||b.level<2?ve=0:b.level<6?ve=1:b.level===6?ve=2:ve=3,we|=ve<<6,b.strstart!==0&&(we|=vt),we+=31-we%31,b.status=je,he(b,we),b.strstart!==0&&(he(b,h.adler>>>16),he(b,h.adler&65535)),h.adler=1}if(b.status===Xe)if(b.gzhead.extra){for(I=b.pending;b.gzindex<(b.gzhead.extra.length&65535)&&!(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>I&&(h.adler=u(h.adler,b.pending_buf,b.pending-I,I)),te(h),I=b.pending,b.pending===b.pending_buf_size));)ae(b,b.gzhead.extra[b.gzindex]&255),b.gzindex++;b.gzhead.hcrc&&b.pending>I&&(h.adler=u(h.adler,b.pending_buf,b.pending-I,I)),b.gzindex===b.gzhead.extra.length&&(b.gzindex=0,b.status=Re)}else b.status=Re;if(b.status===Re)if(b.gzhead.name){I=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>I&&(h.adler=u(h.adler,b.pending_buf,b.pending-I,I)),te(h),I=b.pending,b.pending===b.pending_buf_size)){j=1;break}b.gzindex<b.gzhead.name.length?j=b.gzhead.name.charCodeAt(b.gzindex++)&255:j=0,ae(b,j)}while(j!==0);b.gzhead.hcrc&&b.pending>I&&(h.adler=u(h.adler,b.pending_buf,b.pending-I,I)),j===0&&(b.gzindex=0,b.status=ft)}else b.status=ft;if(b.status===ft)if(b.gzhead.comment){I=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>I&&(h.adler=u(h.adler,b.pending_buf,b.pending-I,I)),te(h),I=b.pending,b.pending===b.pending_buf_size)){j=1;break}b.gzindex<b.gzhead.comment.length?j=b.gzhead.comment.charCodeAt(b.gzindex++)&255:j=0,ae(b,j)}while(j!==0);b.gzhead.hcrc&&b.pending>I&&(h.adler=u(h.adler,b.pending_buf,b.pending-I,I)),j===0&&(b.status=Ke)}else b.status=Ke;if(b.status===Ke&&(b.gzhead.hcrc?(b.pending+2>b.pending_buf_size&&te(h),b.pending+2<=b.pending_buf_size&&(ae(b,h.adler&255),ae(b,h.adler>>8&255),h.adler=0,b.status=je)):b.status=je),b.pending!==0){if(te(h),h.avail_out===0)return b.last_flush=-1,T}else if(h.avail_in===0&&fe(q)<=fe(H)&&q!==v)return X(h,x);if(b.status===Qe&&h.avail_in!==0)return X(h,x);if(h.avail_in!==0||b.lookahead!==0||q!==l&&b.status!==Qe){var me=b.strategy===D?ut(b,q):b.strategy===N?rt(b,q):mt[b.level].func(b,q);if((me===W||me===Q)&&(b.status=Qe),me===S||me===W)return h.avail_out===0&&(b.last_flush=-1),T;if(me===O&&(q===c?a._tr_align(b):q!==C&&(a._tr_stored_block(b,0,0,!1),q===p&&(ne(b.head),b.lookahead===0&&(b.strstart=0,b.block_start=0,b.insert=0))),te(h),h.avail_out===0))return b.last_flush=-1,T}return q!==v?T:b.wrap<=0?d:(b.wrap===2?(ae(b,h.adler&255),ae(b,h.adler>>8&255),ae(b,h.adler>>16&255),ae(b,h.adler>>24&255),ae(b,h.total_in&255),ae(b,h.total_in>>8&255),ae(b,h.total_in>>16&255),ae(b,h.total_in>>24&255)):(he(b,h.adler>>>16),he(b,h.adler&65535)),te(h),b.wrap>0&&(b.wrap=-b.wrap),b.pending!==0?T:d)}function ee(h){var q;return!h||!h.state?g:(q=h.state.status,q!==it&&q!==Xe&&q!==Re&&q!==ft&&q!==Ke&&q!==je&&q!==Qe?X(h,g):(h.state=null,q===je?X(h,y):T))}function Ce(h,q){var H=q.length,b,I,j,we,ve,me,Le,Kt;if(!h||!h.state||(b=h.state,we=b.wrap,we===2||we===1&&b.status!==it||b.lookahead))return g;for(we===1&&(h.adler=o(h.adler,q,H,0)),b.wrap=0,H>=b.w_size&&(we===0&&(ne(b.head),b.strstart=0,b.block_start=0,b.insert=0),Kt=new s.Buf8(b.w_size),s.arraySet(Kt,q,H-b.w_size,b.w_size,0),q=Kt,H=b.w_size),ve=h.avail_in,me=h.next_in,Le=h.input,h.avail_in=H,h.next_in=0,h.input=q,Se(b);b.lookahead>=be;){I=b.strstart,j=b.lookahead-(be-1);do b.ins_h=(b.ins_h<<b.hash_shift^b.window[I+be-1])&b.hash_mask,b.prev[I&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=I,I++;while(--j);b.strstart=I,b.lookahead=be-1,Se(b)}return b.strstart+=b.lookahead,b.block_start=b.strstart,b.insert=b.lookahead,b.lookahead=0,b.match_length=b.prev_length=be-1,b.match_available=0,h.next_in=me,h.input=Le,h.avail_in=ve,b.wrap=we,T}n.deflateInit=V,n.deflateInit2=L,n.deflateReset=re,n.deflateResetKeep=Z,n.deflateSetHeader=ye,n.deflate=m,n.deflateEnd=ee,n.deflateSetDictionary=Ce,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,n){function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r.exports=s},{}],48:[function(t,r,n){var s=30,a=12;r.exports=function(u,f){var l,c,p,v,C,T,d,g,y,x,k,_,D,N,B,U,M,K,J,ge,De,Ae,de,le,se;l=u.state,c=u.next_in,le=u.input,p=c+(u.avail_in-5),v=u.next_out,se=u.output,C=v-(f-u.avail_out),T=v+(u.avail_out-257),d=l.dmax,g=l.wsize,y=l.whave,x=l.wnext,k=l.window,_=l.hold,D=l.bits,N=l.lencode,B=l.distcode,U=(1<<l.lenbits)-1,M=(1<<l.distbits)-1;e:do{D<15&&(_+=le[c++]<<D,D+=8,_+=le[c++]<<D,D+=8),K=N[_&U];t:for(;;){if(J=K>>>24,_>>>=J,D-=J,J=K>>>16&255,J===0)se[v++]=K&65535;else if(J&16){ge=K&65535,J&=15,J&&(D<J&&(_+=le[c++]<<D,D+=8),ge+=_&(1<<J)-1,_>>>=J,D-=J),D<15&&(_+=le[c++]<<D,D+=8,_+=le[c++]<<D,D+=8),K=B[_&M];i:for(;;){if(J=K>>>24,_>>>=J,D-=J,J=K>>>16&255,J&16){if(De=K&65535,J&=15,D<J&&(_+=le[c++]<<D,D+=8,D<J&&(_+=le[c++]<<D,D+=8)),De+=_&(1<<J)-1,De>d){u.msg="invalid distance too far back",l.mode=s;break e}if(_>>>=J,D-=J,J=v-C,De>J){if(J=De-J,J>y&&l.sane){u.msg="invalid distance too far back",l.mode=s;break e}if(Ae=0,de=k,x===0){if(Ae+=g-J,J<ge){ge-=J;do se[v++]=k[Ae++];while(--J);Ae=v-De,de=se}}else if(x<J){if(Ae+=g+x-J,J-=x,J<ge){ge-=J;do se[v++]=k[Ae++];while(--J);if(Ae=0,x<ge){J=x,ge-=J;do se[v++]=k[Ae++];while(--J);Ae=v-De,de=se}}}else if(Ae+=x-J,J<ge){ge-=J;do se[v++]=k[Ae++];while(--J);Ae=v-De,de=se}for(;ge>2;)se[v++]=de[Ae++],se[v++]=de[Ae++],se[v++]=de[Ae++],ge-=3;ge&&(se[v++]=de[Ae++],ge>1&&(se[v++]=de[Ae++]))}else{Ae=v-De;do se[v++]=se[Ae++],se[v++]=se[Ae++],se[v++]=se[Ae++],ge-=3;while(ge>2);ge&&(se[v++]=se[Ae++],ge>1&&(se[v++]=se[Ae++]))}}else if(J&64){u.msg="invalid distance code",l.mode=s;break e}else{K=B[(K&65535)+(_&(1<<J)-1)];continue i}break}}else if(J&64)if(J&32){l.mode=a;break e}else{u.msg="invalid literal/length code",l.mode=s;break e}else{K=N[(K&65535)+(_&(1<<J)-1)];continue t}break}}while(c<p&&v<T);ge=D>>3,c-=ge,D-=ge<<3,_&=(1<<D)-1,u.next_in=c,u.next_out=v,u.avail_in=c<p?5+(p-c):5-(c-p),u.avail_out=v<T?257+(T-v):257-(v-T),l.hold=_,l.bits=D}},{}],49:[function(t,r,n){var s=t("../utils/common"),a=t("./adler32"),o=t("./crc32"),u=t("./inffast"),f=t("./inftrees"),l=0,c=1,p=2,v=4,C=5,T=6,d=0,g=1,y=2,x=-2,k=-3,_=-4,D=-5,N=8,B=1,U=2,M=3,K=4,J=5,ge=6,De=7,Ae=8,de=9,le=10,se=11,Te=12,He=13,Oe=14,be=15,qe=16,Pe=17,vt=18,it=19,Xe=20,Re=21,ft=22,Ke=23,je=24,Qe=25,S=26,O=27,W=28,Q=29,$=30,X=31,fe=32,ne=852,te=592,G=15,ae=G;function he(L){return(L>>>24&255)+(L>>>8&65280)+((L&65280)<<8)+((L&255)<<24)}function _e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function xe(L){var V;return!L||!L.state?x:(V=L.state,L.total_in=L.total_out=V.total=0,L.msg="",V.wrap&&(L.adler=V.wrap&1),V.mode=B,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new s.Buf32(ne),V.distcode=V.distdyn=new s.Buf32(te),V.sane=1,V.back=-1,d)}function Se(L){var V;return!L||!L.state?x:(V=L.state,V.wsize=0,V.whave=0,V.wnext=0,xe(L))}function Fe(L,V){var m,ee;return!L||!L.state||(ee=L.state,V<0?(m=0,V=-V):(m=(V>>4)+1,V<48&&(V&=15)),V&&(V<8||V>15))?x:(ee.window!==null&&ee.wbits!==V&&(ee.window=null),ee.wrap=m,ee.wbits=V,Se(L))}function Ie(L,V){var m,ee;return L?(ee=new _e,L.state=ee,ee.window=null,m=Fe(L,V),m!==d&&(L.state=null),m):x}function Je(L){return Ie(L,ae)}var rt=!0,ut,We;function mt(L){if(rt){var V;for(ut=new s.Buf32(512),We=new s.Buf32(32),V=0;V<144;)L.lens[V++]=8;for(;V<256;)L.lens[V++]=9;for(;V<280;)L.lens[V++]=7;for(;V<288;)L.lens[V++]=8;for(f(c,L.lens,0,288,ut,0,L.work,{bits:9}),V=0;V<32;)L.lens[V++]=5;f(p,L.lens,0,32,We,0,L.work,{bits:5}),rt=!1}L.lencode=ut,L.lenbits=9,L.distcode=We,L.distbits=5}function Xt(L,V,m,ee){var Ce,h=L.state;return h.window===null&&(h.wsize=1<<h.wbits,h.wnext=0,h.whave=0,h.window=new s.Buf8(h.wsize)),ee>=h.wsize?(s.arraySet(h.window,V,m-h.wsize,h.wsize,0),h.wnext=0,h.whave=h.wsize):(Ce=h.wsize-h.wnext,Ce>ee&&(Ce=ee),s.arraySet(h.window,V,m-ee,Ce,h.wnext),ee-=Ce,ee?(s.arraySet(h.window,V,m-ee,ee,0),h.wnext=ee,h.whave=h.wsize):(h.wnext+=Ce,h.wnext===h.wsize&&(h.wnext=0),h.whave<h.wsize&&(h.whave+=Ce))),0}function E(L,V){var m,ee,Ce,h,q,H,b,I,j,we,ve,me,Le,Kt,at=0,ze,dt,Et,Ct,Xi,Ki,ht,Ft,wt=new s.Buf8(4),Jt,qt,fn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return x;m=L.state,m.mode===Te&&(m.mode=He),q=L.next_out,Ce=L.output,b=L.avail_out,h=L.next_in,ee=L.input,H=L.avail_in,I=m.hold,j=m.bits,we=H,ve=b,Ft=d;e:for(;;)switch(m.mode){case B:if(m.wrap===0){m.mode=He;break}for(;j<16;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}if(m.wrap&2&&I===35615){m.check=0,wt[0]=I&255,wt[1]=I>>>8&255,m.check=o(m.check,wt,2,0),I=0,j=0,m.mode=U;break}if(m.flags=0,m.head&&(m.head.done=!1),!(m.wrap&1)||(((I&255)<<8)+(I>>8))%31){L.msg="incorrect header check",m.mode=$;break}if((I&15)!==N){L.msg="unknown compression method",m.mode=$;break}if(I>>>=4,j-=4,ht=(I&15)+8,m.wbits===0)m.wbits=ht;else if(ht>m.wbits){L.msg="invalid window size",m.mode=$;break}m.dmax=1<<ht,L.adler=m.check=1,m.mode=I&512?le:Te,I=0,j=0;break;case U:for(;j<16;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}if(m.flags=I,(m.flags&255)!==N){L.msg="unknown compression method",m.mode=$;break}if(m.flags&57344){L.msg="unknown header flags set",m.mode=$;break}m.head&&(m.head.text=I>>8&1),m.flags&512&&(wt[0]=I&255,wt[1]=I>>>8&255,m.check=o(m.check,wt,2,0)),I=0,j=0,m.mode=M;case M:for(;j<32;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}m.head&&(m.head.time=I),m.flags&512&&(wt[0]=I&255,wt[1]=I>>>8&255,wt[2]=I>>>16&255,wt[3]=I>>>24&255,m.check=o(m.check,wt,4,0)),I=0,j=0,m.mode=K;case K:for(;j<16;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}m.head&&(m.head.xflags=I&255,m.head.os=I>>8),m.flags&512&&(wt[0]=I&255,wt[1]=I>>>8&255,m.check=o(m.check,wt,2,0)),I=0,j=0,m.mode=J;case J:if(m.flags&1024){for(;j<16;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}m.length=I,m.head&&(m.head.extra_len=I),m.flags&512&&(wt[0]=I&255,wt[1]=I>>>8&255,m.check=o(m.check,wt,2,0)),I=0,j=0}else m.head&&(m.head.extra=null);m.mode=ge;case ge:if(m.flags&1024&&(me=m.length,me>H&&(me=H),me&&(m.head&&(ht=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),s.arraySet(m.head.extra,ee,h,me,ht)),m.flags&512&&(m.check=o(m.check,ee,me,h)),H-=me,h+=me,m.length-=me),m.length))break e;m.length=0,m.mode=De;case De:if(m.flags&2048){if(H===0)break e;me=0;do ht=ee[h+me++],m.head&&ht&&m.length<65536&&(m.head.name+=String.fromCharCode(ht));while(ht&&me<H);if(m.flags&512&&(m.check=o(m.check,ee,me,h)),H-=me,h+=me,ht)break e}else m.head&&(m.head.name=null);m.length=0,m.mode=Ae;case Ae:if(m.flags&4096){if(H===0)break e;me=0;do ht=ee[h+me++],m.head&&ht&&m.length<65536&&(m.head.comment+=String.fromCharCode(ht));while(ht&&me<H);if(m.flags&512&&(m.check=o(m.check,ee,me,h)),H-=me,h+=me,ht)break e}else m.head&&(m.head.comment=null);m.mode=de;case de:if(m.flags&512){for(;j<16;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}if(I!==(m.check&65535)){L.msg="header crc mismatch",m.mode=$;break}I=0,j=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),L.adler=m.check=0,m.mode=Te;break;case le:for(;j<32;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}L.adler=m.check=he(I),I=0,j=0,m.mode=se;case se:if(m.havedict===0)return L.next_out=q,L.avail_out=b,L.next_in=h,L.avail_in=H,m.hold=I,m.bits=j,y;L.adler=m.check=1,m.mode=Te;case Te:if(V===C||V===T)break e;case He:if(m.last){I>>>=j&7,j-=j&7,m.mode=O;break}for(;j<3;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}switch(m.last=I&1,I>>>=1,j-=1,I&3){case 0:m.mode=Oe;break;case 1:if(mt(m),m.mode=Xe,V===T){I>>>=2,j-=2;break e}break;case 2:m.mode=Pe;break;case 3:L.msg="invalid block type",m.mode=$}I>>>=2,j-=2;break;case Oe:for(I>>>=j&7,j-=j&7;j<32;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}if((I&65535)!==(I>>>16^65535)){L.msg="invalid stored block lengths",m.mode=$;break}if(m.length=I&65535,I=0,j=0,m.mode=be,V===T)break e;case be:m.mode=qe;case qe:if(me=m.length,me){if(me>H&&(me=H),me>b&&(me=b),me===0)break e;s.arraySet(Ce,ee,h,me,q),H-=me,h+=me,b-=me,q+=me,m.length-=me;break}m.mode=Te;break;case Pe:for(;j<14;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}if(m.nlen=(I&31)+257,I>>>=5,j-=5,m.ndist=(I&31)+1,I>>>=5,j-=5,m.ncode=(I&15)+4,I>>>=4,j-=4,m.nlen>286||m.ndist>30){L.msg="too many length or distance symbols",m.mode=$;break}m.have=0,m.mode=vt;case vt:for(;m.have<m.ncode;){for(;j<3;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}m.lens[fn[m.have++]]=I&7,I>>>=3,j-=3}for(;m.have<19;)m.lens[fn[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,Jt={bits:m.lenbits},Ft=f(l,m.lens,0,19,m.lencode,0,m.work,Jt),m.lenbits=Jt.bits,Ft){L.msg="invalid code lengths set",m.mode=$;break}m.have=0,m.mode=it;case it:for(;m.have<m.nlen+m.ndist;){for(;at=m.lencode[I&(1<<m.lenbits)-1],ze=at>>>24,dt=at>>>16&255,Et=at&65535,!(ze<=j);){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}if(Et<16)I>>>=ze,j-=ze,m.lens[m.have++]=Et;else{if(Et===16){for(qt=ze+2;j<qt;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}if(I>>>=ze,j-=ze,m.have===0){L.msg="invalid bit length repeat",m.mode=$;break}ht=m.lens[m.have-1],me=3+(I&3),I>>>=2,j-=2}else if(Et===17){for(qt=ze+3;j<qt;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}I>>>=ze,j-=ze,ht=0,me=3+(I&7),I>>>=3,j-=3}else{for(qt=ze+7;j<qt;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}I>>>=ze,j-=ze,ht=0,me=11+(I&127),I>>>=7,j-=7}if(m.have+me>m.nlen+m.ndist){L.msg="invalid bit length repeat",m.mode=$;break}for(;me--;)m.lens[m.have++]=ht}}if(m.mode===$)break;if(m.lens[256]===0){L.msg="invalid code -- missing end-of-block",m.mode=$;break}if(m.lenbits=9,Jt={bits:m.lenbits},Ft=f(c,m.lens,0,m.nlen,m.lencode,0,m.work,Jt),m.lenbits=Jt.bits,Ft){L.msg="invalid literal/lengths set",m.mode=$;break}if(m.distbits=6,m.distcode=m.distdyn,Jt={bits:m.distbits},Ft=f(p,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,Jt),m.distbits=Jt.bits,Ft){L.msg="invalid distances set",m.mode=$;break}if(m.mode=Xe,V===T)break e;case Xe:m.mode=Re;case Re:if(H>=6&&b>=258){L.next_out=q,L.avail_out=b,L.next_in=h,L.avail_in=H,m.hold=I,m.bits=j,u(L,ve),q=L.next_out,Ce=L.output,b=L.avail_out,h=L.next_in,ee=L.input,H=L.avail_in,I=m.hold,j=m.bits,m.mode===Te&&(m.back=-1);break}for(m.back=0;at=m.lencode[I&(1<<m.lenbits)-1],ze=at>>>24,dt=at>>>16&255,Et=at&65535,!(ze<=j);){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}if(dt&&!(dt&240)){for(Ct=ze,Xi=dt,Ki=Et;at=m.lencode[Ki+((I&(1<<Ct+Xi)-1)>>Ct)],ze=at>>>24,dt=at>>>16&255,Et=at&65535,!(Ct+ze<=j);){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}I>>>=Ct,j-=Ct,m.back+=Ct}if(I>>>=ze,j-=ze,m.back+=ze,m.length=Et,dt===0){m.mode=S;break}if(dt&32){m.back=-1,m.mode=Te;break}if(dt&64){L.msg="invalid literal/length code",m.mode=$;break}m.extra=dt&15,m.mode=ft;case ft:if(m.extra){for(qt=m.extra;j<qt;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}m.length+=I&(1<<m.extra)-1,I>>>=m.extra,j-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=Ke;case Ke:for(;at=m.distcode[I&(1<<m.distbits)-1],ze=at>>>24,dt=at>>>16&255,Et=at&65535,!(ze<=j);){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}if(!(dt&240)){for(Ct=ze,Xi=dt,Ki=Et;at=m.distcode[Ki+((I&(1<<Ct+Xi)-1)>>Ct)],ze=at>>>24,dt=at>>>16&255,Et=at&65535,!(Ct+ze<=j);){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}I>>>=Ct,j-=Ct,m.back+=Ct}if(I>>>=ze,j-=ze,m.back+=ze,dt&64){L.msg="invalid distance code",m.mode=$;break}m.offset=Et,m.extra=dt&15,m.mode=je;case je:if(m.extra){for(qt=m.extra;j<qt;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}m.offset+=I&(1<<m.extra)-1,I>>>=m.extra,j-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){L.msg="invalid distance too far back",m.mode=$;break}m.mode=Qe;case Qe:if(b===0)break e;if(me=ve-b,m.offset>me){if(me=m.offset-me,me>m.whave&&m.sane){L.msg="invalid distance too far back",m.mode=$;break}me>m.wnext?(me-=m.wnext,Le=m.wsize-me):Le=m.wnext-me,me>m.length&&(me=m.length),Kt=m.window}else Kt=Ce,Le=q-m.offset,me=m.length;me>b&&(me=b),b-=me,m.length-=me;do Ce[q++]=Kt[Le++];while(--me);m.length===0&&(m.mode=Re);break;case S:if(b===0)break e;Ce[q++]=m.length,b--,m.mode=Re;break;case O:if(m.wrap){for(;j<32;){if(H===0)break e;H--,I|=ee[h++]<<j,j+=8}if(ve-=b,L.total_out+=ve,m.total+=ve,ve&&(L.adler=m.check=m.flags?o(m.check,Ce,ve,q-ve):a(m.check,Ce,ve,q-ve)),ve=b,(m.flags?I:he(I))!==m.check){L.msg="incorrect data check",m.mode=$;break}I=0,j=0}m.mode=W;case W:if(m.wrap&&m.flags){for(;j<32;){if(H===0)break e;H--,I+=ee[h++]<<j,j+=8}if(I!==(m.total&4294967295)){L.msg="incorrect length check",m.mode=$;break}I=0,j=0}m.mode=Q;case Q:Ft=g;break e;case $:Ft=k;break e;case X:return _;case fe:default:return x}return L.next_out=q,L.avail_out=b,L.next_in=h,L.avail_in=H,m.hold=I,m.bits=j,(m.wsize||ve!==L.avail_out&&m.mode<$&&(m.mode<O||V!==v))&&Xt(L,L.output,L.next_out,ve-L.avail_out),we-=L.avail_in,ve-=L.avail_out,L.total_in+=we,L.total_out+=ve,m.total+=ve,m.wrap&&ve&&(L.adler=m.check=m.flags?o(m.check,Ce,ve,L.next_out-ve):a(m.check,Ce,ve,L.next_out-ve)),L.data_type=m.bits+(m.last?64:0)+(m.mode===Te?128:0)+(m.mode===Xe||m.mode===be?256:0),(we===0&&ve===0||V===v)&&Ft===d&&(Ft=D),Ft}function Z(L){if(!L||!L.state)return x;var V=L.state;return V.window&&(V.window=null),L.state=null,d}function re(L,V){var m;return!L||!L.state||(m=L.state,!(m.wrap&2))?x:(m.head=V,V.done=!1,d)}function ye(L,V){var m=V.length,ee,Ce,h;return!L||!L.state||(ee=L.state,ee.wrap!==0&&ee.mode!==se)?x:ee.mode===se&&(Ce=1,Ce=a(Ce,V,m,0),Ce!==ee.check)?k:(h=Xt(L,V,m,m),h?(ee.mode=X,_):(ee.havedict=1,d))}n.inflateReset=Se,n.inflateReset2=Fe,n.inflateResetKeep=xe,n.inflateInit=Je,n.inflateInit2=Ie,n.inflate=E,n.inflateEnd=Z,n.inflateGetHeader=re,n.inflateSetDictionary=ye,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,n){var s=t("../utils/common"),a=15,o=852,u=592,f=0,l=1,c=2,p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(g,y,x,k,_,D,N,B){var U=B.bits,M=0,K=0,J=0,ge=0,De=0,Ae=0,de=0,le=0,se=0,Te=0,He,Oe,be,qe,Pe,vt=null,it=0,Xe,Re=new s.Buf16(a+1),ft=new s.Buf16(a+1),Ke=null,je=0,Qe,S,O;for(M=0;M<=a;M++)Re[M]=0;for(K=0;K<k;K++)Re[y[x+K]]++;for(De=U,ge=a;ge>=1&&Re[ge]===0;ge--);if(De>ge&&(De=ge),ge===0)return _[D++]=1<<24|64<<16|0,_[D++]=1<<24|64<<16|0,B.bits=1,0;for(J=1;J<ge&&Re[J]===0;J++);for(De<J&&(De=J),le=1,M=1;M<=a;M++)if(le<<=1,le-=Re[M],le<0)return-1;if(le>0&&(g===f||ge!==1))return-1;for(ft[1]=0,M=1;M<a;M++)ft[M+1]=ft[M]+Re[M];for(K=0;K<k;K++)y[x+K]!==0&&(N[ft[y[x+K]]++]=K);if(g===f?(vt=Ke=N,Xe=19):g===l?(vt=p,it-=257,Ke=v,je-=257,Xe=256):(vt=C,Ke=T,Xe=-1),Te=0,K=0,M=J,Pe=D,Ae=De,de=0,be=-1,se=1<<De,qe=se-1,g===l&&se>o||g===c&&se>u)return 1;for(;;){Qe=M-de,N[K]<Xe?(S=0,O=N[K]):N[K]>Xe?(S=Ke[je+N[K]],O=vt[it+N[K]]):(S=96,O=0),He=1<<M-de,Oe=1<<Ae,J=Oe;do Oe-=He,_[Pe+(Te>>de)+Oe]=Qe<<24|S<<16|O|0;while(Oe!==0);for(He=1<<M-1;Te&He;)He>>=1;if(He!==0?(Te&=He-1,Te+=He):Te=0,K++,--Re[M]===0){if(M===ge)break;M=y[x+N[K]]}if(M>De&&(Te&qe)!==be){for(de===0&&(de=De),Pe+=J,Ae=M-de,le=1<<Ae;Ae+de<ge&&(le-=Re[Ae+de],!(le<=0));)Ae++,le<<=1;if(se+=1<<Ae,g===l&&se>o||g===c&&se>u)return 1;be=Te&qe,_[be]=De<<24|Ae<<16|Pe-D|0}}return Te!==0&&(_[Pe+Te]=M-de<<24|64<<16|0),B.bits=De,0}},{"../utils/common":41}],51:[function(t,r,n){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,n){var s=t("../utils/common"),a=4,o=0,u=1,f=2;function l(E){for(var Z=E.length;--Z>=0;)E[Z]=0}var c=0,p=1,v=2,C=3,T=258,d=29,g=256,y=g+1+d,x=30,k=19,_=2*y+1,D=15,N=16,B=7,U=256,M=16,K=17,J=18,ge=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],De=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],de=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=512,se=new Array((y+2)*2);l(se);var Te=new Array(x*2);l(Te);var He=new Array(le);l(He);var Oe=new Array(T-C+1);l(Oe);var be=new Array(d);l(be);var qe=new Array(x);l(qe);function Pe(E,Z,re,ye,L){this.static_tree=E,this.extra_bits=Z,this.extra_base=re,this.elems=ye,this.max_length=L,this.has_stree=E&&E.length}var vt,it,Xe;function Re(E,Z){this.dyn_tree=E,this.max_code=0,this.stat_desc=Z}function ft(E){return E<256?He[E]:He[256+(E>>>7)]}function Ke(E,Z){E.pending_buf[E.pending++]=Z&255,E.pending_buf[E.pending++]=Z>>>8&255}function je(E,Z,re){E.bi_valid>N-re?(E.bi_buf|=Z<<E.bi_valid&65535,Ke(E,E.bi_buf),E.bi_buf=Z>>N-E.bi_valid,E.bi_valid+=re-N):(E.bi_buf|=Z<<E.bi_valid&65535,E.bi_valid+=re)}function Qe(E,Z,re){je(E,re[Z*2],re[Z*2+1])}function S(E,Z){var re=0;do re|=E&1,E>>>=1,re<<=1;while(--Z>0);return re>>>1}function O(E){E.bi_valid===16?(Ke(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):E.bi_valid>=8&&(E.pending_buf[E.pending++]=E.bi_buf&255,E.bi_buf>>=8,E.bi_valid-=8)}function W(E,Z){var re=Z.dyn_tree,ye=Z.max_code,L=Z.stat_desc.static_tree,V=Z.stat_desc.has_stree,m=Z.stat_desc.extra_bits,ee=Z.stat_desc.extra_base,Ce=Z.stat_desc.max_length,h,q,H,b,I,j,we=0;for(b=0;b<=D;b++)E.bl_count[b]=0;for(re[E.heap[E.heap_max]*2+1]=0,h=E.heap_max+1;h<_;h++)q=E.heap[h],b=re[re[q*2+1]*2+1]+1,b>Ce&&(b=Ce,we++),re[q*2+1]=b,!(q>ye)&&(E.bl_count[b]++,I=0,q>=ee&&(I=m[q-ee]),j=re[q*2],E.opt_len+=j*(b+I),V&&(E.static_len+=j*(L[q*2+1]+I)));if(we!==0){do{for(b=Ce-1;E.bl_count[b]===0;)b--;E.bl_count[b]--,E.bl_count[b+1]+=2,E.bl_count[Ce]--,we-=2}while(we>0);for(b=Ce;b!==0;b--)for(q=E.bl_count[b];q!==0;)H=E.heap[--h],!(H>ye)&&(re[H*2+1]!==b&&(E.opt_len+=(b-re[H*2+1])*re[H*2],re[H*2+1]=b),q--)}}function Q(E,Z,re){var ye=new Array(D+1),L=0,V,m;for(V=1;V<=D;V++)ye[V]=L=L+re[V-1]<<1;for(m=0;m<=Z;m++){var ee=E[m*2+1];ee!==0&&(E[m*2]=S(ye[ee]++,ee))}}function $(){var E,Z,re,ye,L,V=new Array(D+1);for(re=0,ye=0;ye<d-1;ye++)for(be[ye]=re,E=0;E<1<<ge[ye];E++)Oe[re++]=ye;for(Oe[re-1]=ye,L=0,ye=0;ye<16;ye++)for(qe[ye]=L,E=0;E<1<<De[ye];E++)He[L++]=ye;for(L>>=7;ye<x;ye++)for(qe[ye]=L<<7,E=0;E<1<<De[ye]-7;E++)He[256+L++]=ye;for(Z=0;Z<=D;Z++)V[Z]=0;for(E=0;E<=143;)se[E*2+1]=8,E++,V[8]++;for(;E<=255;)se[E*2+1]=9,E++,V[9]++;for(;E<=279;)se[E*2+1]=7,E++,V[7]++;for(;E<=287;)se[E*2+1]=8,E++,V[8]++;for(Q(se,y+1,V),E=0;E<x;E++)Te[E*2+1]=5,Te[E*2]=S(E,5);vt=new Pe(se,ge,g+1,y,D),it=new Pe(Te,De,0,x,D),Xe=new Pe(new Array(0),Ae,0,k,B)}function X(E){var Z;for(Z=0;Z<y;Z++)E.dyn_ltree[Z*2]=0;for(Z=0;Z<x;Z++)E.dyn_dtree[Z*2]=0;for(Z=0;Z<k;Z++)E.bl_tree[Z*2]=0;E.dyn_ltree[U*2]=1,E.opt_len=E.static_len=0,E.last_lit=E.matches=0}function fe(E){E.bi_valid>8?Ke(E,E.bi_buf):E.bi_valid>0&&(E.pending_buf[E.pending++]=E.bi_buf),E.bi_buf=0,E.bi_valid=0}function ne(E,Z,re,ye){fe(E),Ke(E,re),Ke(E,~re),s.arraySet(E.pending_buf,E.window,Z,re,E.pending),E.pending+=re}function te(E,Z,re,ye){var L=Z*2,V=re*2;return E[L]<E[V]||E[L]===E[V]&&ye[Z]<=ye[re]}function G(E,Z,re){for(var ye=E.heap[re],L=re<<1;L<=E.heap_len&&(L<E.heap_len&&te(Z,E.heap[L+1],E.heap[L],E.depth)&&L++,!te(Z,ye,E.heap[L],E.depth));)E.heap[re]=E.heap[L],re=L,L<<=1;E.heap[re]=ye}function ae(E,Z,re){var ye,L,V=0,m,ee;if(E.last_lit!==0)do ye=E.pending_buf[E.d_buf+V*2]<<8|E.pending_buf[E.d_buf+V*2+1],L=E.pending_buf[E.l_buf+V],V++,ye===0?Qe(E,L,Z):(m=Oe[L],Qe(E,m+g+1,Z),ee=ge[m],ee!==0&&(L-=be[m],je(E,L,ee)),ye--,m=ft(ye),Qe(E,m,re),ee=De[m],ee!==0&&(ye-=qe[m],je(E,ye,ee)));while(V<E.last_lit);Qe(E,U,Z)}function he(E,Z){var re=Z.dyn_tree,ye=Z.stat_desc.static_tree,L=Z.stat_desc.has_stree,V=Z.stat_desc.elems,m,ee,Ce=-1,h;for(E.heap_len=0,E.heap_max=_,m=0;m<V;m++)re[m*2]!==0?(E.heap[++E.heap_len]=Ce=m,E.depth[m]=0):re[m*2+1]=0;for(;E.heap_len<2;)h=E.heap[++E.heap_len]=Ce<2?++Ce:0,re[h*2]=1,E.depth[h]=0,E.opt_len--,L&&(E.static_len-=ye[h*2+1]);for(Z.max_code=Ce,m=E.heap_len>>1;m>=1;m--)G(E,re,m);h=V;do m=E.heap[1],E.heap[1]=E.heap[E.heap_len--],G(E,re,1),ee=E.heap[1],E.heap[--E.heap_max]=m,E.heap[--E.heap_max]=ee,re[h*2]=re[m*2]+re[ee*2],E.depth[h]=(E.depth[m]>=E.depth[ee]?E.depth[m]:E.depth[ee])+1,re[m*2+1]=re[ee*2+1]=h,E.heap[1]=h++,G(E,re,1);while(E.heap_len>=2);E.heap[--E.heap_max]=E.heap[1],W(E,Z),Q(re,Ce,E.bl_count)}function _e(E,Z,re){var ye,L=-1,V,m=Z[0*2+1],ee=0,Ce=7,h=4;for(m===0&&(Ce=138,h=3),Z[(re+1)*2+1]=65535,ye=0;ye<=re;ye++)V=m,m=Z[(ye+1)*2+1],!(++ee<Ce&&V===m)&&(ee<h?E.bl_tree[V*2]+=ee:V!==0?(V!==L&&E.bl_tree[V*2]++,E.bl_tree[M*2]++):ee<=10?E.bl_tree[K*2]++:E.bl_tree[J*2]++,ee=0,L=V,m===0?(Ce=138,h=3):V===m?(Ce=6,h=3):(Ce=7,h=4))}function xe(E,Z,re){var ye,L=-1,V,m=Z[0*2+1],ee=0,Ce=7,h=4;for(m===0&&(Ce=138,h=3),ye=0;ye<=re;ye++)if(V=m,m=Z[(ye+1)*2+1],!(++ee<Ce&&V===m)){if(ee<h)do Qe(E,V,E.bl_tree);while(--ee!==0);else V!==0?(V!==L&&(Qe(E,V,E.bl_tree),ee--),Qe(E,M,E.bl_tree),je(E,ee-3,2)):ee<=10?(Qe(E,K,E.bl_tree),je(E,ee-3,3)):(Qe(E,J,E.bl_tree),je(E,ee-11,7));ee=0,L=V,m===0?(Ce=138,h=3):V===m?(Ce=6,h=3):(Ce=7,h=4)}}function Se(E){var Z;for(_e(E,E.dyn_ltree,E.l_desc.max_code),_e(E,E.dyn_dtree,E.d_desc.max_code),he(E,E.bl_desc),Z=k-1;Z>=3&&E.bl_tree[de[Z]*2+1]===0;Z--);return E.opt_len+=3*(Z+1)+5+5+4,Z}function Fe(E,Z,re,ye){var L;for(je(E,Z-257,5),je(E,re-1,5),je(E,ye-4,4),L=0;L<ye;L++)je(E,E.bl_tree[de[L]*2+1],3);xe(E,E.dyn_ltree,Z-1),xe(E,E.dyn_dtree,re-1)}function Ie(E){var Z=4093624447,re;for(re=0;re<=31;re++,Z>>>=1)if(Z&1&&E.dyn_ltree[re*2]!==0)return o;if(E.dyn_ltree[9*2]!==0||E.dyn_ltree[10*2]!==0||E.dyn_ltree[13*2]!==0)return u;for(re=32;re<g;re++)if(E.dyn_ltree[re*2]!==0)return u;return o}var Je=!1;function rt(E){Je||($(),Je=!0),E.l_desc=new Re(E.dyn_ltree,vt),E.d_desc=new Re(E.dyn_dtree,it),E.bl_desc=new Re(E.bl_tree,Xe),E.bi_buf=0,E.bi_valid=0,X(E)}function ut(E,Z,re,ye){je(E,(c<<1)+(ye?1:0),3),ne(E,Z,re)}function We(E){je(E,p<<1,3),Qe(E,U,se),O(E)}function mt(E,Z,re,ye){var L,V,m=0;E.level>0?(E.strm.data_type===f&&(E.strm.data_type=Ie(E)),he(E,E.l_desc),he(E,E.d_desc),m=Se(E),L=E.opt_len+3+7>>>3,V=E.static_len+3+7>>>3,V<=L&&(L=V)):L=V=re+5,re+4<=L&&Z!==-1?ut(E,Z,re,ye):E.strategy===a||V===L?(je(E,(p<<1)+(ye?1:0),3),ae(E,se,Te)):(je(E,(v<<1)+(ye?1:0),3),Fe(E,E.l_desc.max_code+1,E.d_desc.max_code+1,m+1),ae(E,E.dyn_ltree,E.dyn_dtree)),X(E),ye&&fe(E)}function Xt(E,Z,re){return E.pending_buf[E.d_buf+E.last_lit*2]=Z>>>8&255,E.pending_buf[E.d_buf+E.last_lit*2+1]=Z&255,E.pending_buf[E.l_buf+E.last_lit]=re&255,E.last_lit++,Z===0?E.dyn_ltree[re*2]++:(E.matches++,Z--,E.dyn_ltree[(Oe[re]+g+1)*2]++,E.dyn_dtree[ft(Z)*2]++),E.last_lit===E.lit_bufsize-1}n._tr_init=rt,n._tr_stored_block=ut,n._tr_flush_block=mt,n._tr_tally=Xt,n._tr_align=We},{"../utils/common":41}],53:[function(t,r,n){function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r.exports=s},{}],54:[function(t,r,n){(function(s){(function(a,o){if(a.setImmediate)return;var u=1,f={},l=!1,c=a.document,p;function v(B){typeof B!="function"&&(B=new Function(""+B));for(var U=new Array(arguments.length-1),M=0;M<U.length;M++)U[M]=arguments[M+1];var K={callback:B,args:U};return f[u]=K,p(u),u++}function C(B){delete f[B]}function T(B){var U=B.callback,M=B.args;switch(M.length){case 0:U();break;case 1:U(M[0]);break;case 2:U(M[0],M[1]);break;case 3:U(M[0],M[1],M[2]);break;default:U.apply(o,M);break}}function d(B){if(l)setTimeout(d,0,B);else{var U=f[B];if(U){l=!0;try{T(U)}finally{C(B),l=!1}}}}function g(){p=function(B){process.nextTick(function(){d(B)})}}function y(){if(a.postMessage&&!a.importScripts){var B=!0,U=a.onmessage;return a.onmessage=function(){B=!1},a.postMessage("","*"),a.onmessage=U,B}}function x(){var B="setImmediate$"+Math.random()+"$",U=function(M){M.source===a&&typeof M.data=="string"&&M.data.indexOf(B)===0&&d(+M.data.slice(B.length))};a.addEventListener?a.addEventListener("message",U,!1):a.attachEvent("onmessage",U),p=function(M){a.postMessage(B+M,"*")}}function k(){var B=new MessageChannel;B.port1.onmessage=function(U){var M=U.data;d(M)},p=function(U){B.port2.postMessage(U)}}function _(){var B=c.documentElement;p=function(U){var M=c.createElement("script");M.onreadystatechange=function(){d(U),M.onreadystatechange=null,B.removeChild(M),M=null},B.appendChild(M)}}function D(){p=function(B){setTimeout(d,0,B)}}var N=Object.getPrototypeOf&&Object.getPrototypeOf(a);N=N&&N.setTimeout?N:a,{}.toString.call(a.process)==="[object process]"?g():y()?x():a.MessageChannel?k():c&&"onreadystatechange"in c.createElement("script")?_():D(),N.setImmediate=v,N.clearImmediate=C})(typeof self>"u"?typeof s>"u"?this:s:self)}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Df);var Tv=Df.exports;const kv=Er(Tv);class Nv{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new kv}catch{throw new Error("JSZip lib not loaded")}}open(e,t){return this.zip.loadAsync(e,{base64:t})}openUrl(e,t){return Kr(e,"binary").then((function(r){return this.zip.loadAsync(r,{base64:t})}).bind(this))}request(e,t){var r=new Me,n,s=new Ai(e);return t||(t=s.extension),t=="blob"?n=this.getBlob(e):n=this.getText(e),n?n.then((function(a){let o=this.handleResponse(a,t);r.resolve(o)}).bind(this)):r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise}handleResponse(e,t){var r;return t=="json"?r=JSON.parse(e):Xr(t)?r=ci(e,"text/xml"):t=="xhtml"?r=ci(e,"application/xhtml+xml"):t=="html"||t=="htm"?r=ci(e,"text/html"):r=e,r}getBlob(e,t){var r=window.decodeURIComponent(e.substr(1)),n=this.zip.file(r);if(n)return t=t||gr.lookup(n.name),n.async("uint8array").then(function(s){return new Blob([s],{type:t})})}getText(e,t){var r=window.decodeURIComponent(e.substr(1)),n=this.zip.file(r);if(n)return n.async("string").then(function(s){return s})}getBase64(e,t){var r=window.decodeURIComponent(e.substr(1)),n=this.zip.file(r);if(n)return t=t||gr.lookup(n.name),n.async("base64").then(function(s){return"data:"+t+";base64,"+s})}createUrl(e,t){var r=new Me,n=window.URL||window.webkitURL||window.mozURL,s,a,o=t&&t.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(o?(a=this.getBase64(e),a&&a.then((function(u){this.urlCache[e]=u,r.resolve(u)}).bind(this))):(a=this.getBlob(e),a&&a.then((function(u){s=n.createObjectURL(u),this.urlCache[e]=s,r.resolve(s)}).bind(this))),a||r.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&t.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.zip=void 0,this.urlCache={}}}class Cf{constructor(e,t,r){this.urlCache={},this.storage=void 0,this.name=e,this.requester=t||Kr,this.resolver=r,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof On>"u"&&(e=On),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let t=navigator.onLine;this.online=t,t?this.emit("online",this):this.emit("offline",this)}add(e,t){let r=e.resources.map(n=>{let{href:s}=n,a=this.resolver(s),o=window.encodeURIComponent(a);return this.storage.getItem(o).then(u=>!u||t?this.requester(a,"binary").then(f=>this.storage.setItem(o,f)):u)});return Promise.all(r)}put(e,t,r){let n=window.encodeURIComponent(e);return this.storage.getItem(n).then(s=>s||this.requester(e,"binary",t,r).then(a=>this.storage.setItem(n,a)))}request(e,t,r,n){return this.online?this.requester(e,t,r,n).then(s=>(this.put(e),s)):this.retrieve(e,t)}retrieve(e,t){new Me;var r,n=new Ai(e);return t||(t=n.extension),t=="blob"?r=this.getBlob(e):r=this.getText(e),r.then(s=>{var a=new Me,o;return s?(o=this.handleResponse(s,t),a.resolve(o)):a.reject({message:"File not found in storage: "+e,stack:new Error().stack}),a.promise})}handleResponse(e,t){var r;return t=="json"?r=JSON.parse(e):Xr(t)?r=ci(e,"text/xml"):t=="xhtml"?r=ci(e,"application/xhtml+xml"):t=="html"||t=="htm"?r=ci(e,"text/html"):r=e,r}getBlob(e,t){let r=window.encodeURIComponent(e);return this.storage.getItem(r).then(function(n){if(n)return t=t||gr.lookup(e),new Blob([n],{type:t})})}getText(e,t){let r=window.encodeURIComponent(e);return t=t||gr.lookup(e),this.storage.getItem(r).then(function(n){var s=new Me,a=new FileReader,o;if(n)return o=new Blob([n],{type:t}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsText(o,t),s.promise})}getBase64(e,t){let r=window.encodeURIComponent(e);return t=t||gr.lookup(e),this.storage.getItem(r).then(n=>{var s=new Me,a=new FileReader,o;if(n)return o=new Blob([n],{type:t}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsDataURL(o,t),s.promise})}createUrl(e,t){var r=new Me,n=window.URL||window.webkitURL||window.mozURL,s,a,o=t&&t.base64;return e in this.urlCache?(r.resolve(this.urlCache[e]),r.promise):(o?(a=this.getBase64(e),a&&a.then((function(u){this.urlCache[e]=u,r.resolve(u)}).bind(this))):(a=this.getBlob(e),a&&a.then((function(u){s=n.createObjectURL(u),this.urlCache[e]=s,r.resolve(s)}).bind(this))),a||r.reject({message:"File not found in storage: "+e,stack:new Error().stack}),r.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,r=this.urlCache[e];r&&t.revokeObjectURL(r)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.urlCache={},this.removeListeners()}}pi(Cf.prototype);class zs{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const t=et(e,"display_options");return t?(xi(t,"option").forEach(n=>{let s="";switch(n.childNodes.length&&(s=n.childNodes[0].nodeValue),n.attributes.name.value){case"interactive":this.interactive=s;break;case"fixed-layout":this.fixedLayout=s;break;case"open-to-spread":this.openToSpread=s;break;case"orientation-lock":this.orientationLock=s;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const uu="META-INF/container.xml",Rv="META-INF/com.apple.ibooks.display-options.xml",Qt={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class Ga{constructor(e,t){typeof t>"u"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(t=e,e=void 0),this.settings=At(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),At(this.settings,t),this.opening=new Me,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Me,spine:new Me,metadata:new Me,cover:new Me,navigation:new Me,pageList:new Me,resources:new Me,displayOptions:new Me},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||Kr,this.spine=new Xp,this.locations=new lf(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(r=>{var n=new Error("Cannot load book at "+e);this.emit(pe.BOOK.OPEN_FAILED,n)})}open(e,t){var r,n=t||this.determineType(e);return n===Qt.BINARY?(this.archived=!0,this.url=new ei("/",""),r=this.openEpub(e)):n===Qt.BASE64?(this.archived=!0,this.url=new ei("/",""),r=this.openEpub(e,n)):n===Qt.EPUB?(this.archived=!0,this.url=new ei("/",""),r=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):n==Qt.OPF?(this.url=new ei(e),r=this.openPackaging(this.url.Path.toString())):n==Qt.MANIFEST?(this.url=new ei(e),r=this.openManifest(this.url.Path.toString())):(this.url=new ei(e),r=this.openContainer(uu).then(this.openPackaging.bind(this))),r}openEpub(e,t){return this.unarchive(e,t||this.settings.encoding).then(()=>this.openContainer(uu)).then(r=>this.openPackaging(r))}openContainer(e){return this.load(e).then(t=>(this.container=new Kp(t),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new Ai(e),this.load(e).then(t=>(this.packaging=new eu(t),this.unpack(this.packaging)))}openManifest(e){return this.path=new Ai(e),this.load(e).then(t=>(this.packaging=new eu,this.packaging.load(t),this.unpack(this.packaging)))}load(e){var t=this.resolve(e);return this.archived?this.archive.request(t):this.request(t,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,t){if(e){var r=e,n=e.indexOf("://")>-1;return n?e:(this.path&&(r=this.path.resolve(e)),t!=!1&&this.url&&(r=this.url.resolve(r)),r)}}canonical(e){var t=e;return e?(this.settings.canonical?t=this.settings.canonical(e):t=this.resolve(e,!0),t):""}determineType(e){var t,r,n;if(this.settings.encoding==="base64")return Qt.BASE64;if(typeof e!="string")return Qt.BINARY;if(t=new ei(e),r=t.path(),n=r.extension,n&&(n=n.replace(/\?.*$/,"")),!n)return Qt.DIRECTORY;if(n==="epub")return Qt.EPUB;if(n==="opf")return Qt.OPF;if(n==="json")return Qt.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(Rv)).then(t=>{this.displayOptions=new zs(t),this.loading.displayOptions.resolve(this.displayOptions)}).catch(t=>{this.displayOptions=new zs,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new zs,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new tg(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(t=>{console.error(t)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let t=e.navPath||e.ncxPath,r=e.toc;return r?new Promise((n,s)=>{this.navigation=new Ls(r),e.pageList&&(this.pageList=new Fs(e.pageList)),n(this.navigation)}):t?this.load(t,"xml").then(n=>(this.navigation=new Ls(n),this.pageList=new Fs(n),this.navigation)):new Promise((n,s)=>{this.navigation=new Ls,this.pageList=new Fs,n(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,t){return this.rendition=new Va(this,t),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,t){return this.archive=new Nv,this.archive.open(e,t)}store(e){let t=this.settings.replacements&&this.settings.replacements!=="none",r=this.url,n=this.settings.requestMethod||Kr.bind(this);return this.storage=new Cf(e,n,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let s=(a,o)=>{o.output=this.resources.substitute(a,o.url)};this.resources.settings.replacements=t||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new ei("/",""),this.spine.hooks.serialize.register(s)}),this.storage.on("online",()=>{this.url=r,this.spine.hooks.serialize.deregister(s)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,t)=>{t.output=this.resources.substitute(e,t.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var t=new Ue(e),r=this.spine.get(t.spinePos),n=this.load.bind(this);return r?r.load(n).then(function(s){var a=t.toRange(r.document);return a}):new Promise((s,a)=>{a("CFI could not be found")})}key(e){var t=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${os}:${t}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}pi(Ga.prototype);function Mi(i,e){return new Ga(i,e)}Mi.VERSION=os;typeof global<"u"&&(global.EPUBJS_VERSION=os);Mi.Book=Ga;Mi.Rendition=Va;Mi.Contents=qa;Mi.CFI=Ue;Mi.utils=Wp;const Iv={class:"pane"},Ov={class:"title"},Bv=["title","onClick"],Lv={class:"filename"},Fv=Yi({__name:"LibraryPane",props:{bookMap:{},bookList:{}},emits:["updateBook","openBook"],setup(i,{emit:e}){const t=e,r=bi();function n(){r.value&&(r.value.value="",r.value.click())}const s=async o=>{const u=o.target.files;if(!u)return;const f=u[0],l=await f.arrayBuffer(),c=Mi(l);if(c){const p=await c.loaded.metadata,v=p.title;if(i.bookMap.has(v))return;const C=p.creator,T=await c.archive.createUrl(await c.loaded.cover,{base64:!0}),d={fileName:f.name,title:v,author:C||"",coverUrl:T};await Ys.setItem(v,{bookInfo:d,bookData:l}),t("updateBook",d)}};function a(o){t("openBook",o)}return tn(()=>{}),(o,u)=>(tt(),bt("aside",Iv,[ot("header",Ov,[u[1]||(u[1]=Aa("  ")),ot("input",{type:"file",accept:"application/epub+zip",ref_key:"fileRef",ref:r,hidden:"",onChange:s},null,544),ot("button",{class:"add-file",onClick:n},u[0]||(u[0]=[ot("i",{class:"codicon codicon-new-file"},null,-1)]))]),ot("ul",null,[(tt(!0),bt(Bt,null,$r(o.bookList,f=>(tt(),bt("li",{key:f.title,title:f.fileName,onClick:l=>a(f)},[ot("span",Lv,Qr(f.fileName),1)],8,Bv))),128))])]))}}),Pv=Yt(Fv,[["__scopeId","data-v-719aa3a7"]]),zv={class:"book-thumbnail"},Mv=["src"],Uv=Yi({__name:"BookThumbnail",props:{book:{}},setup(i){return(e,t)=>(tt(),bt("div",zv,[ot("img",{src:e.book.coverUrl,alt:"cover"},null,8,Mv),Aa(" "+Qr(e.book.title),1)]))}}),jv=Yt(Uv,[["__scopeId","data-v-b22a8ab0"]]),Wv=["title"],qv=["onClick"],Hv=Yi({__name:"reader-toc",props:{toc:{},level:{}},setup(i){const e=zr("displayChapter"),t=i.level+1;return(r,n)=>{const s=$h("reader-toc",!0);return tt(),bt("ul",{class:vr(["nav-list",`nav-list-${r.level}`])},[(tt(!0),bt(Bt,null,$r(r.toc,a=>{var o;return tt(),bt("li",{key:a.id,title:a.label},[ot("span",{class:"nav-name",onClick:u=>qr(e)&&qr(e)(a.href)},Qr(a.label),9,qv),(o=a.subitems)!=null&&o.length?(tt(),Hi(s,{key:0,toc:a.subitems,level:t},null,8,["toc"])):En("",!0)],8,Wv)}),128))],2)}}}),$v=Yt(Hv,[["__scopeId","data-v-d14f0865"]]),Vv={class:"readerRender"},Gv={class:"toc"},Zv=Yi({__name:"readerRender",props:{book:{},bookInfo:{}},emits:["initRender"],setup(i,{emit:e}){const t=bi();let r;const n=e,s=bi([]);Gu("displayChapter",u);async function a(f){const l=await f.loaded.navigation;s.value=l.toc,console.log(s)}function o(f){f.rendition.hooks.content.register(l=>{let c=l.document,p=c.querySelector("head");Array.from(p.querySelectorAll('link[rel="stylesheet"], style')).forEach(d=>{d.remove()}),c.querySelectorAll("a").forEach(d=>{const g=d.getAttribute("href");g&&(g.startsWith("http://")||g.startsWith("https://")?d.setAttribute("target","_blank"):(d.removeAttribute("href"),d.style.textDecoration="none",d.style.color="inherit",d.style.cursor="text"))});let C=c.createElement("style");p.appendChild(C);const T=c.getElementsByTagName("p");for(let d=T.length-1;d>=0;d--)T[d].innerHTML.replace(/\s|&nbsp;/g,"").length==0&&T[d].parentNode.removeChild(T[d])})}tn(()=>{if(i.book){const f=Mi(i.book);a(f),r=f.renderTo(t.value,{flow:"scrolled-doc",width:"100%",height:"100%"}),o(f),r.display().then(l=>{}).catch(l=>{}),console.log(f),console.log(r),n("initRender",{title:i.bookInfo.title,render:r})}});function u(f){r&&r.display(f)}return(f,l)=>(tt(),bt("div",Vv,[ot("div",{class:"book",ref_key:"readerRef",ref:t},null,512),ot("div",Gv,[Lt($v,{toc:s.value,level:0},null,8,["toc"])])]))}}),Yv=Yt(Zv,[["__scopeId","data-v-9e3b0d48"]]),Xv=["title"],Kv=Yi({__name:"reader-tab",props:{tab:{}},emits:["closeTab","switchTab"],setup(i,{emit:e}){const t=e;function r(s){s.stopPropagation(),t("closeTab",i.tab)}function n(s){t("switchTab",i.tab)}return(s,a)=>(tt(),bt("div",{class:"tab",onClick:n},[a[0]||(a[0]=ot("i",{class:"codicon codicon-file"},null,-1)),ot("span",{class:"title",title:s.tab},Qr(s.tab),9,Xv),ot("i",{class:"codicon codicon-close btn-close",onClick:r})]))}}),Jv=Yt(Kv,[["__scopeId","data-v-39fbeaba"]]),Qv={class:"reader-box"},em={class:"reader-tabs"},tm={class:"reader-list"},im=Yi({__name:"readerContainer",props:{openBookList:{},bookMap:{}},emits:["closeBook"],setup(i,{emit:e}){const t=e,r=bi([]),n={},s=bi("");_n(()=>i.openBookList,()=>{a()},{deep:!0});function a(){r.value.length=0,i.openBookList.forEach(c=>{const p=c.title;r.value.includes(p)||r.value.push(c.title)}),s.value=r.value[r.value.length-1]}function o(c){const p=i.bookMap.get(c.title);if(p)return p.bookData}function u(c){n[c.title]=c.render}function f(c,p){const v=n[c];v&&(v.destroy(),t("closeBook",p),delete n[c])}function l(c){s.value=c}return tn(async()=>{a()}),(c,p)=>(tt(),bt("div",Qv,[ot("nav",em,[(tt(!0),bt(Bt,null,$r(r.value,(v,C)=>(tt(),Hi(Jv,{ref_for:!0,ref:"readerTabs",tab:v,key:v+"_"+C,class:vr({active:s.value===v}),onCloseTab:T=>f(T,C),onSwitchTab:l},null,8,["tab","class","onCloseTab"]))),128))]),ot("div",tm,[(tt(!0),bt(Bt,null,$r(c.openBookList,v=>(tt(),Hi(Yv,{key:v.title,book:o(v),"book-info":v,class:vr({active:s.value===v.title}),onInitRender:u},null,8,["book","book-info","class"]))),128))])]))}}),rm=Yt(im,[["__scopeId","data-v-50113062"]]),nm={class:"slide-bar"},sm={class:"footer"},am={key:1,class:"book-thumbnail-list"},om=Yi({__name:"App",setup(i){const e=bi(""),t=new Map,r=bi([]);function n(u){e.value!==u?e.value=u:e.value=""}function s(u){o.value.push(u)}function a(u){r.value.find(l=>l.title===u.title)||r.value.push(u)}const o=bi([]);return tn(async()=>{const u=await Ys.keys();for(const f of u){const l=await Ys.getItem(f);l&&(o.value.push(l.bookInfo),t.set(f,l))}}),(u,f)=>(tt(),bt(Bt,null,[ot("aside",nm,[ot("button",{onClick:f[0]||(f[0]=l=>n("library"))},[Lt(pd)]),ot("button",{onClick:f[1]||(f[1]=l=>n("search"))},[Lt(yd)]),ot("button",{onClick:f[2]||(f[2]=l=>n("typography"))},[Lt(Ed)]),ot("button",{onClick:f[3]||(f[3]=l=>n("theme"))},[Lt(Cd)]),ot("footer",sm,[ot("button",null,[Lt(Nd)])])]),e.value==="library"?(tt(),Hi(Pv,{key:0,onUpdateBook:s,"book-map":qr(t),"book-list":o.value,onOpenBook:a},null,8,["book-map","book-list"])):En("",!0),r.value.length===0?(tt(),bt("div",am,[(tt(!0),bt(Bt,null,$r(o.value,l=>(tt(),Hi(jv,{key:l.title,book:l,onClick:c=>a(l)},null,8,["book","onClick"]))),128))])):En("",!0),r.value.length?(tt(),Hi(rm,{key:2,ref:"container","open-book-list":r.value,"book-map":qr(t),onCloseBook:f[4]||(f[4]=l=>r.value.splice(l,1))},null,8,["open-book-list","book-map"])):En("",!0)],64))}}),um=Yt(om,[["__scopeId","data-v-4e115589"]]),Sf=sd(um);Sf.use(fd());Sf.mount("#app");
